


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > ISODateTimeFormat</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.joda.time.format</a>
</div>

<h1>Coverage Summary for Class: ISODateTimeFormat (org.joda.time.format)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ISODateTimeFormat</td>
<td class="coverageStat">
  <span class="percent">
    8.5%
  </span>
  <span class="absValue">
    (5/59)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    2.6%
  </span>
  <span class="absValue">
    (5/196)
  </span>
</td>
</tr>
  <tr>
    <td class="name">ISODateTimeFormat$Constants</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (61/61)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    88.4%
  </span>
  <span class="absValue">
    (214/242)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    55%
  </span>
  <span class="absValue">
    (66/120)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (219/438)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; *  Copyright 2001-2009 Stephen Colebourne
&nbsp; *
&nbsp; *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; *  you may not use this file except in compliance with the License.
&nbsp; *  You may obtain a copy of the License at
&nbsp; *
&nbsp; *      http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; *  Unless required by applicable law or agreed to in writing, software
&nbsp; *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; *  See the License for the specific language governing permissions and
&nbsp; *  limitations under the License.
&nbsp; */
&nbsp;package org.joda.time.format;
&nbsp;
&nbsp;import java.util.Collection;
&nbsp;import java.util.HashSet;
&nbsp;import java.util.Set;
&nbsp;
&nbsp;import org.joda.time.DateTimeFieldType;
&nbsp;
&nbsp;/**
&nbsp; * Factory that creates instances of DateTimeFormatter based on the ISO8601 standard.
&nbsp; * &lt;p&gt;
&nbsp; * Date-time formatting is performed by the {@link DateTimeFormatter} class.
&nbsp; * Three classes provide factory methods to create formatters, and this is one.
&nbsp; * The others are {@link DateTimeFormat} and {@link DateTimeFormatterBuilder}.
&nbsp; * &lt;p&gt;
&nbsp; * ISO8601 is the international standard for data interchange. It defines a
&nbsp; * framework, rather than an absolute standard. As a result this provider has a
&nbsp; * number of methods that represent common uses of the framework. The most common
&nbsp; * formats are {@link #date() date}, {@link #time() time}, and {@link #dateTime() dateTime}.
&nbsp; * &lt;p&gt;
&nbsp; * For example, to format a date time in ISO format:
&nbsp; * &lt;pre&gt;
&nbsp; * DateTime dt = new DateTime();
&nbsp; * DateTimeFormatter fmt = ISODateTimeFormat.dateTime();
&nbsp; * String str = fmt.print(dt);
&nbsp; * &lt;/pre&gt;
&nbsp; * &lt;p&gt;
&nbsp; * Note that these formatters mostly follow the ISO8601 standard for printing.
&nbsp; * For parsing, the formatters are more lenient and allow formats that are not
&nbsp; * in strict compliance with the standard.
&nbsp; * &lt;p&gt;
&nbsp; * It is important to understand that these formatters are not linked to
&nbsp; * the &lt;code&gt;ISOChronology&lt;/code&gt;. These formatters may be used with any
&nbsp; * chronology, however there may be certain side effects with more unusual
&nbsp; * chronologies. For example, the ISO formatters rely on dayOfWeek being
&nbsp; * single digit, dayOfMonth being two digit and dayOfYear being three digit.
&nbsp; * A chronology with a ten day week would thus cause issues. However, in
&nbsp; * general, it is safe to use these formatters with other chronologies.
&nbsp; * &lt;p&gt;
&nbsp; * ISODateTimeFormat is thread-safe and immutable, and the formatters it
&nbsp; * returns are as well.
&nbsp; *
&nbsp; * @author Brian S O&#39;Neill
&nbsp; * @since 1.0
&nbsp; * @see DateTimeFormat
&nbsp; * @see DateTimeFormatterBuilder
&nbsp; */
&nbsp;public class ISODateTimeFormat {
&nbsp;
&nbsp;    /**
&nbsp;     * Constructor.
&nbsp;     *
&nbsp;     * @since 1.1 (previously private)
&nbsp;     */
&nbsp;    protected ISODateTimeFormat() {
<b class="nc">&nbsp;        super();</b>
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Returns a formatter that outputs only those fields specified.
&nbsp;     * &lt;p&gt;
&nbsp;     * This method examines the fields provided and returns an ISO-style
&nbsp;     * formatter that best fits. This can be useful for outputting
&nbsp;     * less-common ISO styles, such as YearMonth (YYYY-MM) or MonthDay (--MM-DD).
&nbsp;     * &lt;p&gt;
&nbsp;     * The list provided may have overlapping fields, such as dayOfWeek and
&nbsp;     * dayOfMonth. In this case, the style is chosen based on the following
&nbsp;     * list, thus in the example, the calendar style is chosen as dayOfMonth
&nbsp;     * is higher in priority than dayOfWeek:
&nbsp;     * &lt;ul&gt;
&nbsp;     * &lt;li&gt;monthOfYear - calendar date style
&nbsp;     * &lt;li&gt;dayOfYear - ordinal date style
&nbsp;     * &lt;li&gt;weekOfWeekYear - week date style
&nbsp;     * &lt;li&gt;dayOfMonth - calendar date style
&nbsp;     * &lt;li&gt;dayOfWeek - week date style
&nbsp;     * &lt;li&gt;year
&nbsp;     * &lt;li&gt;weekyear
&nbsp;     * &lt;/ul&gt;
&nbsp;     * The supported formats are:
&nbsp;     * &lt;pre&gt;
&nbsp;     * Extended      Basic       Fields
&nbsp;     * 2005-03-25    20050325    year/monthOfYear/dayOfMonth
&nbsp;     * 2005-03       2005-03     year/monthOfYear
&nbsp;     * 2005--25      2005--25    year/dayOfMonth *
&nbsp;     * 2005          2005        year
&nbsp;     * --03-25       --0325      monthOfYear/dayOfMonth
&nbsp;     * --03          --03        monthOfYear
&nbsp;     * ---03         ---03       dayOfMonth
&nbsp;     * 2005-084      2005084     year/dayOfYear
&nbsp;     * -084          -084        dayOfYear
&nbsp;     * 2005-W12-5    2005W125    weekyear/weekOfWeekyear/dayOfWeek
&nbsp;     * 2005-W-5      2005W-5     weekyear/dayOfWeek *
&nbsp;     * 2005-W12      2005W12     weekyear/weekOfWeekyear
&nbsp;     * -W12-5        -W125       weekOfWeekyear/dayOfWeek
&nbsp;     * -W12          -W12        weekOfWeekyear
&nbsp;     * -W-5          -W-5        dayOfWeek
&nbsp;     * 10:20:30.040  102030.040  hour/minute/second/milli
&nbsp;     * 10:20:30      102030      hour/minute/second
&nbsp;     * 10:20         1020        hour/minute
&nbsp;     * 10            10          hour
&nbsp;     * -20:30.040    -2030.040   minute/second/milli
&nbsp;     * -20:30        -2030       minute/second
&nbsp;     * -20           -20         minute
&nbsp;     * --30.040      --30.040    second/milli
&nbsp;     * --30          --30        second
&nbsp;     * ---.040       ---.040     milli *
&nbsp;     * 10-30.040     10-30.040   hour/second/milli *
&nbsp;     * 10:20-.040    1020-.040   hour/minute/milli *
&nbsp;     * 10-30         10-30       hour/second *
&nbsp;     * 10--.040      10--.040    hour/milli *
&nbsp;     * -20-.040      -20-.040    minute/milli *
&nbsp;     *   plus datetime formats like {date}T{time}
&nbsp;     * &lt;/pre&gt;
&nbsp;     * * indiates that this is not an official ISO format and can be excluded
&nbsp;     * by passing in &lt;code&gt;strictISO&lt;/code&gt; as &lt;code&gt;true&lt;/code&gt;.
&nbsp;     * &lt;p&gt;
&nbsp;     * This method can side effect the input collection of fields.
&nbsp;     * If the input collection is modifiable, then each field that was added to
&nbsp;     * the formatter will be removed from the collection, including any duplicates.
&nbsp;     * If the input collection is unmodifiable then no side effect occurs.
&nbsp;     * &lt;p&gt;
&nbsp;     * This side effect processing is useful if you need to know whether all
&nbsp;     * the fields were converted into the formatter or not. To achieve this,
&nbsp;     * pass in a modifiable list, and check that it is empty on exit.
&nbsp;     *
&nbsp;     * @param fields  the fields to get a formatter for, not null,
&nbsp;     *  updated by the method call unless unmodifiable,
&nbsp;     *  removing those fields built in the formatter
&nbsp;     * @param extended  true to use the extended format (with separators)
&nbsp;     * @param strictISO  true to stick exactly to ISO8601, false to include additional formats
&nbsp;     * @return a suitable formatter
&nbsp;     * @throws IllegalArgumentException if there is no format for the fields
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter forFields(
&nbsp;        Collection&lt;DateTimeFieldType&gt; fields,
&nbsp;        boolean extended,
&nbsp;        boolean strictISO) {
&nbsp;        
<b class="nc">&nbsp;        if (fields == null || fields.size() == 0) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;The fields must not be null or empty&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        Set&lt;DateTimeFieldType&gt; workingFields = new HashSet&lt;DateTimeFieldType&gt;(fields);</b>
<b class="nc">&nbsp;        int inputSize = workingFields.size();</b>
<b class="nc">&nbsp;        boolean reducedPrec = false;</b>
<b class="nc">&nbsp;        DateTimeFormatterBuilder bld = new DateTimeFormatterBuilder();</b>
&nbsp;        // date
<b class="nc">&nbsp;        if (workingFields.contains(DateTimeFieldType.monthOfYear())) {</b>
<b class="nc">&nbsp;            reducedPrec = dateByMonth(bld, workingFields, extended, strictISO);</b>
<b class="nc">&nbsp;        } else if (workingFields.contains(DateTimeFieldType.dayOfYear())) {</b>
<b class="nc">&nbsp;            reducedPrec = dateByOrdinal(bld, workingFields, extended, strictISO);</b>
<b class="nc">&nbsp;        } else if (workingFields.contains(DateTimeFieldType.weekOfWeekyear())) {</b>
<b class="nc">&nbsp;            reducedPrec = dateByWeek(bld, workingFields, extended, strictISO);</b>
<b class="nc">&nbsp;        } else if (workingFields.contains(DateTimeFieldType.dayOfMonth())) {</b>
<b class="nc">&nbsp;            reducedPrec = dateByMonth(bld, workingFields, extended, strictISO);</b>
<b class="nc">&nbsp;        } else if (workingFields.contains(DateTimeFieldType.dayOfWeek())) {</b>
<b class="nc">&nbsp;            reducedPrec = dateByWeek(bld, workingFields, extended, strictISO);</b>
<b class="nc">&nbsp;        } else if (workingFields.remove(DateTimeFieldType.year())) {</b>
<b class="nc">&nbsp;            bld.append(Constants.ye);</b>
<b class="nc">&nbsp;            reducedPrec = true;</b>
<b class="nc">&nbsp;        } else if (workingFields.remove(DateTimeFieldType.weekyear())) {</b>
<b class="nc">&nbsp;            bld.append(Constants.we);</b>
<b class="nc">&nbsp;            reducedPrec = true;</b>
&nbsp;        }
<b class="nc">&nbsp;        boolean datePresent = (workingFields.size() &lt; inputSize);</b>
&nbsp;        
&nbsp;        // time
<b class="nc">&nbsp;        time(bld, workingFields, extended, strictISO, reducedPrec, datePresent);</b>
&nbsp;        
&nbsp;        // result
<b class="nc">&nbsp;        if (bld.canBuildFormatter() == false) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;No valid format for fields: &quot; + fields);</b>
&nbsp;        }
&nbsp;        
&nbsp;        // side effect the input collection to indicate the processed fields
&nbsp;        // handling unmodifiable collections with no side effect
&nbsp;        try {
<b class="nc">&nbsp;            fields.retainAll(workingFields);</b>
<b class="nc">&nbsp;        } catch (UnsupportedOperationException ex) {</b>
&nbsp;            // ignore, so we can handle unmodifiable collections
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return bld.toFormatter();</b>
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Creates a date using the calendar date format.
&nbsp;     * Specification reference: 5.2.1.
&nbsp;     *
&nbsp;     * @param bld  the builder
&nbsp;     * @param fields  the fields
&nbsp;     * @param extended  true to use extended format
&nbsp;     * @param strictISO  true to only allow ISO formats
&nbsp;     * @return true if reduced precision
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static boolean dateByMonth(
&nbsp;        DateTimeFormatterBuilder bld,
&nbsp;        Collection&lt;DateTimeFieldType&gt; fields,
&nbsp;        boolean extended,
&nbsp;        boolean strictISO) {
&nbsp;        
<b class="nc">&nbsp;        boolean reducedPrec = false;</b>
<b class="nc">&nbsp;        if (fields.remove(DateTimeFieldType.year())) {</b>
<b class="nc">&nbsp;            bld.append(Constants.ye);</b>
<b class="nc">&nbsp;            if (fields.remove(DateTimeFieldType.monthOfYear())) {</b>
<b class="nc">&nbsp;                if (fields.remove(DateTimeFieldType.dayOfMonth())) {</b>
&nbsp;                    // YYYY-MM-DD/YYYYMMDD
<b class="nc">&nbsp;                    appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                    bld.appendMonthOfYear(2);</b>
<b class="nc">&nbsp;                    appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                    bld.appendDayOfMonth(2);</b>
&nbsp;                } else {
&nbsp;                    // YYYY-MM/YYYY-MM
<b class="nc">&nbsp;                    bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;                    bld.appendMonthOfYear(2);</b>
<b class="nc">&nbsp;                    reducedPrec = true;</b>
&nbsp;                }
&nbsp;            } else {
<b class="nc">&nbsp;                if (fields.remove(DateTimeFieldType.dayOfMonth())) {</b>
&nbsp;                    // YYYY--DD/YYYY--DD (non-iso)
<b class="nc">&nbsp;                    checkNotStrictISO(fields, strictISO);</b>
<b class="nc">&nbsp;                    bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;                    bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;                    bld.appendDayOfMonth(2);</b>
&nbsp;                } else {
&nbsp;                    // YYYY/YYYY
<b class="nc">&nbsp;                    reducedPrec = true;</b>
&nbsp;                }
&nbsp;            }
&nbsp;            
<b class="nc">&nbsp;        } else if (fields.remove(DateTimeFieldType.monthOfYear())) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendMonthOfYear(2);</b>
<b class="nc">&nbsp;            if (fields.remove(DateTimeFieldType.dayOfMonth())) {</b>
&nbsp;                // --MM-DD/--MMDD
<b class="nc">&nbsp;                appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                bld.appendDayOfMonth(2);</b>
&nbsp;            } else {
&nbsp;                // --MM/--MM
<b class="nc">&nbsp;                reducedPrec = true;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (fields.remove(DateTimeFieldType.dayOfMonth())) {</b>
&nbsp;            // ---DD/---DD
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendDayOfMonth(2);</b>
&nbsp;        }
<b class="nc">&nbsp;        return reducedPrec;</b>
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Creates a date using the ordinal date format.
&nbsp;     * Specification reference: 5.2.2.
&nbsp;     *
&nbsp;     * @param bld  the builder
&nbsp;     * @param fields  the fields
&nbsp;     * @param extended  true to use extended format
&nbsp;     * @param strictISO  true to only allow ISO formats
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static boolean dateByOrdinal(
&nbsp;        DateTimeFormatterBuilder bld,
&nbsp;        Collection&lt;DateTimeFieldType&gt; fields,
&nbsp;        boolean extended,
&nbsp;        boolean strictISO) {
&nbsp;        
<b class="nc">&nbsp;        boolean reducedPrec = false;</b>
<b class="nc">&nbsp;        if (fields.remove(DateTimeFieldType.year())) {</b>
<b class="nc">&nbsp;            bld.append(Constants.ye);</b>
<b class="nc">&nbsp;            if (fields.remove(DateTimeFieldType.dayOfYear())) {</b>
&nbsp;                // YYYY-DDD/YYYYDDD
<b class="nc">&nbsp;                appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                bld.appendDayOfYear(3);</b>
&nbsp;            } else {
&nbsp;                // YYYY/YYYY
<b class="nc">&nbsp;                reducedPrec = true;</b>
&nbsp;            }
&nbsp;            
<b class="nc">&nbsp;        } else if (fields.remove(DateTimeFieldType.dayOfYear())) {</b>
&nbsp;            // -DDD/-DDD
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendDayOfYear(3);</b>
&nbsp;        }
<b class="nc">&nbsp;        return reducedPrec;</b>
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Creates a date using the calendar date format.
&nbsp;     * Specification reference: 5.2.3.
&nbsp;     *
&nbsp;     * @param bld  the builder
&nbsp;     * @param fields  the fields
&nbsp;     * @param extended  true to use extended format
&nbsp;     * @param strictISO  true to only allow ISO formats
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static boolean dateByWeek(
&nbsp;        DateTimeFormatterBuilder bld,
&nbsp;        Collection&lt;DateTimeFieldType&gt; fields,
&nbsp;        boolean extended,
&nbsp;        boolean strictISO) {
&nbsp;        
<b class="nc">&nbsp;        boolean reducedPrec = false;</b>
<b class="nc">&nbsp;        if (fields.remove(DateTimeFieldType.weekyear())) {</b>
<b class="nc">&nbsp;            bld.append(Constants.we);</b>
<b class="nc">&nbsp;            if (fields.remove(DateTimeFieldType.weekOfWeekyear())) {</b>
<b class="nc">&nbsp;                appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                bld.appendLiteral(&#39;W&#39;);</b>
<b class="nc">&nbsp;                bld.appendWeekOfWeekyear(2);</b>
<b class="nc">&nbsp;                if (fields.remove(DateTimeFieldType.dayOfWeek())) {</b>
&nbsp;                    // YYYY-WWW-D/YYYYWWWD
<b class="nc">&nbsp;                    appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                    bld.appendDayOfWeek(1);</b>
&nbsp;                } else {
&nbsp;                    // YYYY-WWW/YYYY-WWW
<b class="nc">&nbsp;                    reducedPrec = true;</b>
&nbsp;                }
&nbsp;            } else {
<b class="nc">&nbsp;                if (fields.remove(DateTimeFieldType.dayOfWeek())) {</b>
&nbsp;                    // YYYY-W-D/YYYYW-D (non-iso)
<b class="nc">&nbsp;                    checkNotStrictISO(fields, strictISO);</b>
<b class="nc">&nbsp;                    appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                    bld.appendLiteral(&#39;W&#39;);</b>
<b class="nc">&nbsp;                    bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;                    bld.appendDayOfWeek(1);</b>
&nbsp;                } else {
&nbsp;                    // YYYY/YYYY
<b class="nc">&nbsp;                    reducedPrec = true;</b>
&nbsp;                }
&nbsp;            }
&nbsp;            
<b class="nc">&nbsp;        } else if (fields.remove(DateTimeFieldType.weekOfWeekyear())) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;W&#39;);</b>
<b class="nc">&nbsp;            bld.appendWeekOfWeekyear(2);</b>
<b class="nc">&nbsp;            if (fields.remove(DateTimeFieldType.dayOfWeek())) {</b>
&nbsp;                // -WWW-D/-WWWD
<b class="nc">&nbsp;                appendSeparator(bld, extended);</b>
<b class="nc">&nbsp;                bld.appendDayOfWeek(1);</b>
&nbsp;            } else {
&nbsp;                // -WWW/-WWW
<b class="nc">&nbsp;                reducedPrec = true;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (fields.remove(DateTimeFieldType.dayOfWeek())) {</b>
&nbsp;            // -W-D/-W-D
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;W&#39;);</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
<b class="nc">&nbsp;            bld.appendDayOfWeek(1);</b>
&nbsp;        }
<b class="nc">&nbsp;        return reducedPrec;</b>
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Adds the time fields to the builder.
&nbsp;     * Specification reference: 5.3.1.
&nbsp;     * 
&nbsp;     * @param bld  the builder
&nbsp;     * @param fields  the fields
&nbsp;     * @param extended  whether to use the extended format
&nbsp;     * @param strictISO  whether to be strict
&nbsp;     * @param reducedPrec  whether the date was reduced precision
&nbsp;     * @param datePresent  whether there was a date
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static void time(
&nbsp;        DateTimeFormatterBuilder bld,
&nbsp;        Collection&lt;DateTimeFieldType&gt; fields,
&nbsp;        boolean extended,
&nbsp;        boolean strictISO,
&nbsp;        boolean reducedPrec,
&nbsp;        boolean datePresent) {
&nbsp;        
<b class="nc">&nbsp;        boolean hour = fields.remove(DateTimeFieldType.hourOfDay());</b>
<b class="nc">&nbsp;        boolean minute = fields.remove(DateTimeFieldType.minuteOfHour());</b>
<b class="nc">&nbsp;        boolean second = fields.remove(DateTimeFieldType.secondOfMinute());</b>
<b class="nc">&nbsp;        boolean milli = fields.remove(DateTimeFieldType.millisOfSecond());</b>
<b class="nc">&nbsp;        if (!hour &amp;&amp; !minute &amp;&amp; !second &amp;&amp; !milli) {</b>
&nbsp;            return;
&nbsp;        }
<b class="nc">&nbsp;        if (hour || minute || second || milli) {</b>
<b class="nc">&nbsp;            if (strictISO &amp;&amp; reducedPrec) {</b>
<b class="nc">&nbsp;                throw new IllegalArgumentException(&quot;No valid ISO8601 format for fields because Date was reduced precision: &quot; + fields);</b>
&nbsp;            }
<b class="nc">&nbsp;            if (datePresent) {</b>
<b class="nc">&nbsp;                bld.appendLiteral(&#39;T&#39;);</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        if (hour &amp;&amp; minute &amp;&amp; second || (hour &amp;&amp; !second &amp;&amp; !milli)) {</b>
&nbsp;            // OK - HMSm/HMS/HM/H - valid in combination with date
&nbsp;        } else {
<b class="nc">&nbsp;            if (strictISO &amp;&amp; datePresent) {</b>
<b class="nc">&nbsp;                throw new IllegalArgumentException(&quot;No valid ISO8601 format for fields because Time was truncated: &quot; + fields);</b>
&nbsp;            }
<b class="nc">&nbsp;            if (!hour &amp;&amp; (minute &amp;&amp; second || (minute &amp;&amp; !milli) || second)) {</b>
&nbsp;                // OK - MSm/MS/M/Sm/S - valid ISO formats
&nbsp;            } else {
<b class="nc">&nbsp;                if (strictISO) {</b>
<b class="nc">&nbsp;                    throw new IllegalArgumentException(&quot;No valid ISO8601 format for fields: &quot; + fields);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        if (hour) {</b>
<b class="nc">&nbsp;            bld.appendHourOfDay(2);</b>
<b class="nc">&nbsp;        } else if (minute || second || milli) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (extended &amp;&amp; hour &amp;&amp; minute) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;:&#39;);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minute) {</b>
<b class="nc">&nbsp;            bld.appendMinuteOfHour(2);</b>
<b class="nc">&nbsp;        } else if (second || milli) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (extended &amp;&amp; minute &amp;&amp; second) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;:&#39;);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (second) {</b>
<b class="nc">&nbsp;            bld.appendSecondOfMinute(2);</b>
<b class="nc">&nbsp;        } else if (milli) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (milli) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;.&#39;);</b>
<b class="nc">&nbsp;            bld.appendMillisOfSecond(3);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Checks that the iso only flag is not set, throwing an exception if it is.
&nbsp;     * 
&nbsp;     * @param fields  the fields
&nbsp;     * @param strictISO  true if only ISO formats allowed
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static void checkNotStrictISO(Collection&lt;DateTimeFieldType&gt; fields, boolean strictISO) {
<b class="nc">&nbsp;        if (strictISO) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;No valid ISO8601 format for fields: &quot; + fields);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Appends the separator if necessary.
&nbsp;     *
&nbsp;     * @param bld  the builder
&nbsp;     * @param extended  whether to append the separator
&nbsp;     * @param sep  the separator
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    private static void appendSeparator(DateTimeFormatterBuilder bld, boolean extended) {
<b class="nc">&nbsp;        if (extended) {</b>
<b class="nc">&nbsp;            bld.appendLiteral(&#39;-&#39;);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Returns a generic ISO date parser for parsing dates with a possible zone.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * date              = date-element [&#39;T&#39; offset]
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
&nbsp;     * offset            = &#39;Z&#39; | ((&#39;+&#39; | &#39;-&#39;) HH [&#39;:&#39; mm [&#39;:&#39; ss [(&#39;.&#39; | &#39;,&#39;) SSS]]])
&nbsp;     * &lt;/pre&gt;
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateParser() {
&nbsp;        return Constants.dp;
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    /**
&nbsp;     * Returns a generic ISO date parser for parsing local dates.
&nbsp;     * This parser is initialised with the local (UTC) time zone.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
&nbsp;     * &lt;/pre&gt;
&nbsp;     * @since 1.3
&nbsp;     */
&nbsp;    public static DateTimeFormatter localDateParser() {
&nbsp;        return Constants.ldp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO date parser for parsing dates.
<b class="nc">&nbsp;     * &lt;p&gt;</b>
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
&nbsp;     * &lt;/pre&gt;
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateElementParser() {
&nbsp;        return Constants.dpe;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO time parser for parsing times with a possible zone.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
<b class="nc">&nbsp;     * It accepts formats described by the following syntax:</b>
&nbsp;     * &lt;pre&gt;
&nbsp;     * time           = [&#39;T&#39;] time-element [offset]
&nbsp;     * time-element   = HH [minute-element] | [fraction]
&nbsp;     * minute-element = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element = &#39;:&#39; ss [fraction]
&nbsp;     * fraction       = (&#39;.&#39; | &#39;,&#39;) digit+
&nbsp;     * offset         = &#39;Z&#39; | ((&#39;+&#39; | &#39;-&#39;) HH [&#39;:&#39; mm [&#39;:&#39; ss [(&#39;.&#39; | &#39;,&#39;) SSS]]])
&nbsp;     * &lt;/pre&gt;
&nbsp;     */
&nbsp;    public static DateTimeFormatter timeParser() {
&nbsp;        return Constants.tp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO time parser for parsing local times.
&nbsp;     * This parser is initialised with the local (UTC) time zone.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
<b class="nc">&nbsp;     * time           = [&#39;T&#39;] time-element</b>
&nbsp;     * time-element   = HH [minute-element] | [fraction]
&nbsp;     * minute-element = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element = &#39;:&#39; ss [fraction]
&nbsp;     * fraction       = (&#39;.&#39; | &#39;,&#39;) digit+
&nbsp;     * &lt;/pre&gt;
&nbsp;     * @since 1.3
&nbsp;     */
&nbsp;    public static DateTimeFormatter localTimeParser() {
&nbsp;        return Constants.ltp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO time parser.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * time-element   = HH [minute-element] | [fraction]
&nbsp;     * minute-element = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element = &#39;:&#39; ss [fraction]
&nbsp;     * fraction       = (&#39;.&#39; | &#39;,&#39;) digit+
<b class="nc">&nbsp;     * &lt;/pre&gt;</b>
&nbsp;     */
&nbsp;    public static DateTimeFormatter timeElementParser() {
&nbsp;        return Constants.tpe;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO datetime parser which parses either a date or
&nbsp;     * a time or both. The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * datetime          = time | date-opt-time
&nbsp;     * time              = &#39;T&#39; time-element [offset]
&nbsp;     * date-opt-time     = date-element [&#39;T&#39; [time-element] [offset]]
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
<b class="nc">&nbsp;     * time-element      = HH [minute-element] | [fraction]</b>
&nbsp;     * minute-element    = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element    = &#39;:&#39; ss [fraction]
&nbsp;     * fraction          = (&#39;.&#39; | &#39;,&#39;) digit+
&nbsp;     * offset            = &#39;Z&#39; | ((&#39;+&#39; | &#39;-&#39;) HH [&#39;:&#39; mm [&#39;:&#39; ss [(&#39;.&#39; | &#39;,&#39;) SSS]]])
&nbsp;     * &lt;/pre&gt;
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateTimeParser() {
&nbsp;        return Constants.dtp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO datetime parser where the date is mandatory and
&nbsp;     * the time is optional. This parser can parse zoned datetimes.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * date-opt-time     = date-element [&#39;T&#39; [time-element] [offset]]
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
&nbsp;     * time-element      = HH [minute-element] | [fraction]
&nbsp;     * minute-element    = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element    = &#39;:&#39; ss [fraction]
&nbsp;     * fraction          = (&#39;.&#39; | &#39;,&#39;) digit+
<b class="fc">&nbsp;     * &lt;/pre&gt;</b>
&nbsp;     * @since 1.3
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateOptionalTimeParser() {
&nbsp;        return Constants.dotp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a generic ISO datetime parser where the date is mandatory and
&nbsp;     * the time is optional. This parser only parses local datetimes.
&nbsp;     * This parser is initialised with the local (UTC) time zone.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * &lt;p&gt;
&nbsp;     * It accepts formats described by the following syntax:
&nbsp;     * &lt;pre&gt;
&nbsp;     * datetime          = date-element [&#39;T&#39; time-element]
&nbsp;     * date-element      = std-date-element | ord-date-element | week-date-element
&nbsp;     * std-date-element  = yyyy [&#39;-&#39; MM [&#39;-&#39; dd]]
&nbsp;     * ord-date-element  = yyyy [&#39;-&#39; DDD]
&nbsp;     * week-date-element = xxxx &#39;-W&#39; ww [&#39;-&#39; e]
&nbsp;     * time-element      = HH [minute-element] | [fraction]
&nbsp;     * minute-element    = &#39;:&#39; mm [second-element] | [fraction]
&nbsp;     * second-element    = &#39;:&#39; ss [fraction]
&nbsp;     * fraction          = (&#39;.&#39; | &#39;,&#39;) digit+
&nbsp;     * &lt;/pre&gt;
&nbsp;     * @since 1.3
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter localDateOptionalTimeParser() {
&nbsp;        return Constants.ldotp;
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Returns a formatter for a full date as four digit year, two digit month
&nbsp;     * of year, and two digit day of month (yyyy-MM-dd).
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd
&nbsp;     */
&nbsp;    public static DateTimeFormatter date() {
&nbsp;        return yearMonthDay();
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, three digit fraction of second, and
&nbsp;     * time zone offset (HH:mm:ss.SSSZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm:ss.SSSZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter time() {
&nbsp;        return Constants.t;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, and time zone offset (HH:mm:ssZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm:ssZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter timeNoMillis() {
&nbsp;        return Constants.tx;
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    /**</b>
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, three digit fraction of second, and
&nbsp;     * time zone offset prefixed by &#39;T&#39; (&#39;T&#39;HH:mm:ss.SSSZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for &#39;T&#39;HH:mm:ss.SSSZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter tTime() {
&nbsp;        return Constants.tt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, and time zone offset prefixed
&nbsp;     * by &#39;T&#39; (&#39;T&#39;HH:mm:ssZZ).
<b class="nc">&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.</b>
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for &#39;T&#39;HH:mm:ssZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter tTimeNoMillis() {
&nbsp;        return Constants.ttx;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date and time, separated by a &#39;T&#39;
&nbsp;     * (yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZ
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter dateTime() {
&nbsp;        return Constants.dt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date and time without millis,
&nbsp;     * separated by a &#39;T&#39; (yyyy-MM-dd&#39;T&#39;HH:mm:ssZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm:ssZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateTimeNoMillis() {
&nbsp;        return Constants.dtx;
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    /**</b>
&nbsp;     * Returns a formatter for a full ordinal date, using a four
&nbsp;     * digit year and three digit dayOfYear (yyyy-DDD).
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-DDD
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter ordinalDate() {
&nbsp;        return Constants.od;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full ordinal date and time, using a four
&nbsp;     * digit year and three digit dayOfYear (yyyy-DDD&#39;T&#39;HH:mm:ss.SSSZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
<b class="nc">&nbsp;     * @return a formatter for yyyy-DDD&#39;T&#39;HH:mm:ss.SSSZZ</b>
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter ordinalDateTime() {
&nbsp;        return Constants.odt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full ordinal date and time without millis,
&nbsp;     * using a four digit year and three digit dayOfYear (yyyy-DDD&#39;T&#39;HH:mm:ssZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-DDD&#39;T&#39;HH:mm:ssZZ
&nbsp;     * @since 1.1
&nbsp;     */
<b class="nc">&nbsp;    public static DateTimeFormatter ordinalDateTimeNoMillis() {</b>
&nbsp;        return Constants.odtx;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full date as four digit weekyear, two digit
&nbsp;     * week of weekyear, and one digit day of week (xxxx-&#39;W&#39;ww-e).
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx-&#39;W&#39;ww-e
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekDate() {
&nbsp;        return Constants.wwd;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full weekyear date and time,
<b class="nc">&nbsp;     * separated by a &#39;T&#39; (xxxx-&#39;W&#39;ww-e&#39;T&#39;HH:mm:ss.SSSZZ).</b>
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx-&#39;W&#39;ww-e&#39;T&#39;HH:mm:ss.SSSZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekDateTime() {
&nbsp;        return Constants.wdt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full weekyear date and time without millis,
&nbsp;     * separated by a &#39;T&#39; (xxxx-&#39;W&#39;ww-e&#39;T&#39;HH:mm:ssZZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HH:mm&#39; for non-zero.
<b class="nc">&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.</b>
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx-&#39;W&#39;ww-e&#39;T&#39;HH:mm:ssZZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekDateTimeNoMillis() {
&nbsp;        return Constants.wdtx;
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a full date as four digit year, two digit
&nbsp;     * month of year, and two digit day of month (yyyyMMdd).
&nbsp;     * 
&nbsp;     * @return a formatter for yyyyMMdd
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicDate() {
&nbsp;        return Constants.bd;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a two digit hour of day, two digit minute
&nbsp;     * of hour, two digit second of minute, three digit millis, and time zone
&nbsp;     * offset (HHmmss.SSSZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for HHmmss.SSSZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicTime() {
&nbsp;        return Constants.bt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a two digit hour of day, two digit minute
<b class="nc">&nbsp;     * of hour, two digit second of minute, and time zone offset (HHmmssZ).</b>
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for HHmmssZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicTimeNoMillis() {
&nbsp;        return Constants.btx;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a two digit hour of day, two digit minute
&nbsp;     * of hour, two digit second of minute, three digit millis, and time zone
<b class="fc">&nbsp;     * offset prefixed by &#39;T&#39; (&#39;T&#39;HHmmss.SSSZ).</b>
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for &#39;T&#39;HHmmss.SSSZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicTTime() {
&nbsp;        return Constants.btt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a two digit hour of day, two digit minute
&nbsp;     * of hour, two digit second of minute, and time zone offset prefixed by &#39;T&#39;
&nbsp;     * (&#39;T&#39;HHmmssZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
<b class="nc">&nbsp;     * </b>
&nbsp;     * @return a formatter for &#39;T&#39;HHmmssZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicTTimeNoMillis() {
&nbsp;        return Constants.bttx;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter that combines a basic date and time, separated
&nbsp;     * by a &#39;T&#39; (yyyyMMdd&#39;T&#39;HHmmss.SSSZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyyMMdd&#39;T&#39;HHmmss.SSSZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicDateTime() {
<b class="nc">&nbsp;        return Constants.bdt;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter that combines a basic date and time without millis,
&nbsp;     * separated by a &#39;T&#39; (yyyyMMdd&#39;T&#39;HHmmssZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyyMMdd&#39;T&#39;HHmmssZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicDateTimeNoMillis() {
&nbsp;        return Constants.bdtx;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full ordinal date, using a four
&nbsp;     * digit year and three digit dayOfYear (yyyyDDD).
&nbsp;     * 
&nbsp;     * @return a formatter for yyyyDDD
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicOrdinalDate() {
&nbsp;        return Constants.bod;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full ordinal date and time, using a four
&nbsp;     * digit year and three digit dayOfYear (yyyyDDD&#39;T&#39;HHmmss.SSSZ).
<b class="nc">&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.</b>
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyyDDD&#39;T&#39;HHmmss.SSSZ
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicOrdinalDateTime() {
&nbsp;        return Constants.bodt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a full ordinal date and time without millis,
&nbsp;     * using a four digit year and three digit dayOfYear (yyyyDDD&#39;T&#39;HHmmssZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
<b class="nc">&nbsp;     * </b>
&nbsp;     * @return a formatter for yyyyDDD&#39;T&#39;HHmmssZ
&nbsp;     * @since 1.1
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicOrdinalDateTimeNoMillis() {
&nbsp;        return Constants.bodtx;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter for a full date as four digit weekyear, two
&nbsp;     * digit week of weekyear, and one digit day of week (xxxx&#39;W&#39;wwe).
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx&#39;W&#39;wwe
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicWeekDate() {
&nbsp;        return Constants.bwd;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter that combines a basic weekyear date and time,
&nbsp;     * separated by a &#39;T&#39; (xxxx&#39;W&#39;wwe&#39;T&#39;HHmmss.SSSZ).
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx&#39;W&#39;wwe&#39;T&#39;HHmmss.SSSZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicWeekDateTime() {
&nbsp;        return Constants.bwdt;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a basic formatter that combines a basic weekyear date and time
<b class="nc">&nbsp;     * without millis, separated by a &#39;T&#39; (xxxx&#39;W&#39;wwe&#39;T&#39;HHmmssZ).</b>
&nbsp;     * The time zone offset is &#39;Z&#39; for zero, and of the form &#39;\u00b1HHmm&#39; for non-zero.
&nbsp;     * The parser is strict by default, thus time string {@code 24:00} cannot be parsed.
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx&#39;W&#39;wwe&#39;T&#39;HHmmssZ
&nbsp;     */
&nbsp;    public static DateTimeFormatter basicWeekDateTimeNoMillis() {
&nbsp;        return Constants.bwdtx;
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Returns a formatter for a four digit year. (yyyy)
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter year() {
&nbsp;        return Constants.ye;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a four digit year and two digit month of
&nbsp;     * year. (yyyy-MM)
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM
&nbsp;     */
&nbsp;    public static DateTimeFormatter yearMonth() {
&nbsp;        return Constants.ym;
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    /**</b>
&nbsp;     * Returns a formatter for a four digit year, two digit month of year, and
&nbsp;     * two digit day of month. (yyyy-MM-dd)
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd
&nbsp;     */
&nbsp;    public static DateTimeFormatter yearMonthDay() {
&nbsp;        return Constants.ymd;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a four digit weekyear. (xxxx)
&nbsp;     * 
<b class="nc">&nbsp;     * @return a formatter for xxxx</b>
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekyear() {
&nbsp;        return Constants.we;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a four digit weekyear and two digit week of
&nbsp;     * weekyear. (xxxx-&#39;W&#39;ww)
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx-&#39;W&#39;ww
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekyearWeek() {
&nbsp;        return Constants.ww;
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    /**</b>
&nbsp;     * Returns a formatter for a four digit weekyear, two digit week of
&nbsp;     * weekyear, and one digit day of week. (xxxx-&#39;W&#39;ww-e)
&nbsp;     * 
&nbsp;     * @return a formatter for xxxx-&#39;W&#39;ww-e
&nbsp;     */
&nbsp;    public static DateTimeFormatter weekyearWeekDay() {
&nbsp;        return Constants.wwd;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day. (HH)
&nbsp;     * 
&nbsp;     * @return a formatter for HH
&nbsp;     */
&nbsp;    public static DateTimeFormatter hour() {
<b class="nc">&nbsp;        return Constants.hde;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day and two digit minute of
&nbsp;     * hour. (HH:mm)
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm
&nbsp;     */
&nbsp;    public static DateTimeFormatter hourMinute() {
&nbsp;        return Constants.hm;
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, and two digit second of minute. (HH:mm:ss)
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm:ss
&nbsp;     */
&nbsp;    public static DateTimeFormatter hourMinuteSecond() {
&nbsp;        return Constants.hms;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, and three digit fraction of
&nbsp;     * second (HH:mm:ss.SSS). Parsing will parse up to 3 fractional second
<b class="nc">&nbsp;     * digits.</b>
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm:ss.SSS
&nbsp;     */
&nbsp;    public static DateTimeFormatter hourMinuteSecondMillis() {
&nbsp;        return Constants.hmsl;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter for a two digit hour of day, two digit minute of
&nbsp;     * hour, two digit second of minute, and three digit fraction of
&nbsp;     * second (HH:mm:ss.SSS). Parsing will parse up to 9 fractional second
&nbsp;     * digits, throwing away all except the first three.
&nbsp;     * 
&nbsp;     * @return a formatter for HH:mm:ss.SSS
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter hourMinuteSecondFraction() {
&nbsp;        return Constants.hmsf;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date and two digit hour of
&nbsp;     * day. (yyyy-MM-dd&#39;T&#39;HH)
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter dateHour() {
&nbsp;        return Constants.dh;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date, two digit hour of day,
&nbsp;     * and two digit minute of hour. (yyyy-MM-dd&#39;T&#39;HH:mm)
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm
<b class="nc">&nbsp;     */</b>
&nbsp;    public static DateTimeFormatter dateHourMinute() {
&nbsp;        return Constants.dhm;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date, two digit hour of day,
&nbsp;     * two digit minute of hour, and two digit second of
&nbsp;     * minute. (yyyy-MM-dd&#39;T&#39;HH:mm:ss)
&nbsp;     * 
<b class="fc">&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm:ss</b>
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateHourMinuteSecond() {
&nbsp;        return Constants.dhms;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a formatter that combines a full date, two digit hour of day,
&nbsp;     * two digit minute of hour, two digit second of minute, and three digit
<b class="nc">&nbsp;     * fraction of second (yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS). Parsing will parse up</b>
&nbsp;     * to 3 fractional second digits.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateHourMinuteSecondMillis() {
&nbsp;        return Constants.dhmsl;
&nbsp;    }
&nbsp;
&nbsp;    /**
<b class="nc">&nbsp;     * Returns a formatter that combines a full date, two digit hour of day,</b>
&nbsp;     * two digit minute of hour, two digit second of minute, and three digit
&nbsp;     * fraction of second (yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS). Parsing will parse up
&nbsp;     * to 9 fractional second digits, throwing away all except the first three.
&nbsp;     * 
&nbsp;     * @return a formatter for yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS
&nbsp;     */
&nbsp;    public static DateTimeFormatter dateHourMinuteSecondFraction() {
&nbsp;        return Constants.dhmsf;
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    static final class Constants {
&nbsp;        private static final DateTimeFormatter
&nbsp;            ye = yearElement(),  // year element (yyyy)
&nbsp;            mye = monthElement(), // monthOfYear element (-MM)
&nbsp;            dme = dayOfMonthElement(), // dayOfMonth element (-dd)
&nbsp;            we = weekyearElement(),  // weekyear element (xxxx)
&nbsp;            wwe = weekElement(), // weekOfWeekyear element (-ww)
<b class="fc">&nbsp;            dwe = dayOfWeekElement(), // dayOfWeek element (-ee)</b>
&nbsp;            dye = dayOfYearElement(), // dayOfYear element (-DDD)
&nbsp;            hde = hourElement(), // hourOfDay element (HH)
&nbsp;            mhe = minuteElement(), // minuteOfHour element (:mm)
&nbsp;            sme = secondElement(), // secondOfMinute element (:ss)
&nbsp;            fse = fractionElement(), // fractionOfSecond element (.SSSSSSSSS)
&nbsp;            ze = offsetElement(),  // zone offset element
&nbsp;            lte = literalTElement(), // literal &#39;T&#39; element
&nbsp;            
&nbsp;            //y,   // year (same as year element)
<b class="nc">&nbsp;            ym = yearMonth(),  // year month</b>
&nbsp;            ymd = yearMonthDay(), // year month day
&nbsp;
&nbsp;            //w,   // weekyear (same as weekyear element)
&nbsp;            ww = weekyearWeek(),  // weekyear week
&nbsp;            wwd = weekyearWeekDay(), // weekyear week day
&nbsp;
&nbsp;            //h,    // hour (same as hour element)
&nbsp;            hm = hourMinute(),   // hour minute
&nbsp;            hms = hourMinuteSecond(),  // hour minute second
<b class="nc">&nbsp;            hmsl = hourMinuteSecondMillis(), // hour minute second millis</b>
&nbsp;            hmsf = hourMinuteSecondFraction(), // hour minute second fraction
&nbsp;
&nbsp;            dh = dateHour(),    // date hour
&nbsp;            dhm = dateHourMinute(),   // date hour minute
&nbsp;            dhms = dateHourMinuteSecond(),  // date hour minute second
&nbsp;            dhmsl = dateHourMinuteSecondMillis(), // date hour minute second millis
&nbsp;            dhmsf = dateHourMinuteSecondFraction(), // date hour minute second fraction
&nbsp;
&nbsp;            //d,  // date (same as ymd)
&nbsp;            t = time(),  // time
&nbsp;            tx = timeNoMillis(),  // time no millis
<b class="nc">&nbsp;            tt = tTime(),  // Ttime</b>
&nbsp;            ttx = tTimeNoMillis(),  // Ttime no millis
&nbsp;            dt = dateTime(), // date time
&nbsp;            dtx = dateTimeNoMillis(), // date time no millis
&nbsp;
&nbsp;            //wd,  // week date (same as wwd)
&nbsp;            wdt = weekDateTime(), // week date time
&nbsp;            wdtx = weekDateTimeNoMillis(), // week date time no millis
&nbsp;
&nbsp;            od = ordinalDate(),  // ordinal date (same as yd)
&nbsp;            odt = ordinalDateTime(), // ordinal date time
&nbsp;            odtx = ordinalDateTimeNoMillis(), // ordinal date time no millis
<b class="nc">&nbsp;</b>
&nbsp;            bd = basicDate(),  // basic date
&nbsp;            bt = basicTime(),  // basic time
&nbsp;            btx = basicTimeNoMillis(),  // basic time no millis
&nbsp;            btt = basicTTime(), // basic Ttime
&nbsp;            bttx = basicTTimeNoMillis(), // basic Ttime no millis
&nbsp;            bdt = basicDateTime(), // basic date time
&nbsp;            bdtx = basicDateTimeNoMillis(), // basic date time no millis
&nbsp;
&nbsp;            bod = basicOrdinalDate(),  // basic ordinal date
<b class="nc">&nbsp;            bodt = basicOrdinalDateTime(), // basic ordinal date time</b>
&nbsp;            bodtx = basicOrdinalDateTimeNoMillis(), // basic ordinal date time no millis
&nbsp;
&nbsp;            bwd = basicWeekDate(),  // basic week date
&nbsp;            bwdt = basicWeekDateTime(), // basic week date time
&nbsp;            bwdtx = basicWeekDateTimeNoMillis(), // basic week date time no millis
&nbsp;
&nbsp;            dpe = dateElementParser(), // date parser element
&nbsp;            tpe = timeElementParser(), // time parser element
&nbsp;            dp = dateParser(),  // date parser
<b class="nc">&nbsp;            ldp = localDateParser(), // local date parser</b>
&nbsp;            tp = timeParser(),  // time parser
&nbsp;            ltp = localTimeParser(), // local time parser
&nbsp;            dtp = dateTimeParser(), // date time parser
&nbsp;            dotp = dateOptionalTimeParser(), // date optional time parser
&nbsp;            ldotp = localDateOptionalTimeParser(); // local date optional time parser
&nbsp;
&nbsp;        //-----------------------------------------------------------------------
&nbsp;        private static DateTimeFormatter dateParser() {
&nbsp;            if (dp == null) {
&nbsp;                DateTimeParser tOffset = new DateTimeFormatterBuilder()
<b class="nc">&nbsp;                    .appendLiteral(&#39;T&#39;)</b>
&nbsp;                    .append(offsetElement()).toParser();
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(dateElementParser())
&nbsp;                    .appendOptional(tOffset)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return dp;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter localDateParser() {
&nbsp;            if (ldp == null) {
<b class="nc">&nbsp;                return dateElementParser().withZoneUTC();</b>
&nbsp;            }
&nbsp;            return ldp;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateElementParser() {
&nbsp;            if (dpe == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(null, new DateTimeParser[] {
&nbsp;                        new DateTimeFormatterBuilder()
&nbsp;                        .append(yearElement())
&nbsp;                        .appendOptional
<b class="nc">&nbsp;                        (new DateTimeFormatterBuilder()</b>
&nbsp;                         .append(monthElement())
&nbsp;                         .appendOptional(dayOfMonthElement().getParser())
&nbsp;                         .toParser())
<b class="fc">&nbsp;                        .toParser(),</b>
&nbsp;                        new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                        .append(weekyearElement())</b>
<b class="fc">&nbsp;                        .append(weekElement())</b>
<b class="fc">&nbsp;                        .appendOptional(dayOfWeekElement().getParser())</b>
<b class="fc">&nbsp;                        .toParser(),</b>
<b class="fc">&nbsp;                        new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                        .append(yearElement())</b>
<b class="fc">&nbsp;                        .append(dayOfYearElement())</b>
<b class="fc">&nbsp;                        .toParser()</b>
<b class="fc">&nbsp;                    })</b>
<b class="fc">&nbsp;                    .toFormatter();</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return dpe;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter timeParser() {
<b class="fc">&nbsp;            if (tp == null) {</b>
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .appendOptional(literalTElement().getParser())
&nbsp;                    .append(timeElementParser())
<b class="fc">&nbsp;                    .appendOptional(offsetElement().getParser())</b>
<b class="fc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return tp;
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        private static DateTimeFormatter localTimeParser() {</b>
<b class="fc">&nbsp;            if (ltp == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .appendOptional(literalTElement().getParser())</b>
<b class="fc">&nbsp;                    .append(timeElementParser())</b>
<b class="fc">&nbsp;                    .toFormatter().withZoneUTC();</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return ltp;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        private static DateTimeFormatter timeElementParser() {</b>
<b class="fc">&nbsp;            if (tpe == null) {</b>
<b class="fc">&nbsp;                // Decimal point can be either &#39;.&#39; or &#39;,&#39;</b>
<b class="fc">&nbsp;                DateTimeParser decimalPoint = new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .append(null, new DateTimeParser[] {</b>
<b class="fc">&nbsp;                        new DateTimeFormatterBuilder()</b>
&nbsp;                        .appendLiteral(&#39;.&#39;)
&nbsp;                        .toParser(),
<b class="fc">&nbsp;                        new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                        .appendLiteral(&#39;,&#39;)</b>
&nbsp;                        .toParser()
<b class="fc">&nbsp;                    })</b>
<b class="fc">&nbsp;                    .toParser();</b>
<b class="fc">&nbsp;</b>
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    // time-element</b>
<b class="fc">&nbsp;                    .append(hourElement())</b>
<b class="fc">&nbsp;                    .append</b>
<b class="fc">&nbsp;                    (null, new DateTimeParser[] {</b>
<b class="fc">&nbsp;                        new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                        // minute-element</b>
<b class="fc">&nbsp;                        .append(minuteElement())</b>
&nbsp;                        .append
<b class="fc">&nbsp;                        (null, new DateTimeParser[] {</b>
<b class="fc">&nbsp;                            new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                            // second-element</b>
&nbsp;                            .append(secondElement())
<b class="fc">&nbsp;                            // second fraction</b>
<b class="fc">&nbsp;                            .appendOptional(new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                                            .append(decimalPoint)</b>
&nbsp;                                            .appendFractionOfSecond(1, 9)
<b class="fc">&nbsp;                                            .toParser())</b>
<b class="fc">&nbsp;                            .toParser(),</b>
<b class="fc">&nbsp;                            // minute fraction</b>
<b class="fc">&nbsp;                            new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                            .append(decimalPoint)</b>
<b class="fc">&nbsp;                            .appendFractionOfMinute(1, 9)</b>
<b class="fc">&nbsp;                            .toParser(),</b>
<b class="fc">&nbsp;                            null</b>
<b class="fc">&nbsp;                        })</b>
&nbsp;                        .toParser(),
&nbsp;                        // hour fraction
&nbsp;                        new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                        .append(decimalPoint)</b>
<b class="fc">&nbsp;                        .appendFractionOfHour(1, 9)</b>
&nbsp;                        .toParser(),
&nbsp;                        null
<b class="fc">&nbsp;                    })</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return tpe;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter dateTimeParser() {
&nbsp;            if (dtp == null) {
&nbsp;                // This is different from the general time parser in that the &#39;T&#39;
<b class="fc">&nbsp;                // is required.</b>
<b class="fc">&nbsp;                DateTimeParser time = new DateTimeFormatterBuilder()</b>
&nbsp;                    .appendLiteral(&#39;T&#39;)
<b class="nc">&nbsp;                    .append(timeElementParser())</b>
&nbsp;                    .appendOptional(offsetElement().getParser())
&nbsp;                    .toParser();
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(null, new DateTimeParser[] {time, dateOptionalTimeParser().getParser()})</b>
<b class="fc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return dtp;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateOptionalTimeParser() {
&nbsp;            if (dotp == null) {
&nbsp;                DateTimeParser timeOrOffset = new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;T&#39;)
&nbsp;                    .appendOptional(timeElementParser().getParser())
&nbsp;                    .appendOptional(offsetElement().getParser())
&nbsp;                    .toParser();
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(dateElementParser())
&nbsp;                    .appendOptional(timeOrOffset)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return dotp;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter localDateOptionalTimeParser() {
&nbsp;            if (ldotp == null) {
<b class="fc">&nbsp;                DateTimeParser time = new DateTimeFormatterBuilder()</b>
&nbsp;                    .appendLiteral(&#39;T&#39;)
&nbsp;                    .append(timeElementParser())
&nbsp;                    .toParser();
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .append(dateElementParser())</b>
&nbsp;                    .appendOptional(time)
&nbsp;                    .toFormatter().withZoneUTC();
&nbsp;            }
&nbsp;            return ldotp;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        //-----------------------------------------------------------------------
&nbsp;        private static DateTimeFormatter time() {
&nbsp;            if (t == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .append(hourMinuteSecondFraction())</b>
&nbsp;                    .append(offsetElement())
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return t;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter timeNoMillis() {
&nbsp;            if (tx == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(hourMinuteSecond())
<b class="fc">&nbsp;                    .append(offsetElement())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return tx;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter tTime() {
&nbsp;            if (tt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(time())
<b class="fc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return tt;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter tTimeNoMillis() {
&nbsp;            if (ttx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(timeNoMillis())
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return ttx;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateTime() {
&nbsp;            if (dt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(date())
&nbsp;                    .append(tTime())
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return dt;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateTimeNoMillis() {
&nbsp;            if (dtx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(date())
&nbsp;                    .append(tTimeNoMillis())
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return dtx;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter ordinalDate() {
<b class="fc">&nbsp;            if (od == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(yearElement())
&nbsp;                    .append(dayOfYearElement())
<b class="fc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return od;
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter ordinalDateTime() {
&nbsp;            if (odt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(ordinalDate())</b>
&nbsp;                    .append(tTime())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="nc">&nbsp;            return odt;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter ordinalDateTimeNoMillis() {
<b class="fc">&nbsp;            if (odtx == null) {</b>
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(ordinalDate())
&nbsp;                    .append(tTimeNoMillis())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return odtx;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter weekDateTime() {
&nbsp;            if (wdt == null) {
<b class="nc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(weekDate())
&nbsp;                    .append(tTime())
&nbsp;                    .toFormatter();
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return wdt;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter weekDateTimeNoMillis() {
<b class="fc">&nbsp;            if (wdtx == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(weekDate())
&nbsp;                    .append(tTimeNoMillis())
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return wdtx;
&nbsp;        }
&nbsp;
&nbsp;        //-----------------------------------------------------------------------
<b class="fc">&nbsp;        private static DateTimeFormatter basicDate() {</b>
<b class="fc">&nbsp;            if (bd == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendYear(4, 4)
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.monthOfYear(), 2)
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.dayOfMonth(), 2)
<b class="fc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return bd;
&nbsp;        }
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        private static DateTimeFormatter basicTime() {</b>
&nbsp;            if (bt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.hourOfDay(), 2)
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.minuteOfHour(), 2)
<b class="fc">&nbsp;                    .appendFixedDecimal(DateTimeFieldType.secondOfMinute(), 2)</b>
&nbsp;                    .appendLiteral(&#39;.&#39;)
&nbsp;                    .appendFractionOfSecond(3, 9)
&nbsp;                    .appendTimeZoneOffset(&quot;Z&quot;, false, 2, 2)
<b class="fc">&nbsp;                    .toFormatter();</b>
<b class="fc">&nbsp;            }</b>
&nbsp;            return bt;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter basicTimeNoMillis() {
<b class="fc">&nbsp;            if (btx == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.hourOfDay(), 2)
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.minuteOfHour(), 2)
<b class="fc">&nbsp;                    .appendFixedDecimal(DateTimeFieldType.secondOfMinute(), 2)</b>
<b class="fc">&nbsp;                    .appendTimeZoneOffset(&quot;Z&quot;, false, 2, 2)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return btx;
&nbsp;        }
<b class="fc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicTTime() {
&nbsp;            if (btt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(literalTElement())</b>
<b class="fc">&nbsp;                    .append(basicTime())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return btt;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicTTimeNoMillis() {
&nbsp;            if (bttx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(literalTElement())</b>
<b class="fc">&nbsp;                    .append(basicTimeNoMillis())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bttx;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicDateTime() {
&nbsp;            if (bdt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicDate())</b>
<b class="fc">&nbsp;                    .append(basicTTime())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bdt;
&nbsp;        }
<b class="fc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicDateTimeNoMillis() {
&nbsp;            if (bdtx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicDate())</b>
<b class="fc">&nbsp;                    .append(basicTTimeNoMillis())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bdtx;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicOrdinalDate() {
&nbsp;            if (bod == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .appendYear(4, 4)</b>
<b class="fc">&nbsp;                    .appendFixedDecimal(DateTimeFieldType.dayOfYear(), 3)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bod;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicOrdinalDateTime() {
&nbsp;            if (bodt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicOrdinalDate())</b>
<b class="fc">&nbsp;                    .append(basicTTime())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bodt;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicOrdinalDateTimeNoMillis() {
&nbsp;            if (bodtx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicOrdinalDate())</b>
<b class="fc">&nbsp;                    .append(basicTTimeNoMillis())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bodtx;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicWeekDate() {
&nbsp;            if (bwd == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendWeekyear(4, 4)
<b class="fc">&nbsp;                    .appendLiteral(&#39;W&#39;)</b>
<b class="fc">&nbsp;                    .appendFixedDecimal(DateTimeFieldType.weekOfWeekyear(), 2)</b>
&nbsp;                    .appendFixedDecimal(DateTimeFieldType.dayOfWeek(), 1)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bwd;
&nbsp;        }
<b class="fc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter basicWeekDateTime() {
&nbsp;            if (bwdt == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicWeekDate())</b>
<b class="fc">&nbsp;                    .append(basicTTime())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return bwdt;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter basicWeekDateTimeNoMillis() {
&nbsp;            if (bwdtx == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(basicWeekDate())</b>
&nbsp;                    .append(basicTTimeNoMillis())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return bwdtx;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        //-----------------------------------------------------------------------
&nbsp;        private static DateTimeFormatter yearMonth() {
&nbsp;            if (ym == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(yearElement())
<b class="fc">&nbsp;                    .append(monthElement())</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return ym;
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;</b>
&nbsp;        private static DateTimeFormatter yearMonthDay() {
&nbsp;            if (ymd == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(yearElement())
<b class="fc">&nbsp;                    .append(monthElement())</b>
&nbsp;                    .append(dayOfMonthElement())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return ymd;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter weekyearWeek() {
&nbsp;            if (ww == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .append(weekyearElement())</b>
&nbsp;                    .append(weekElement())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return ww;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter weekyearWeekDay() {
&nbsp;            if (wwd == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="nc">&nbsp;                    .append(weekyearElement())</b>
&nbsp;                    .append(weekElement())
&nbsp;                    .append(dayOfWeekElement())
&nbsp;                    .toFormatter();
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return wwd;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter hourMinute() {
&nbsp;            if (hm == null) {
<b class="nc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(hourElement())
&nbsp;                    .append(minuteElement())
&nbsp;                    .toFormatter();
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return hm;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter hourMinuteSecond() {
&nbsp;            if (hms == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(hourElement())
&nbsp;                    .append(minuteElement())
&nbsp;                    .append(secondElement())
<b class="fc">&nbsp;                    .toFormatter();</b>
<b class="fc">&nbsp;            }</b>
&nbsp;            return hms;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter hourMinuteSecondMillis() {
<b class="nc">&nbsp;            if (hmsl == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(hourElement())
&nbsp;                    .append(minuteElement())
<b class="fc">&nbsp;                    .append(secondElement())</b>
<b class="fc">&nbsp;                    .appendLiteral(&#39;.&#39;)</b>
&nbsp;                    .appendFractionOfSecond(3, 3)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return hmsl;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter hourMinuteSecondFraction() {
&nbsp;            if (hmsf == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .append(hourElement())</b>
&nbsp;                    .append(minuteElement())
&nbsp;                    .append(secondElement())
&nbsp;                    .append(fractionElement())
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return hmsf;
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        private static DateTimeFormatter dateHour() {
&nbsp;            if (dh == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .append(date())</b>
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(hour())
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="nc">&nbsp;            return dh;</b>
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateHourMinute() {
<b class="fc">&nbsp;            if (dhm == null) {</b>
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(date())
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(hourMinute())
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return dhm;
&nbsp;        }
&nbsp;
&nbsp;        private static DateTimeFormatter dateHourMinuteSecond() {
<b class="fc">&nbsp;            if (dhms == null) {</b>
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .append(date())
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(hourMinuteSecond())
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return dhms;
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        private static DateTimeFormatter dateHourMinuteSecondMillis() {</b>
<b class="fc">&nbsp;            if (dhmsl == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(date())
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(hourMinuteSecondMillis())
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return dhmsl;
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        private static DateTimeFormatter dateHourMinuteSecondFraction() {</b>
<b class="fc">&nbsp;            if (dhmsf == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .append(date())
&nbsp;                    .append(literalTElement())
&nbsp;                    .append(hourMinuteSecondFraction())
<b class="nc">&nbsp;                    .toFormatter();</b>
&nbsp;            }
&nbsp;            return dhmsf;
&nbsp;        }
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        //-----------------------------------------------------------------------</b>
&nbsp;        private static DateTimeFormatter yearElement() {
&nbsp;            if (ye == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendYear(4, 9)
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return ye;
&nbsp;        }
&nbsp;    
<b class="fc">&nbsp;        private static DateTimeFormatter monthElement() {</b>
<b class="fc">&nbsp;            if (mye == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;-&#39;)
&nbsp;                    .appendMonthOfYear(2)
&nbsp;                    .toFormatter();
<b class="fc">&nbsp;            }</b>
&nbsp;            return mye;
&nbsp;        }
&nbsp;    
<b class="fc">&nbsp;        private static DateTimeFormatter dayOfMonthElement() {</b>
<b class="fc">&nbsp;            if (dme == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;-&#39;)
&nbsp;                    .appendDayOfMonth(2)
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return dme;</b>
&nbsp;        }
&nbsp;    
&nbsp;        private static DateTimeFormatter weekyearElement() {
<b class="fc">&nbsp;            if (we == null) {</b>
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
&nbsp;                    .appendWeekyear(4, 9)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return we;
&nbsp;        }
&nbsp;    
&nbsp;        private static DateTimeFormatter weekElement() {
<b class="fc">&nbsp;            if (wwe == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&quot;-W&quot;)
&nbsp;                    .appendWeekOfWeekyear(2)
<b class="fc">&nbsp;                    .toFormatter();</b>
<b class="fc">&nbsp;            }</b>
&nbsp;            return wwe;
&nbsp;        }
&nbsp;    
&nbsp;        private static DateTimeFormatter dayOfWeekElement() {
&nbsp;            if (dwe == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .appendLiteral(&#39;-&#39;)</b>
&nbsp;                    .appendDayOfWeek(1)
&nbsp;                    .toFormatter();
&nbsp;            }
<b class="fc">&nbsp;            return dwe;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    
&nbsp;        private static DateTimeFormatter dayOfYearElement() {
&nbsp;            if (dye == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;-&#39;)
<b class="nc">&nbsp;                    .appendDayOfYear(3)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return dye;
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;        </b>
&nbsp;        private static DateTimeFormatter literalTElement() {
&nbsp;            if (lte == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;T&#39;)
&nbsp;                    .toFormatter();
<b class="nc">&nbsp;            }</b>
&nbsp;            return lte;
&nbsp;        }
&nbsp;    
<b class="fc">&nbsp;        private static DateTimeFormatter hourElement() {</b>
<b class="fc">&nbsp;            if (hde == null) {</b>
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendHourOfDay(2)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return hde;
<b class="nc">&nbsp;        }</b>
&nbsp;    
&nbsp;        private static DateTimeFormatter minuteElement() {
&nbsp;            if (mhe == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .appendLiteral(&#39;:&#39;)</b>
&nbsp;                    .appendMinuteOfHour(2)
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return mhe;
&nbsp;        }
<b class="nc">&nbsp;    </b>
&nbsp;        private static DateTimeFormatter secondElement() {
&nbsp;            if (sme == null) {
&nbsp;                return new DateTimeFormatterBuilder()
<b class="fc">&nbsp;                    .appendLiteral(&#39;:&#39;)</b>
<b class="fc">&nbsp;                    .appendSecondOfMinute(2)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return sme;
&nbsp;        }
&nbsp;    
<b class="nc">&nbsp;        private static DateTimeFormatter fractionElement() {</b>
&nbsp;            if (fse == null) {
&nbsp;                return new DateTimeFormatterBuilder()
&nbsp;                    .appendLiteral(&#39;.&#39;)
&nbsp;                    // Support parsing up to nanosecond precision even though
<b class="fc">&nbsp;                    // those extra digits will be dropped.</b>
<b class="fc">&nbsp;                    .appendFractionOfSecond(3, 9)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return fse;
<b class="fc">&nbsp;        }</b>
&nbsp;    
&nbsp;        private static DateTimeFormatter offsetElement() {
&nbsp;            if (ze == null) {
<b class="fc">&nbsp;                return new DateTimeFormatterBuilder()</b>
<b class="fc">&nbsp;                    .appendTimeZoneOffset(&quot;Z&quot;, true, 2, 4)</b>
&nbsp;                    .toFormatter();
&nbsp;            }
&nbsp;            return ze;
&nbsp;        }
<b class="fc">&nbsp;</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-04 09:32</div>
</div>
</body>
</html>
