


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > LimitChronology</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.joda.time.chrono</a>
</div>

<h1>Coverage Summary for Class: LimitChronology (org.joda.time.chrono)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">LimitChronology</td>
<td class="coverageStat">
  <span class="percent">
    31.2%
  </span>
  <span class="absValue">
    (5/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    51.8%
  </span>
  <span class="absValue">
    (58/112)
  </span>
</td>
</tr>
  <tr>
    <td class="name">LimitChronology$LimitDateTimeField</td>
<td class="coverageStat">
  <span class="percent">
    3.8%
  </span>
  <span class="absValue">
    (1/26)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    8%
  </span>
  <span class="absValue">
    (6/75)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LimitChronology$LimitDurationField</td>
<td class="coverageStat">
  <span class="percent">
    11.1%
  </span>
  <span class="absValue">
    (1/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    12%
  </span>
  <span class="absValue">
    (3/25)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LimitChronology$LimitException</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/23)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    13%
  </span>
  <span class="absValue">
    (7/54)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    28.5%
  </span>
  <span class="absValue">
    (67/235)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; *  Copyright 2001-2013 Stephen Colebourne
&nbsp; *
&nbsp; *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; *  you may not use this file except in compliance with the License.
&nbsp; *  You may obtain a copy of the License at
&nbsp; *
&nbsp; *      http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; *  Unless required by applicable law or agreed to in writing, software
&nbsp; *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; *  See the License for the specific language governing permissions and
&nbsp; *  limitations under the License.
&nbsp; */
&nbsp;package org.joda.time.chrono;
&nbsp;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.Locale;
&nbsp;
&nbsp;import org.joda.time.Chronology;
&nbsp;import org.joda.time.DateTime;
&nbsp;import org.joda.time.DateTimeField;
&nbsp;import org.joda.time.DateTimeZone;
&nbsp;import org.joda.time.DurationField;
&nbsp;import org.joda.time.MutableDateTime;
&nbsp;import org.joda.time.ReadableDateTime;
&nbsp;import org.joda.time.field.DecoratedDateTimeField;
&nbsp;import org.joda.time.field.DecoratedDurationField;
&nbsp;import org.joda.time.field.FieldUtils;
&nbsp;import org.joda.time.format.DateTimeFormatter;
&nbsp;import org.joda.time.format.ISODateTimeFormat;
&nbsp;
&nbsp;/**
&nbsp; * Wraps another Chronology to impose limits on the range of instants that
&nbsp; * the fields within a Chronology may support. The limits are applied to both
&nbsp; * DateTimeFields and DurationFields.
&nbsp; * &lt;p&gt;
&nbsp; * Methods in DateTimeField and DurationField throw an IllegalArgumentException
&nbsp; * whenever given an input instant that is outside the limits or when an
&nbsp; * attempt is made to move an instant outside the limits.
&nbsp; * &lt;p&gt;
&nbsp; * LimitChronology is thread-safe and immutable.
&nbsp; *
&nbsp; * @author Brian S O&#39;Neill
&nbsp; * @author Stephen Colebourne
&nbsp; * @since 1.0
&nbsp; */
&nbsp;public final class LimitChronology extends AssembledChronology {
&nbsp;
&nbsp;    /** Serialization lock */
&nbsp;    private static final long serialVersionUID = 7670866536893052522L;
&nbsp;
&nbsp;    /**
&nbsp;     * Wraps another chronology, with datetime limits. When withUTC or
&nbsp;     * withZone is called, the returned LimitChronology instance has
&nbsp;     * the same limits, except they are time zone adjusted.
&nbsp;     *
&nbsp;     * @param base  base chronology to wrap
&nbsp;     * @param lowerLimit  inclusive lower limit, or null if none
&nbsp;     * @param upperLimit  exclusive upper limit, or null if none
&nbsp;     * @throws IllegalArgumentException if chronology is null or limits are invalid
&nbsp;     */
&nbsp;    public static LimitChronology getInstance(Chronology base,
&nbsp;                                              ReadableDateTime lowerLimit,
&nbsp;                                              ReadableDateTime upperLimit) {
<b class="fc">&nbsp;        if (base == null) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;Must supply a chronology&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        lowerLimit = lowerLimit == null ? null : lowerLimit.toDateTime();</b>
<b class="fc">&nbsp;        upperLimit = upperLimit == null ? null : upperLimit.toDateTime();</b>
&nbsp;
<b class="fc">&nbsp;        if (lowerLimit != null &amp;&amp; upperLimit != null) {</b>
<b class="nc">&nbsp;            if (!lowerLimit.isBefore(upperLimit)) {</b>
&nbsp;                throw new IllegalArgumentException
&nbsp;                    (&quot;The lower limit must be come before than the upper limit&quot;);
&nbsp;            }
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        return new LimitChronology(base, (DateTime)lowerLimit, (DateTime)upperLimit);
&nbsp;    }
&nbsp;
&nbsp;    final DateTime iLowerLimit;
&nbsp;    final DateTime iUpperLimit;
&nbsp;
&nbsp;    private transient LimitChronology iWithUTC;
&nbsp;
&nbsp;    /**
&nbsp;     * Wraps another chronology, with datetime limits. When withUTC or
&nbsp;     * withZone is called, the returned LimitChronology instance has
&nbsp;     * the same limits, except they are time zone adjusted.
&nbsp;     *
&nbsp;     * @param lowerLimit  inclusive lower limit, or null if none
&nbsp;     * @param upperLimit  exclusive upper limit, or null if none
&nbsp;     */
<b class="fc">&nbsp;    private LimitChronology(Chronology base,</b>
&nbsp;                            DateTime lowerLimit, DateTime upperLimit) {
<b class="fc">&nbsp;        super(base, null);</b>
<b class="fc">&nbsp;        // These can be set after assembly.</b>
<b class="fc">&nbsp;        iLowerLimit = lowerLimit;</b>
&nbsp;        iUpperLimit = upperLimit;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the inclusive lower limit instant.
&nbsp;     * 
&nbsp;     * @return lower limit
<b class="nc">&nbsp;     */</b>
&nbsp;    public DateTime getLowerLimit() {
&nbsp;        return iLowerLimit;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the inclusive upper limit instant.
&nbsp;     * 
&nbsp;     * @return upper limit
<b class="nc">&nbsp;     */</b>
&nbsp;    public DateTime getUpperLimit() {
&nbsp;        return iUpperLimit;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * If this LimitChronology is already UTC, then this is
&nbsp;     * returned. Otherwise, a new instance is returned, with the limits
&nbsp;     * adjusted to the new time zone.
<b class="nc">&nbsp;     */</b>
&nbsp;    public Chronology withUTC() {
&nbsp;        return withZone(DateTimeZone.UTC);
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * If this LimitChronology has the same time zone as the one given, then
&nbsp;     * this is returned. Otherwise, a new instance is returned, with the limits
&nbsp;     * adjusted to the new time zone.
<b class="nc">&nbsp;     */</b>
<b class="nc">&nbsp;    public Chronology withZone(DateTimeZone zone) {</b>
&nbsp;        if (zone == null) {
<b class="nc">&nbsp;            zone = DateTimeZone.getDefault();</b>
<b class="nc">&nbsp;        }</b>
&nbsp;        if (zone == getZone()) {
&nbsp;            return this;
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        if (zone == DateTimeZone.UTC &amp;&amp; iWithUTC != null) {
&nbsp;            return iWithUTC;
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        DateTime lowerLimit = iLowerLimit;</b>
<b class="nc">&nbsp;        if (lowerLimit != null) {</b>
<b class="nc">&nbsp;            MutableDateTime mdt = lowerLimit.toMutableDateTime();</b>
&nbsp;            mdt.setZoneRetainFields(zone);
&nbsp;            lowerLimit = mdt.toDateTime();
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        DateTime upperLimit = iUpperLimit;</b>
<b class="nc">&nbsp;        if (upperLimit != null) {</b>
<b class="nc">&nbsp;            MutableDateTime mdt = upperLimit.toMutableDateTime();</b>
&nbsp;            mdt.setZoneRetainFields(zone);
&nbsp;            upperLimit = mdt.toDateTime();
<b class="nc">&nbsp;        }</b>
&nbsp;        
&nbsp;        LimitChronology chrono = getInstance
<b class="nc">&nbsp;            (getBase().withZone(zone), lowerLimit, upperLimit);</b>
<b class="nc">&nbsp;</b>
&nbsp;        if (zone == DateTimeZone.UTC) {
&nbsp;            iWithUTC = chrono;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        return chrono;
&nbsp;    }
&nbsp;
&nbsp;    public long getDateTimeMillis(int year, int monthOfYear, int dayOfMonth,
&nbsp;                                  int millisOfDay)
<b class="nc">&nbsp;        throws IllegalArgumentException</b>
<b class="nc">&nbsp;    {</b>
<b class="nc">&nbsp;        long instant = getBase().getDateTimeMillis(year, monthOfYear, dayOfMonth, millisOfDay);</b>
&nbsp;        checkLimits(instant, &quot;resulting&quot;);
&nbsp;        return instant;
&nbsp;    }
&nbsp;
&nbsp;    public long getDateTimeMillis(int year, int monthOfYear, int dayOfMonth,
&nbsp;                                  int hourOfDay, int minuteOfHour,
&nbsp;                                  int secondOfMinute, int millisOfSecond)
<b class="nc">&nbsp;        throws IllegalArgumentException</b>
&nbsp;    {
&nbsp;        long instant = getBase().getDateTimeMillis
<b class="nc">&nbsp;            (year, monthOfYear, dayOfMonth,</b>
<b class="nc">&nbsp;             hourOfDay, minuteOfHour, secondOfMinute, millisOfSecond);</b>
&nbsp;        checkLimits(instant, &quot;resulting&quot;);
&nbsp;        return instant;
&nbsp;    }
&nbsp;
&nbsp;    public long getDateTimeMillis(long instant,
&nbsp;                                  int hourOfDay, int minuteOfHour,
&nbsp;                                  int secondOfMinute, int millisOfSecond)
<b class="nc">&nbsp;        throws IllegalArgumentException</b>
<b class="nc">&nbsp;    {</b>
&nbsp;        checkLimits(instant, null);
<b class="nc">&nbsp;        instant = getBase().getDateTimeMillis</b>
<b class="nc">&nbsp;            (instant, hourOfDay, minuteOfHour, secondOfMinute, millisOfSecond);</b>
&nbsp;        checkLimits(instant, &quot;resulting&quot;);
&nbsp;        return instant;
&nbsp;    }
&nbsp;
&nbsp;    protected void assemble(Fields fields) {
<b class="fc">&nbsp;        // Keep a local cache of converted fields so as not to create redundant</b>
&nbsp;        // objects.
&nbsp;        HashMap&lt;Object, Object&gt; converted = new HashMap&lt;Object, Object&gt;();
&nbsp;
<b class="fc">&nbsp;        // Convert duration fields...</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        fields.eras = convertField(fields.eras, converted);</b>
<b class="fc">&nbsp;        fields.centuries = convertField(fields.centuries, converted);</b>
<b class="fc">&nbsp;        fields.years = convertField(fields.years, converted);</b>
<b class="fc">&nbsp;        fields.months = convertField(fields.months, converted);</b>
<b class="fc">&nbsp;        fields.weekyears = convertField(fields.weekyears, converted);</b>
&nbsp;        fields.weeks = convertField(fields.weeks, converted);
<b class="fc">&nbsp;        fields.days = convertField(fields.days, converted);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        fields.halfdays = convertField(fields.halfdays, converted);</b>
<b class="fc">&nbsp;        fields.hours = convertField(fields.hours, converted);</b>
<b class="fc">&nbsp;        fields.minutes = convertField(fields.minutes, converted);</b>
&nbsp;        fields.seconds = convertField(fields.seconds, converted);
&nbsp;        fields.millis = convertField(fields.millis, converted);
&nbsp;
<b class="fc">&nbsp;        // Convert datetime fields...</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        fields.year = convertField(fields.year, converted);</b>
<b class="fc">&nbsp;        fields.yearOfEra = convertField(fields.yearOfEra, converted);</b>
<b class="fc">&nbsp;        fields.yearOfCentury = convertField(fields.yearOfCentury, converted);</b>
<b class="fc">&nbsp;        fields.centuryOfEra = convertField(fields.centuryOfEra, converted);</b>
<b class="fc">&nbsp;        fields.era = convertField(fields.era, converted);</b>
<b class="fc">&nbsp;        fields.dayOfWeek = convertField(fields.dayOfWeek, converted);</b>
<b class="fc">&nbsp;        fields.dayOfMonth = convertField(fields.dayOfMonth, converted);</b>
<b class="fc">&nbsp;        fields.dayOfYear = convertField(fields.dayOfYear, converted);</b>
<b class="fc">&nbsp;        fields.monthOfYear = convertField(fields.monthOfYear, converted);</b>
<b class="fc">&nbsp;        fields.weekOfWeekyear = convertField(fields.weekOfWeekyear, converted);</b>
&nbsp;        fields.weekyear = convertField(fields.weekyear, converted);
<b class="fc">&nbsp;        fields.weekyearOfCentury = convertField(fields.weekyearOfCentury, converted);</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        fields.millisOfSecond = convertField(fields.millisOfSecond, converted);</b>
<b class="fc">&nbsp;        fields.millisOfDay = convertField(fields.millisOfDay, converted);</b>
<b class="fc">&nbsp;        fields.secondOfMinute = convertField(fields.secondOfMinute, converted);</b>
<b class="fc">&nbsp;        fields.secondOfDay = convertField(fields.secondOfDay, converted);</b>
<b class="fc">&nbsp;        fields.minuteOfHour = convertField(fields.minuteOfHour, converted);</b>
<b class="fc">&nbsp;        fields.minuteOfDay = convertField(fields.minuteOfDay, converted);</b>
<b class="fc">&nbsp;        fields.hourOfDay = convertField(fields.hourOfDay, converted);</b>
<b class="fc">&nbsp;        fields.hourOfHalfday = convertField(fields.hourOfHalfday, converted);</b>
<b class="fc">&nbsp;        fields.clockhourOfDay = convertField(fields.clockhourOfDay, converted);</b>
<b class="fc">&nbsp;        fields.clockhourOfHalfday = convertField(fields.clockhourOfHalfday, converted);</b>
&nbsp;        fields.halfdayOfDay = convertField(fields.halfdayOfDay, converted);
&nbsp;    }
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;    private DurationField convertField(DurationField field, HashMap&lt;Object, Object&gt; converted) {</b>
&nbsp;        if (field == null || !field.isSupported()) {
<b class="fc">&nbsp;            return field;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;        if (converted.containsKey(field)) {
<b class="fc">&nbsp;            return (DurationField)converted.get(field);</b>
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;        LimitDurationField limitField = new LimitDurationField(field);</b>
&nbsp;        converted.put(field, limitField);
&nbsp;        return limitField;
&nbsp;    }
<b class="fc">&nbsp;</b>
<b class="nc">&nbsp;    private DateTimeField convertField(DateTimeField field, HashMap&lt;Object, Object&gt; converted) {</b>
&nbsp;        if (field == null || !field.isSupported()) {
<b class="fc">&nbsp;            return field;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;        if (converted.containsKey(field)) {
<b class="fc">&nbsp;            return (DateTimeField)converted.get(field);</b>
&nbsp;        }
&nbsp;        LimitDateTimeField limitField =
&nbsp;            new LimitDateTimeField(field,
&nbsp;                                   convertField(field.getDurationField(), converted),
<b class="fc">&nbsp;                                   convertField(field.getRangeDurationField(), converted),</b>
<b class="fc">&nbsp;                                   convertField(field.getLeapDurationField(), converted));</b>
&nbsp;        converted.put(field, limitField);
&nbsp;        return limitField;
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    void checkLimits(long instant, String desc) {</b>
<b class="nc">&nbsp;        DateTime limit;</b>
&nbsp;        if ((limit = iLowerLimit) != null &amp;&amp; instant &lt; limit.getMillis()) {
<b class="nc">&nbsp;            throw new LimitException(desc, true);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;        if ((limit = iUpperLimit) != null &amp;&amp; instant &gt;= limit.getMillis()) {
<b class="nc">&nbsp;            throw new LimitException(desc, false);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * A limit chronology is only equal to a limit chronology with the
&nbsp;     * same base chronology and limits.
&nbsp;     * 
&nbsp;     * @param obj  the object to compare to
&nbsp;     * @return true if equal
&nbsp;     * @since 1.4
<b class="nc">&nbsp;     */</b>
<b class="nc">&nbsp;    public boolean equals(Object obj) {</b>
&nbsp;        if (this == obj) {
<b class="nc">&nbsp;            return true;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;        if (obj instanceof LimitChronology == false) {
<b class="nc">&nbsp;            return false;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;        LimitChronology chrono = (LimitChronology) obj;
&nbsp;        return
&nbsp;            getBase().equals(chrono.getBase()) &amp;&amp;
&nbsp;            FieldUtils.equals(getLowerLimit(), chrono.getLowerLimit()) &amp;&amp;
&nbsp;            FieldUtils.equals(getUpperLimit(), chrono.getUpperLimit());
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * A suitable hashcode for the chronology.
&nbsp;     * 
&nbsp;     * @return the hashcode
&nbsp;     * @since 1.4
<b class="nc">&nbsp;     */</b>
<b class="nc">&nbsp;    public int hashCode() {</b>
<b class="nc">&nbsp;        int hash = 317351877;</b>
<b class="nc">&nbsp;        hash += (getLowerLimit() != null ? getLowerLimit().hashCode() : 0);</b>
<b class="nc">&nbsp;        hash += (getUpperLimit() != null ? getUpperLimit().hashCode() : 0);</b>
&nbsp;        hash += getBase().hashCode() * 7;
&nbsp;        return hash;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * A debugging string for the chronology.
&nbsp;     * 
&nbsp;     * @return the debugging string
<b class="nc">&nbsp;     */</b>
&nbsp;    public String toString() {
&nbsp;        return &quot;LimitChronology[&quot; + getBase().toString() + &quot;, &quot; +
&nbsp;            (getLowerLimit() == null ? &quot;NoLimit&quot; : getLowerLimit().toString()) + &quot;, &quot; +
&nbsp;            (getUpperLimit() == null ? &quot;NoLimit&quot; : getUpperLimit().toString()) + &#39;]&#39;;
&nbsp;    }
&nbsp;
&nbsp;    //-----------------------------------------------------------------------
&nbsp;    /**
&nbsp;     * Extends IllegalArgumentException such that the exception message is not
&nbsp;     * generated unless it is actually requested.
&nbsp;     */
&nbsp;    private class LimitException extends IllegalArgumentException {
&nbsp;        private static final long serialVersionUID = -5924689995607498581L;
&nbsp;
<b class="nc">&nbsp;        private final boolean iIsLow;</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        LimitException(String desc, boolean isLow) {</b>
<b class="nc">&nbsp;            super(desc);</b>
&nbsp;            iIsLow = isLow;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public String getMessage() {</b>
<b class="nc">&nbsp;            StringBuffer buf = new StringBuffer(85);</b>
<b class="nc">&nbsp;            buf.append(&quot;The&quot;);</b>
<b class="nc">&nbsp;            String desc = super.getMessage();</b>
<b class="nc">&nbsp;            if (desc != null) {</b>
&nbsp;                buf.append(&#39; &#39;);
<b class="nc">&nbsp;                buf.append(desc);</b>
&nbsp;            }
<b class="nc">&nbsp;            buf.append(&quot; instant is &quot;);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;            DateTimeFormatter p = ISODateTimeFormat.dateTime();</b>
<b class="nc">&nbsp;            p = p.withChronology(getBase());</b>
<b class="nc">&nbsp;            if (iIsLow) {</b>
&nbsp;                buf.append(&quot;below the supported minimum of &quot;);
<b class="nc">&nbsp;                p.printTo(buf, getLowerLimit().getMillis());</b>
<b class="nc">&nbsp;            } else {</b>
&nbsp;                buf.append(&quot;above the supported maximum of &quot;);
&nbsp;                p.printTo(buf, getUpperLimit().getMillis());
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            </b>
<b class="nc">&nbsp;            buf.append(&quot; (&quot;);</b>
&nbsp;            buf.append(getBase());
<b class="nc">&nbsp;            buf.append(&#39;)&#39;);</b>
&nbsp;
&nbsp;            return buf.toString();
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        public String toString() {
&nbsp;            return &quot;IllegalArgumentException: &quot; + getMessage();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private class LimitDurationField extends DecoratedDurationField {
<b class="fc">&nbsp;        private static final long serialVersionUID = 8049297699408782284L;</b>
<b class="fc">&nbsp;</b>
<b class="fc">&nbsp;        LimitDurationField(DurationField field) {</b>
&nbsp;            super(field, field.getType());
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public int getValue(long duration, long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getValue(duration, instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long getValueAsLong(long duration, long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getValueAsLong(duration, instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long getMillis(int value, long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getMillis(value, instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long getMillis(long value, long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getMillis(value, instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long add(long instant, int amount) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().add(instant, amount);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long add(long instant, long amount) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().add(instant, amount);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public int getDifference(long minuendInstant, long subtrahendInstant) {</b>
<b class="nc">&nbsp;            checkLimits(minuendInstant, &quot;minuend&quot;);</b>
&nbsp;            checkLimits(subtrahendInstant, &quot;subtrahend&quot;);
&nbsp;            return getWrappedField().getDifference(minuendInstant, subtrahendInstant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long getDifferenceAsLong(long minuendInstant, long subtrahendInstant) {</b>
<b class="nc">&nbsp;            checkLimits(minuendInstant, &quot;minuend&quot;);</b>
&nbsp;            checkLimits(subtrahendInstant, &quot;subtrahend&quot;);
&nbsp;            return getWrappedField().getDifferenceAsLong(minuendInstant, subtrahendInstant);
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    private class LimitDateTimeField extends DecoratedDateTimeField {
&nbsp;        @SuppressWarnings(&quot;unused&quot;)
&nbsp;        private static final long serialVersionUID = -2435306746995699312L;
&nbsp;
&nbsp;        private final DurationField iDurationField;
&nbsp;        private final DurationField iRangeDurationField;
&nbsp;        private final DurationField iLeapDurationField;
&nbsp;
&nbsp;        LimitDateTimeField(DateTimeField field,
<b class="fc">&nbsp;                           DurationField durationField,</b>
<b class="fc">&nbsp;                           DurationField rangeDurationField,</b>
<b class="fc">&nbsp;                           DurationField leapDurationField) {</b>
<b class="fc">&nbsp;            super(field, field.getType());</b>
<b class="fc">&nbsp;            iDurationField = durationField;</b>
<b class="fc">&nbsp;            iRangeDurationField = rangeDurationField;</b>
&nbsp;            iLeapDurationField = leapDurationField;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public int get(long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().get(instant);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public String getAsText(long instant, Locale locale) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getAsText(instant, locale);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public String getAsShortText(long instant, Locale locale) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getAsShortText(instant, locale);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long add(long instant, int amount) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().add(instant, amount);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long add(long instant, long amount) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().add(instant, amount);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public long addWrapField(long instant, int amount) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().addWrapField(instant, amount);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public int getDifference(long minuendInstant, long subtrahendInstant) {</b>
<b class="nc">&nbsp;            checkLimits(minuendInstant, &quot;minuend&quot;);</b>
&nbsp;            checkLimits(subtrahendInstant, &quot;subtrahend&quot;);
&nbsp;            return getWrappedField().getDifference(minuendInstant, subtrahendInstant);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long getDifferenceAsLong(long minuendInstant, long subtrahendInstant) {</b>
<b class="nc">&nbsp;            checkLimits(minuendInstant, &quot;minuend&quot;);</b>
&nbsp;            checkLimits(subtrahendInstant, &quot;subtrahend&quot;);
&nbsp;            return getWrappedField().getDifferenceAsLong(minuendInstant, subtrahendInstant);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long set(long instant, int value) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().set(instant, value);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long set(long instant, String text, Locale locale) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().set(instant, text, locale);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
&nbsp;        public final DurationField getDurationField() {
&nbsp;            return iDurationField;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        public final DurationField getRangeDurationField() {
&nbsp;            return iRangeDurationField;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public boolean isLeap(long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().isLeap(instant);
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public int getLeapAmount(long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getLeapAmount(instant);
&nbsp;        }
<b class="nc">&nbsp;        </b>
&nbsp;        public final DurationField getLeapDurationField() {
&nbsp;            return iLeapDurationField;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long roundFloor(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().roundFloor(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long roundCeiling(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().roundCeiling(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long roundHalfFloor(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().roundHalfFloor(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long roundHalfCeiling(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().roundHalfCeiling(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long roundHalfEven(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().roundHalfEven(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;        </b>
<b class="nc">&nbsp;        public long remainder(long instant) {</b>
<b class="nc">&nbsp;            checkLimits(instant, null);</b>
<b class="nc">&nbsp;            long result = getWrappedField().remainder(instant);</b>
&nbsp;            checkLimits(result, &quot;resulting&quot;);
&nbsp;            return result;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public int getMinimumValue(long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getMinimumValue(instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        public int getMaximumValue(long instant) {</b>
&nbsp;            checkLimits(instant, null);
&nbsp;            return getWrappedField().getMaximumValue(instant);
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        public int getMaximumTextLength(Locale locale) {
&nbsp;            return getWrappedField().getMaximumTextLength(locale);
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        public int getMaximumShortTextLength(Locale locale) {
&nbsp;            return getWrappedField().getMaximumShortTextLength(locale);
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-03 10:53</div>
</div>
</body>
</html>
