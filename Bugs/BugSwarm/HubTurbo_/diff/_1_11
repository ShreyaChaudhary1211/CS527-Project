[<Line: +package backend.github;
>, <Line: +import backend.UpdateSignature;
>, <Line: +import backend.interfaces.Repo;
>, <Line: +import backend.interfaces.TaskRunner;
>, <Line: +import backend.resource.*;
>, <Line: +import org.apache.logging.log4j.Logger;
>, <Line: +import util.HTLog;
>, <Line: +import java.util.List;
>, <Line: +public class DownloadRepoTask extends GitHubRepoTask<Model> {
>, <Line: +	private static final Logger logger = HTLog.get(DownloadRepoTask.class);
>, <Line: +	private final String repoId;
>, <Line: +	public DownloadRepoTask(TaskRunner taskRunner, Repo repo, String repoId) {
>, <Line: +		super(taskRunner, repo);
>, <Line: +		this.repoId = repoId;
>, <Line: +	}
>, <Line: +	@Override
>, <Line: +	public void run() {
>, <Line: +		List<TurboIssue> issues = repo.getIssues(repoId);
>, <Line: +		List<TurboLabel> labels = repo.getLabels(repoId);
>, <Line: +		List<TurboMilestone> milestones = repo.getMilestones(repoId);
>, <Line: +		List<TurboUser> users = repo.getCollaborators(repoId);
>, <Line: +		Model result = new Model(repoId, issues, labels, milestones, users, UpdateSignature.empty);
>, <Line: +		logger.info(HTLog.format(repoId, "Downloaded " + result.summarise()));
>, <Line: +		response.complete(result);
>, <Line: +	}
>, <Line: +}
>]
[]