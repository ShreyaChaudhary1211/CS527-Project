[<Line: +import org.traccar.database.ConnectionManager;
>, <Line: +            Collection<Position> initialPositions = Context.getConnectionManager().getInitialState(devices);
>, <Line: +            Context.getConnectionManager().addListener(devices, dataListener);
>, <Line: +        private final ConnectionManager.DataCacheListener dataListener = new ConnectionManager.DataCacheListener() {
>, <Line: +                    Context.getConnectionManager().removeListener(devices, dataListener);
>]
[<Line: -import org.traccar.database.DataCache;
>, <Line: -            Collection<Position> initialPositions = Context.getDataCache().getInitialState(devices);
>, <Line: -            Context.getDataCache().addListener(devices, dataListener);
>, <Line: -        private final DataCache.DataCacheListener dataListener = new DataCache.DataCacheListener() {
>, <Line: -                    Context.getDataCache().removeListener(devices, dataListener);
>]