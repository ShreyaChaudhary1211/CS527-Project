[<Line: +package org.kairosdb.core.queue;
>, <Line: +import com.google.common.collect.ImmutableSortedMap;
>, <Line: +import org.junit.Test;
>, <Line: +import org.kairosdb.core.DataPoint;
>, <Line: +import org.kairosdb.core.KairosDataPointFactory;
>, <Line: +import org.kairosdb.core.TestDataPointFactory;
>, <Line: +import org.kairosdb.core.datapoints.LongDataPointFactory;
>, <Line: +import org.kairosdb.core.datapoints.LongDataPointFactoryImpl;
>, <Line: +import org.kairosdb.events.DataPointEvent;
>, <Line: +import static org.hamcrest.CoreMatchers.equalTo;
>, <Line: +import static org.junit.Assert.assertThat;
>, <Line: +/**
>, <Line: + Created by bhawkins on 10/25/16.
>, <Line: + */
>, <Line: +public class DataPointEventSerializerTest
>, <Line: +{
>, <Line: +	private LongDataPointFactory m_longDataPointFactory = new LongDataPointFactoryImpl();
>, <Line: +	@Test
>, <Line: +	public void test_serializeDeserialize()
>, <Line: +	{
>, <Line: +		KairosDataPointFactory dataPointFactory = new TestDataPointFactory();
>, <Line: +		DataPointEventSerializer serializer = new DataPointEventSerializer(dataPointFactory);
>, <Line: +		ImmutableSortedMap<String, String> tags =
>, <Line: +				ImmutableSortedMap.<String, String>naturalOrder()
>, <Line: +						.put("tag1", "val1")
>, <Line: +						.put("tag2", "val2")
>, <Line: +						.put("tag3", "val3").build();
>, <Line: +		DataPoint dataPoint = m_longDataPointFactory.createDataPoint(123L, 43);
>, <Line: +		DataPointEvent original = new DataPointEvent("new_metric", tags, dataPoint, 500);
>, <Line: +		byte[] bytes = serializer.serializeEvent(original);
>, <Line: +		DataPointEvent processedEvent = serializer.deserializeEvent(bytes);
>, <Line: +		assertThat(original, equalTo(processedEvent));
>, <Line: +	}
>, <Line: +}
>]
[]