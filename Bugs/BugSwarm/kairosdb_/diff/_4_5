[<Line: +import com.google.common.eventbus.EventBus;
>, <Line: +import org.kairosdb.core.datastore.KairosDatastore;
>, <Line: +import org.kairosdb.events.DataPointEvent;
>, <Line: +	private final EventBus m_eventBus;
>, <Line: +	public SaveAsAggregator(EventBus eventBus)
>, <Line: +		m_eventBus = eventBus;
>, <Line: +			m_eventBus.post(new DataPointEvent(m_metricName, m_groupTags, next, m_ttl));
>]
[<Line: -import org.kairosdb.core.datastore.Datastore;
>, <Line: -	private Datastore m_datastore;
>, <Line: -	public SaveAsAggregator(Datastore datastore)
>, <Line: -		m_datastore = datastore;
>, <Line: -			try
>, <Line: -			{
>, <Line: -				m_datastore.putDataPoint(m_metricName, m_groupTags, next, m_ttl);
>, <Line: -			}
>, <Line: -			catch (DatastoreException e)
>, <Line: -			{
>, <Line: -				throw new RuntimeException("Failure to save data to "+m_metricName, e);
>, <Line: -			}
>]