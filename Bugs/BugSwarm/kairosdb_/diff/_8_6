[<Line: +========
>, <Line: +Roll-ups
>, <Line: +========
>, <Line: +Roll-ups are a way to improve query performance by aggregating or rolling up data into a larger time range such as averaging millisecond data over a minute.
>, <Line: +Roll-ups perform queries on existing data, aggregate the data, and write the results to another metric. The original data is left intact.
>, <Line: +Roll-ups are continuously run on a schedule rolling up a small time period of data on each execution.
>, <Line: +Roll-ups are scheduled by creating a roll-up task. A task contains one or more roll-ups and an execution interval (how often the task is executed).
>, <Line: +A roll-up is a query (see :doc:`QueryMetrics <QueryMetrics>`) and the name of a new metric where it will be saved (save_as).
>, <Line: +--------------------------------------------------------------------------------------------
>, <Line: +===================
>, <Line: +Create Roll-up Task
>, <Line: +===================
>, <Line: +A roll-up task is executed on a schedule to create one or more roll-ups.
>, <Line: +------
>, <Line: +Method
>, <Line: +------
>, <Line: +  POST
>, <Line: +-------
>, <Line: +Request
>, <Line: +-------
>, <Line: +  http://[host]:[port]/api/v1/rollups
>, <Line: +----
>, <Line: +Body
>, <Line: +----
>, <Line: +::
>, <Line: + {
>, <Line: + 	"name": "MyRollup",
>, <Line: + 	"execution_interval": {
>, <Line: + 		"value": 1,
>, <Line: + 		"unit": "hours"
>, <Line: + 	},
>, <Line: + 	"rollups": [{
>, <Line: + 		"save_as": "kairosdb.http.query_time_rollup",
>, <Line: + 		"query": {
>, <Line: + 			"cache_time": 0,
>, <Line: + 			"start_relative": {
>, <Line: + 				"value": "1",
>, <Line: + 				"unit": "hours"
>, <Line: + 			},
>, <Line: + 			"metrics": [{
>, <Line: + 				"name": "kairosdb.http.query_time",
>, <Line: + 				"limit": 10000,
>, <Line: + 				"tags": {
>, <Line: + 					"host": ["foo", "bar"],
>, <Line: + 					"customer": ["foobar"]
>, <Line: + 				},
>, <Line: + 				"aggregators": [{
>, <Line: + 					"name": "sum",
>, <Line: + 					"sampling": {
>, <Line: + 						"value": 1,
>, <Line: + 						"unit": "minutes"
>, <Line: + 					}
>, <Line: + 				}, {
>, <Line: + 					"name": "avg",
>, <Line: + 					"sampling": {
>, <Line: + 						"value": 10,
>, <Line: + 						"unit": "minutes"
>, <Line: + 					}
>, <Line: + 				}]
>, <Line: + 			}]
>, <Line: + 		}
>, <Line: + 	}]
>, <Line: + }
>, <Line: +------------------
>, <Line: +Roll-up Properties
>, <Line: +------------------
>, <Line: +*name*
>, <Line: +The name of the roll-up task.
>, <Line: +*execution_interval*
>, <Line: +When the roll-up task is exected specified as value and unit. Possible unit values are "milliseconds", "seconds", "minutes", "hours", "days", "weeks", "months", and "years".
>, <Line: +*rollups*
>, <Line: +An array of roll-ups. A roll-up consists of
>, <Line: +* *save_as* - the name of the metric where the roll-up data points are stored.
>, <Line: +* *query* - the query that is performed (see :doc:`QueryMetrics <QueryMetrics>`).
>, <Line: +--------
>, <Line: +Response
>, <Line: +--------
>, <Line: +*Success*
>, <Line: +  The response contains either the metric resource created. Returns 200 when successful.
>, <Line: +  ::
>, <Line: +    {
>, <Line: +        "id": "7b2893fc-7654-4764-851a-a311e854ee75",
>, <Line: +        "name": "MyRollupTaskName",
>, <Line: +        "attributes": {
>, <Line: +            "url": "/api/v1/rollups/7b2893fc-7654-4764-851a-a311e854ee75"
>, <Line: +        }
>, <Line: +    }
>, <Line: +*Failure*
>, <Line: +  The response will be 400 Bad Request if the request is invalid.
>, <Line: +  The response will be 500 Internal Server Error if an error occurs retrieving data.
>, <Line: +  ::
>, <Line: +    {
>, <Line: +        "errors": [
>, <Line: +            "metrics[0].aggregate must be one of MIN,SUM,MAX,AVG,DEV",
>, <Line: +            "metrics[0].sampling.unit must be one of  SECONDS,MINUTES,HOURS,DAYS,WEEKS,YEARS"
>, <Line: +        ]
>, <Line: +    }
>, <Line: +==================
>, <Line: +List Roll-up Tasks
>, <Line: +==================
>, <Line: +Lists all defined roll-up tasks.
>, <Line: +------
>, <Line: +Method
>, <Line: +------
>, <Line: +  GET
>, <Line: +-------
>, <Line: +Request
>, <Line: +-------
>, <Line: +  http://[host]:[port]/api/v1/rollups
>, <Line: +----
>, <Line: +Body
>, <Line: +----
>, <Line: +	None
>, <Line: +--------
>, <Line: +Response
>, <Line: +--------
>, <Line: +*Success*
>, <Line: +  The response contains a list of roll-up tasks. Returns 200 for success.
>, <Line: +  ::
>, <Line: +    [{
>, <Line: +    	"id": "ce55e623-0610-4451-a725-3daee896afd9",
>, <Line: +    	"name": "MyRollup",
>, <Line: +    	"execution_interval": {
>, <Line: +    		"value": 1,
>, <Line: +    		"unit": "hours"
>, <Line: +    	},
>, <Line: +    	"rollups": [{
>, <Line: +    		"save_as": "kairosdb.http.query_time_rollup",
>, <Line: +    		"query": {
>, <Line: +    			"cache_time": 0,
>, <Line: +    			"start_relative": {
>, <Line: +    				"value": "1",
>, <Line: +    				"unit": "hours"
>, <Line: +    			},
>, <Line: +    			"metrics": [{
>, <Line: +    				"name": "kairosdb.http.query_time",
>, <Line: +    				"limit": 10000,
>, <Line: +    				"tags": {
>, <Line: +    					"host": ["foo", "bar"],
>, <Line: +    					"customer": ["foobar"]
>, <Line: +    				},
>, <Line: +    				"aggregators": [{
>, <Line: +    					"name": "sum",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 1,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}, {
>, <Line: +    					"name": "avg",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 10,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}]
>, <Line: +    			}]
>, <Line: +    		}
>, <Line: +    	}]
>, <Line: +    }]
>, <Line: +*Failure*
>, <Line: +  The response will be 500 Internal Server Error if an error occurs retrieving data.
>, <Line: +================
>, <Line: +Get Roll-up Task
>, <Line: +================
>, <Line: +Returns the roll-up task by Id.
>, <Line: +------
>, <Line: +Method
>, <Line: +------
>, <Line: +  GET
>, <Line: +-------
>, <Line: +Request
>, <Line: +-------
>, <Line: +  http://[host]:[port]/api/v1/rollups/{id}
>, <Line: +----
>, <Line: +Body
>, <Line: +----
>, <Line: +	None
>, <Line: +--------
>, <Line: +Response
>, <Line: +--------
>, <Line: +*Success*
>, <Line: +  The response contains the roll-up for the given id. Returns 200 for success.
>, <Line: +  ::
>, <Line: +    {
>, <Line: +    	"id": "ce55e623-0610-4451-a725-3daee896afd9",
>, <Line: +    	"name": "MyRollup",
>, <Line: +    	"execution_interval": {
>, <Line: +    		"value": 1,
>, <Line: +    		"unit": "hours"
>, <Line: +    	},
>, <Line: +    	"rollups": [{
>, <Line: +    		"save_as": "kairosdb.http.query_time_rollup",
>, <Line: +    		"query": {
>, <Line: +    			"cache_time": 0,
>, <Line: +    			"start_relative": {
>, <Line: +    				"value": "1",
>, <Line: +    				"unit": "hours"
>, <Line: +    			},
>, <Line: +    			"metrics": [{
>, <Line: +    				"name": "kairosdb.http.query_time",
>, <Line: +    				"limit": 10000,
>, <Line: +    				"tags": {
>, <Line: +    					"host": ["foo", "bar"],
>, <Line: +    					"customer": ["foobar"]
>, <Line: +    				},
>, <Line: +    				"aggregators": [{
>, <Line: +    					"name": "sum",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 1,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}, {
>, <Line: +    					"name": "avg",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 10,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}]
>, <Line: +    			}]
>, <Line: +    		}
>, <Line: +    	}]
>, <Line: +    }
>, <Line: +*Failure*
>, <Line: +  The response will be 404 if the roll-up resource specified does not exist.
>, <Line: +  The response will be 500 Internal Server Error if an error occurs retrieving data.
>, <Line: +===================
>, <Line: +Delete Roll-up Task
>, <Line: +===================
>, <Line: +Deletes the roll-up task specified for the given Id.
>, <Line: +------
>, <Line: +Method
>, <Line: +------
>, <Line: +  DELETE
>, <Line: +-------
>, <Line: +Request
>, <Line: +-------
>, <Line: +  http://[host]:[port]/api/v1/rollups/{id}
>, <Line: +----
>, <Line: +Body
>, <Line: +----
>, <Line: +	None
>, <Line: +--------
>, <Line: +Response
>, <Line: +--------
>, <Line: +*Success*
>, <Line: +  No data is returned. Returns 204 if the task was successfully deleted.
>, <Line: +*Failure*
>, <Line: +  The response will be 404 if the roll-up resource specified does not exist.
>, <Line: +  The response will be 500 Internal Server Error if an error occurs retrieving data.
>, <Line: +===================
>, <Line: +Update Roll-up Task
>, <Line: +===================
>, <Line: +Updates the roll-up task specified by the Id.
>, <Line: +------
>, <Line: +Method
>, <Line: +------
>, <Line: +  PUT
>, <Line: +-------
>, <Line: +Request
>, <Line: +-------
>, <Line: +  http://[host]:[port]/api/v1/rollups/{id}
>, <Line: +----
>, <Line: +Body
>, <Line: +----
>, <Line: +  ::
>, <Line: +    {
>, <Line: +	    "name": "MyRollup",
>, <Line: +	    "execution_interval": {
>, <Line: +		    "value": 1,
>, <Line: +		    "unit": "hours"
>, <Line: +	    },
>, <Line: +	    "rollups": [{
>, <Line: +		    "save_as": "kairosdb.http.query_time_rollup",
>, <Line: +		    "query": {
>, <Line: +			    "cache_time": 0,
>, <Line: +			    "start_relative": {
>, <Line: +				    "value": "1",
>, <Line: +				    "unit": "hours"
>, <Line: +			    },
>, <Line: +			    "metrics": [{
>, <Line: +				    "name": "kairosdb.http.query_time",
>, <Line: +				    "limit": 10000,
>, <Line: +				    "tags": {
>, <Line: +					    "host": ["foo", "bar"],
>, <Line: +					    "customer": ["foobar"]
>, <Line: +				    },
>, <Line: +				    "aggregators": [{
>, <Line: +					    "name": "sum",
>, <Line: +					    "sampling": {
>, <Line: +						    "value": 1,
>, <Line: +						    "unit": "minutes"
>, <Line: +					    }
>, <Line: +				    }, {
>, <Line: +					    "name": "avg",
>, <Line: +					    "sampling": {
>, <Line: +						    "value": 10,
>, <Line: +						    "unit": "minutes"
>, <Line: +					    }
>, <Line: +				    }]
>, <Line: +			    }]
>, <Line: +		    }
>, <Line: +	    }]
>, <Line: +     }
>, <Line: +--------
>, <Line: +Response
>, <Line: +--------
>, <Line: +*Success*
>, <Line: +  The response contains the roll-up for the given id. Returns 200 for success.
>, <Line: +  ::
>, <Line: +    {
>, <Line: +    	"id": "ce55e623-0610-4451-a725-3daee896afd9",
>, <Line: +    	"name": "MyRollup",
>, <Line: +    	"execution_interval": {
>, <Line: +    		"value": 1,
>, <Line: +    		"unit": "hours"
>, <Line: +    	},
>, <Line: +    	"rollups": [{
>, <Line: +    		"save_as": "kairosdb.http.query_time_rollup",
>, <Line: +    		"query": {
>, <Line: +    			"cache_time": 0,
>, <Line: +    			"start_relative": {
>, <Line: +    				"value": "1",
>, <Line: +    				"unit": "hours"
>, <Line: +    			},
>, <Line: +    			"metrics": [{
>, <Line: +    				"name": "kairosdb.http.query_time",
>, <Line: +    				"limit": 10000,
>, <Line: +    				"tags": {
>, <Line: +    					"host": ["foo", "bar"],
>, <Line: +    					"customer": ["foobar"]
>, <Line: +    				},
>, <Line: +    				"aggregators": [{
>, <Line: +    					"name": "sum",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 1,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}, {
>, <Line: +    					"name": "avg",
>, <Line: +    					"sampling": {
>, <Line: +    						"value": 10,
>, <Line: +    						"unit": "minutes"
>, <Line: +    					}
>, <Line: +    				}]
>, <Line: +    			}]
>, <Line: +    		}
>, <Line: +    	}]
>, <Line: +    }
>, <Line: +*Failure*
>, <Line: +  The response will be 400 Bad Request if the request is invalid.
>, <Line: +  The response will be 404 if the roll-up resource specified does not exist.
>, <Line: +  The response will be 500 Internal Server Error if an error occurs retrieving data.
>]
[]