[<Line: +package org.mp4parser.boxes.iso14496.part30;
>, <Line: +import org.mp4parser.BoxParser;
>, <Line: +import org.mp4parser.boxes.sampleentry.AbstractSampleEntry;
>, <Line: +import org.mp4parser.tools.IsoTypeReader;
>, <Line: +import org.mp4parser.tools.IsoTypeWriter;
>, <Line: +import org.mp4parser.tools.Mp4Arrays;
>, <Line: +import org.mp4parser.tools.Utf8;
>, <Line: +import java.nio.channels.Channels;
>, <Line: +import java.nio.channels.ReadableByteChannel;
>, <Line: +    public void parse(ReadableByteChannel dataSource, ByteBuffer header, long contentSize, BoxParser boxParser) throws IOException {
>, <Line: +        byte[] namespaceBytes = new byte[0];
>, <Line: +        int read;
>, <Line: +        while ((read = Channels.newInputStream(dataSource).read()) != 0) {
>, <Line: +            namespaceBytes = Mp4Arrays.copyOfAndAppend(namespaceBytes, (byte) read);
>, <Line: +        }
>, <Line: +        namespace = Utf8.convert(namespaceBytes);
>, <Line: +        byte[] schemaLocationBytes = new byte[0];
>, <Line: +        while ((read = Channels.newInputStream(dataSource).read()) != 0) {
>, <Line: +            schemaLocationBytes = Mp4Arrays.copyOfAndAppend(schemaLocationBytes, (byte) read);
>, <Line: +        }
>, <Line: +        schemaLocation = Utf8.convert(schemaLocationBytes);
>, <Line: +        byte[] auxiliaryMimeTypesBytes = new byte[0];
>, <Line: +        while ((read = Channels.newInputStream(dataSource).read()) != 0) {
>, <Line: +            auxiliaryMimeTypesBytes = Mp4Arrays.copyOfAndAppend(auxiliaryMimeTypesBytes, (byte) read);
>, <Line: +        }
>, <Line: +        auxiliaryMimeTypes = Utf8.convert(auxiliaryMimeTypesBytes);
>]
[<Line: -package com.mp4parser.iso14496.part30;
>, <Line: -import com.coremedia.iso.BoxParser;
>, <Line: -import com.coremedia.iso.IsoTypeReader;
>, <Line: -import com.coremedia.iso.IsoTypeWriter;
>, <Line: -import com.coremedia.iso.boxes.sampleentry.AbstractSampleEntry;
>, <Line: -import com.googlecode.mp4parser.DataSource;
>, <Line: -    public void parse(DataSource dataSource, ByteBuffer header, long contentSize, BoxParser boxParser) throws IOException {
>, <Line: -        long start = dataSource.position();
>, <Line: -        ByteBuffer content = ByteBuffer.allocate(1024);
>, <Line: -        dataSource.read((ByteBuffer) content.rewind());
>, <Line: -        namespace = IsoTypeReader.readString((ByteBuffer) content.rewind());
>, <Line: -        dataSource.position(start + namespace.length() + 1);
>, <Line: -        dataSource.read((ByteBuffer) content.rewind());
>, <Line: -        schemaLocation = IsoTypeReader.readString((ByteBuffer) content.rewind());
>, <Line: -        dataSource.position(start + namespace.length() + schemaLocation.length() + 2);
>, <Line: -        dataSource.read((ByteBuffer) content.rewind());
>, <Line: -        auxiliaryMimeTypes = IsoTypeReader.readString((ByteBuffer) content.rewind());
>, <Line: -        dataSource.position(start + namespace.length() + schemaLocation.length() + auxiliaryMimeTypes.length() + 3);
>]