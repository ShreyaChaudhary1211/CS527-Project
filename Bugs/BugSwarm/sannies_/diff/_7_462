[<Line: +package org.mp4parser.muxer;
>, <Line: +import java.io.IOException;
>, <Line: +import java.nio.ByteBuffer;
>, <Line: +import static org.mp4parser.tools.CastUtils.l2i;
>, <Line: +/**
>, <Line: + * Typically used for tests.
>, <Line: + */
>, <Line: +public class InMemRandomAccessSourceImpl implements RandomAccessSource {
>, <Line: +    ByteBuffer buffer;
>, <Line: +    public InMemRandomAccessSourceImpl(ByteBuffer buffer) {
>, <Line: +        this.buffer = buffer.duplicate();
>, <Line: +    }
>, <Line: +    public InMemRandomAccessSourceImpl(byte[] b) {
>, <Line: +        buffer = ByteBuffer.wrap(b);
>, <Line: +    }
>, <Line: +    public synchronized ByteBuffer get(long offset, long size) throws IOException {
>, <Line: +        buffer.position(l2i(offset));
>, <Line: +        return (ByteBuffer) buffer.slice().limit(l2i(size));
>, <Line: +    }
>, <Line: +    public void close() throws IOException {
>, <Line: +    }
>, <Line: +}
>]
[]