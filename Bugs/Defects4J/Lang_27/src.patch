diff --git a/Lang_27/buggy/.defects4j.config b/Lang_27/fixed/.defects4j.config
index 2d2747e..42544a0 100644
--- a/Lang_27/buggy/.defects4j.config
+++ b/Lang_27/fixed/.defects4j.config
@@ -1,3 +1,3 @@
 #File automatically generated by Defects4J
 pid=Lang
-vid=27b
+vid=27f
diff --git a/Lang_27/buggy/.git/HEAD b/Lang_27/fixed/.git/HEAD
index bc754eb..ec1a5b0 100644
--- a/Lang_27/buggy/.git/HEAD
+++ b/Lang_27/fixed/.git/HEAD
@@ -1 +1 @@
-a27fc0d03ed43119aa5a46fcdb509876bf246c76
+75425893f0ce0c57432a488288cedd901d93bcdf
diff --git a/Lang_27/buggy/.git/index b/Lang_27/fixed/.git/index
index 9c5a8f6..8edc6d4 100644
Binary files a/Lang_27/buggy/.git/index and b/Lang_27/fixed/.git/index differ
diff --git a/Lang_27/buggy/.git/logs/HEAD b/Lang_27/fixed/.git/logs/HEAD
index ad2941b..2072700 100644
--- a/Lang_27/buggy/.git/logs/HEAD
+++ b/Lang_27/fixed/.git/logs/HEAD
@@ -7,3 +7,4 @@ c2560c028173c3bc0a4627d4ce5ce221bcc9be66 2888ce6dad014ee61dfb9c3cdadd810721d2fb4
 a27fc0d03ed43119aa5a46fcdb509876bf246c76 2888ce6dad014ee61dfb9c3cdadd810721d2fb44 defects4j <defects4j@localhost> 1709004729 -0800	checkout: moving from a27fc0d03ed43119aa5a46fcdb509876bf246c76 to D4J_Lang_27_POST_FIX_REVISION
 2888ce6dad014ee61dfb9c3cdadd810721d2fb44 1e0cbafb2604fb22b784b212f210f845919e7634 defects4j <defects4j@localhost> 1709004729 -0800	commit: D4J_Lang_27_PRE_FIX_REVISION
 1e0cbafb2604fb22b784b212f210f845919e7634 a27fc0d03ed43119aa5a46fcdb509876bf246c76 defects4j <defects4j@localhost> 1709004729 -0800	checkout: moving from 1e0cbafb2604fb22b784b212f210f845919e7634 to D4J_Lang_27_BUGGY_VERSION
+a27fc0d03ed43119aa5a46fcdb509876bf246c76 75425893f0ce0c57432a488288cedd901d93bcdf defects4j <defects4j@localhost> 1709004729 -0800	checkout: moving from a27fc0d03ed43119aa5a46fcdb509876bf246c76 to D4J_Lang_27_FIXED_VERSION
diff --git a/Lang_27/buggy/src/main/java/org/apache/commons/lang3/math/NumberUtils.java b/Lang_27/fixed/src/main/java/org/apache/commons/lang3/math/NumberUtils.java
index fd03ab8..f1f36a8 100644
--- a/Lang_27/buggy/src/main/java/org/apache/commons/lang3/math/NumberUtils.java
+++ b/Lang_27/fixed/src/main/java/org/apache/commons/lang3/math/NumberUtils.java
@@ -476,7 +476,7 @@ public class NumberUtils {
         if (decPos > -1) {
 
             if (expPos > -1) {
-                if (expPos < decPos) {
+                if (expPos < decPos || expPos > str.length()) {
                     throw new NumberFormatException(str + " is not a valid number.");
                 }
                 dec = str.substring(decPos + 1, expPos);
@@ -486,6 +486,9 @@ public class NumberUtils {
             mant = str.substring(0, decPos);
         } else {
             if (expPos > -1) {
+                if (expPos > str.length()) {
+                    throw new NumberFormatException(str + " is not a valid number.");
+                }
                 mant = str.substring(0, expPos);
             } else {
                 mant = str;
