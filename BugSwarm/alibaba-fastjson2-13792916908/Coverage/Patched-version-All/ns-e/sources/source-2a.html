


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > JSONReaderUTF16</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.alibaba.fastjson2</a>
</div>

<h1>Coverage Summary for Class: JSONReaderUTF16 (com.alibaba.fastjson2)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">JSONReaderUTF16</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    71.4%
  </span>
  <span class="absValue">
    (50/70)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    61.4%
  </span>
  <span class="absValue">
    (1951/3178)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.alibaba.fastjson2;
&nbsp;
&nbsp;import com.alibaba.fastjson2.util.DateUtils;
&nbsp;import com.alibaba.fastjson2.util.Fnv;
&nbsp;import com.alibaba.fastjson2.util.TypeUtils;
&nbsp;
&nbsp;import java.io.Closeable;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;import java.io.Reader;
&nbsp;import java.math.BigDecimal;
&nbsp;import java.math.BigInteger;
&nbsp;import java.time.*;
&nbsp;import java.util.*;
&nbsp;
&nbsp;import static com.alibaba.fastjson2.JSONFactory.*;
&nbsp;import static com.alibaba.fastjson2.util.JDKUtils.*;
&nbsp;
&nbsp;class JSONReaderUTF16
&nbsp;        extends JSONReader {
&nbsp;    protected final String str;
&nbsp;    protected final char[] chars;
&nbsp;    protected final int length;
&nbsp;    protected final int start;
&nbsp;    protected final int end;
&nbsp;
&nbsp;    private int nameBegin;
&nbsp;    private int nameEnd;
&nbsp;    private int nameLength;
&nbsp;
&nbsp;    private int referenceBegin;
&nbsp;
&nbsp;    private Closeable input;
<b class="fc">&nbsp;    private int cacheIndex = -1;</b>
&nbsp;
&nbsp;    JSONReaderUTF16(Context ctx, byte[] bytes, int offset, int length) {
<b class="fc">&nbsp;        super(ctx);</b>
&nbsp;
<b class="fc">&nbsp;        this.str = null;</b>
<b class="fc">&nbsp;        this.chars = new char[length / 2];</b>
<b class="fc">&nbsp;        int j = 0;</b>
<b class="fc">&nbsp;        int bytesEnd = offset + length;</b>
<b class="fc">&nbsp;        for (int i = offset; i &lt; bytesEnd; i += 2, ++j) {</b>
<b class="fc">&nbsp;            byte c0 = bytes[i];</b>
<b class="fc">&nbsp;            byte c1 = bytes[i + 1];</b>
<b class="fc">&nbsp;            chars[j] = (char) ((c1 &amp; 0xff) | ((c0 &amp; 0xff) &lt;&lt; 8));</b>
&nbsp;        }
<b class="fc">&nbsp;        this.start = offset;</b>
<b class="fc">&nbsp;        this.end = this.length = j;</b>
&nbsp;
&nbsp;        // inline next();
&nbsp;        {
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[this.offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                this.offset++;</b>
<b class="nc">&nbsp;                if (this.offset &gt;= length) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="nc">&nbsp;                ch = chars[this.offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                this.offset++;</b>
<b class="nc">&nbsp;                if (this.offset &gt;= length) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="nc">&nbsp;                ch = chars[this.offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            this.offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;\uFFFE&#39; || ch == &#39;\uFEFF&#39;) {</b>
<b class="fc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final byte[] readHex() {
<b class="nc">&nbsp;        if (ch == &#39;x&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        char quote = ch;</b>
<b class="nc">&nbsp;        if (quote != &#39;\&#39;&#39; &amp;&amp; quote != &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal state. &quot; + ch);</b>
&nbsp;        }
<b class="nc">&nbsp;        int start = offset;</b>
<b class="nc">&nbsp;        offset++;</b>
&nbsp;
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            ch = chars[offset++];</b>
<b class="nc">&nbsp;            if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;F&#39;)) {</b>
&nbsp;                // continue;
<b class="nc">&nbsp;            } else if (ch == quote) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;illegal state. &quot; + ch);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int len = offset - start - 2;</b>
<b class="nc">&nbsp;        if (len == 0) {</b>
<b class="nc">&nbsp;            return new byte[0];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (len % 2 != 0) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal state. &quot; + len);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        byte[] bytes = new byte[len / 2];</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; bytes.length; ++i) {</b>
<b class="nc">&nbsp;            char c0 = chars[start + i * 2];</b>
<b class="nc">&nbsp;            char c1 = chars[start + i * 2 + 1];</b>
&nbsp;
<b class="nc">&nbsp;            int b0 = c0 - (c0 &lt;= 57 ? 48 : 55);</b>
<b class="nc">&nbsp;            int b1 = c1 - (c1 &lt;= 57 ? 48 : 55);</b>
<b class="nc">&nbsp;            bytes[i] = (byte) ((b0 &lt;&lt; 4) | b1);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        nextIfMatch(&#39;,&#39;);</b>
&nbsp;
<b class="nc">&nbsp;        return bytes;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean isReference() {
&nbsp;        // should be codeSize &lt;= FreqInlineSize 325
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        char ch = this.ch;</b>
<b class="fc">&nbsp;        int offset = this.offset;</b>
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;{&#39;) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        ch = chars[offset];</b>
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        char quote = ch;</b>
<b class="fc">&nbsp;        if (quote != &#39;&quot;&#39; &amp;&amp; quote != &#39;\&#39;&#39; || this.offset + 5 &gt;= end) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (chars[offset + 1] != &#39;$&#39;</b>
&nbsp;                || chars[offset + 2] != &#39;r&#39;
&nbsp;                || chars[offset + 3] != &#39;e&#39;
&nbsp;                || chars[offset + 4] != &#39;f&#39;
&nbsp;                || chars[offset + 5] != quote
&nbsp;                || offset + 6 &gt;= end
&nbsp;        ) {
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset += 6;</b>
<b class="fc">&nbsp;        ch = chars[offset];</b>
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;:&#39; || offset + 1 &gt;= end) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        ch = chars[++offset];</b>
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != quote) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.referenceBegin = offset;</b>
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String readReference() {
<b class="fc">&nbsp;        if (referenceBegin == end) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="fc">&nbsp;        this.offset = referenceBegin;</b>
<b class="fc">&nbsp;        this.ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;        String reference = readString();</b>
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
<b class="nc">&nbsp;                return reference;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;}&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal reference : &quot; + reference);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            ch = EOI;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            this.ch = chars[this.offset++];</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return reference;</b>
&nbsp;    }
&nbsp;
&nbsp;    JSONReaderUTF16(Context ctx, Reader input) {
<b class="fc">&nbsp;        super(ctx);</b>
<b class="fc">&nbsp;        this.input = input;</b>
&nbsp;
<b class="fc">&nbsp;        cacheIndex = System.identityHashCode(Thread.currentThread()) &amp; (CACHE_ITEMS.length - 1);</b>
<b class="fc">&nbsp;        final CacheItem cacheItem = CACHE_ITEMS[cacheIndex];</b>
<b class="fc">&nbsp;        char[] chars = CHARS_UPDATER.getAndSet(cacheItem, null);</b>
<b class="fc">&nbsp;        if (chars == null) {</b>
<b class="nc">&nbsp;            chars = new char[8192];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int off = 0;</b>
&nbsp;        try {
&nbsp;            for (; ; ) {
<b class="fc">&nbsp;                int n = input.read(chars, off, chars.length - off);</b>
<b class="fc">&nbsp;                if (n == -1) {</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                off += n;</b>
&nbsp;
<b class="fc">&nbsp;                if (off == chars.length) {</b>
<b class="nc">&nbsp;                    int oldCapacity = chars.length;</b>
<b class="nc">&nbsp;                    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</b>
<b class="nc">&nbsp;                    chars = Arrays.copyOf(chars, newCapacity);</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
<b class="nc">&nbsp;        } catch (IOException ioe) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;read error&quot;, ioe);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        this.str = null;</b>
<b class="fc">&nbsp;        this.chars = chars;</b>
<b class="fc">&nbsp;        this.offset = 0;</b>
<b class="fc">&nbsp;        this.length = off;</b>
<b class="fc">&nbsp;        this.start = 0;</b>
<b class="fc">&nbsp;        this.end = length;</b>
&nbsp;
&nbsp;        // inline next();
&nbsp;        {
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[this.offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                this.offset++;</b>
<b class="fc">&nbsp;                if (this.offset &gt;= length) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[this.offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            this.offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;\uFFFE&#39; || ch == &#39;\uFEFF&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    JSONReaderUTF16(Context ctx, String str, char[] chars, int offset, int length) {
<b class="fc">&nbsp;        super(ctx);</b>
&nbsp;
<b class="fc">&nbsp;        this.str = str;</b>
<b class="fc">&nbsp;        this.chars = chars;</b>
<b class="fc">&nbsp;        this.offset = offset;</b>
<b class="fc">&nbsp;        this.length = length;</b>
<b class="fc">&nbsp;        this.start = offset;</b>
<b class="fc">&nbsp;        this.end = offset + length;</b>
&nbsp;
&nbsp;        // inline next();
&nbsp;        {
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[this.offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                this.offset++;</b>
<b class="fc">&nbsp;                if (this.offset &gt;= length) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[this.offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            this.offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;\uFFFE&#39; || ch == &#39;\uFEFF&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch == &#39;/&#39; &amp;&amp; this.offset &lt; this.chars.length &amp;&amp; this.chars[this.offset] == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            skipLineComment();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    JSONReaderUTF16(Context ctx, InputStream input) {
<b class="fc">&nbsp;        super(ctx);</b>
<b class="fc">&nbsp;        this.input = input;</b>
<b class="fc">&nbsp;        final int cacheIndex = System.identityHashCode(Thread.currentThread()) &amp; (CACHE_ITEMS.length - 1);</b>
<b class="fc">&nbsp;        final CacheItem cacheItem = CACHE_ITEMS[cacheIndex];</b>
<b class="fc">&nbsp;        byte[] bytes = BYTES_UPDATER.getAndSet(cacheItem, null);</b>
<b class="fc">&nbsp;        if (bytes == null) {</b>
<b class="fc">&nbsp;            bytes = new byte[8192];</b>
&nbsp;        }
&nbsp;
&nbsp;        char[] chars;
&nbsp;        try {
<b class="fc">&nbsp;            int off = 0;</b>
&nbsp;            for (; ; ) {
<b class="fc">&nbsp;                int n = input.read(bytes, off, bytes.length - off);</b>
<b class="fc">&nbsp;                if (n == -1) {</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                off += n;</b>
&nbsp;
<b class="fc">&nbsp;                if (off == bytes.length) {</b>
<b class="nc">&nbsp;                    bytes = Arrays.copyOf(bytes, bytes.length + 8192);</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            if (off % 2 == 1) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;illegal input utf16 bytes, length &quot; + off);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            chars = new char[off / 2];</b>
<b class="fc">&nbsp;            for (int i = 0, j = 0; i &lt; off; i += 2, ++j) {</b>
<b class="fc">&nbsp;                byte c0 = bytes[i];</b>
<b class="fc">&nbsp;                byte c1 = bytes[i + 1];</b>
<b class="fc">&nbsp;                chars[j] = (char) ((c1 &amp; 0xff) | ((c0 &amp; 0xff) &lt;&lt; 8));</b>
&nbsp;            }
<b class="nc">&nbsp;        } catch (IOException ioe) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;read error&quot;, ioe);</b>
&nbsp;        } finally {
<b class="fc">&nbsp;            BYTES_UPDATER.lazySet(cacheItem, bytes);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        this.str = null;</b>
<b class="fc">&nbsp;        this.chars = chars;</b>
<b class="fc">&nbsp;        this.offset = 0;</b>
<b class="fc">&nbsp;        this.length = chars.length;</b>
<b class="fc">&nbsp;        this.start = 0;</b>
<b class="fc">&nbsp;        this.end = length;</b>
&nbsp;
&nbsp;        // inline next();
&nbsp;        {
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[this.offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                this.offset++;</b>
<b class="nc">&nbsp;                if (this.offset &gt;= length) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="nc">&nbsp;                ch = chars[this.offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            this.offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;\uFFFE&#39; || ch == &#39;\uFEFF&#39;) {</b>
<b class="fc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatch(char ch) {
<b class="fc">&nbsp;        while (this.ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; this.ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (this.ch != ch) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
<b class="fc">&nbsp;        comma = ch == &#39;,&#39;;</b>
&nbsp;
<b class="fc">&nbsp;        if (offset &gt;= end) {</b>
<b class="fc">&nbsp;            this.ch = EOI;</b>
<b class="fc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.ch = chars[offset];</b>
<b class="fc">&nbsp;        while (this.ch == &#39;\0&#39; || (this.ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; this.ch) &amp; SPACE) != 0)) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
<b class="fc">&nbsp;                return true;</b>
&nbsp;            }
<b class="fc">&nbsp;            this.ch = chars[offset];</b>
&nbsp;        }
<b class="fc">&nbsp;        offset++;</b>
&nbsp;
<b class="fc">&nbsp;        while (this.ch == &#39;/&#39; &amp;&amp; offset &lt; chars.length &amp;&amp; chars[offset] == &#39;/&#39;) {</b>
<b class="fc">&nbsp;            skipLineComment();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfNullOrEmptyString() {
<b class="fc">&nbsp;        final char first = this.ch;</b>
<b class="fc">&nbsp;        final int end = this.end;</b>
<b class="fc">&nbsp;        int offset = this.offset;</b>
<b class="fc">&nbsp;        char[] chars = this.chars;</b>
<b class="fc">&nbsp;        if (first == &#39;n&#39;</b>
&nbsp;                &amp;&amp; offset + 2 &lt; end
&nbsp;                &amp;&amp; chars[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;l&#39;
&nbsp;        ) {
<b class="fc">&nbsp;            offset += 3;</b>
<b class="fc">&nbsp;        } else if ((first == &#39;&quot;&#39; || first == &#39;\&#39;&#39;) &amp;&amp; offset &lt; end &amp;&amp; chars[offset] == first) {</b>
<b class="fc">&nbsp;            offset++;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        char ch = offset == end ? EOI : chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
<b class="nc">&nbsp;                this.offset = offset;</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            this.offset = offset;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
<b class="fc">&nbsp;        this.offset = offset + 1;</b>
<b class="fc">&nbsp;        this.ch = ch;</b>
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset2 = offset + 2;</b>
<b class="nc">&nbsp;        if (offset2 &gt; end || chars[offset] != c1 || chars[offset + 1] != c2) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset2 == end) {</b>
<b class="nc">&nbsp;            offset = offset2;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset2;</b>
<b class="nc">&nbsp;        char ch = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (offset == offset2) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3) {
<b class="fc">&nbsp;        if (ch != c0) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int offset3 = offset + 3;</b>
<b class="fc">&nbsp;        if (offset3 &gt; end</b>
&nbsp;                || chars[offset] != c1
&nbsp;                || chars[offset + 1] != c2
&nbsp;                || chars[offset + 2] != c3) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset3 == end) {</b>
<b class="nc">&nbsp;            offset = offset3;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int offset = offset3;</b>
<b class="fc">&nbsp;        char ch = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == offset3 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.offset = offset + 1;</b>
<b class="fc">&nbsp;        this.ch = ch;</b>
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3, char c4) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset4 = offset + 4;</b>
<b class="nc">&nbsp;        if (offset4 &gt; end</b>
&nbsp;                || chars[offset] != c1
&nbsp;                || chars[offset + 1] != c2
&nbsp;                || chars[offset + 2] != c3
&nbsp;                || chars[offset + 3] != c4) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset4 == end) {</b>
<b class="nc">&nbsp;            offset = offset4;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset4;</b>
<b class="nc">&nbsp;        char ch = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == offset4 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3, char c4, char c5) {
<b class="fc">&nbsp;        if (ch != c0) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset5 = offset + 5;</b>
<b class="nc">&nbsp;        if (offset5 &gt; end</b>
&nbsp;                || chars[offset] != c1
&nbsp;                || chars[offset + 1] != c2
&nbsp;                || chars[offset + 2] != c3
&nbsp;                || chars[offset + 3] != c4
&nbsp;                || chars[offset + 4] != c5) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset5 == end) {</b>
<b class="nc">&nbsp;            offset = offset5;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset5;</b>
<b class="nc">&nbsp;        char ch = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == offset5 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfSet() {
<b class="fc">&nbsp;        if (ch == &#39;S&#39;</b>
&nbsp;                &amp;&amp; offset + 1 &lt; end
&nbsp;                &amp;&amp; chars[offset] == &#39;e&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;t&#39;) {
<b class="fc">&nbsp;            offset += 2;</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
<b class="fc">&nbsp;            return true;</b>
&nbsp;        }
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfInfinity() {
<b class="nc">&nbsp;        if (ch == &#39;I&#39;</b>
&nbsp;                &amp;&amp; offset + 6 &lt; end
&nbsp;                &amp;&amp; chars[offset] == &#39;n&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;f&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;i&#39;
&nbsp;                &amp;&amp; chars[offset + 3] == &#39;n&#39;
&nbsp;                &amp;&amp; chars[offset + 4] == &#39;i&#39;
&nbsp;                &amp;&amp; chars[offset + 5] == &#39;t&#39;
&nbsp;                &amp;&amp; chars[offset + 6] == &#39;y&#39;
&nbsp;        ) {
<b class="nc">&nbsp;            offset += 7;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = chars[offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void next() {
<b class="fc">&nbsp;        if (offset &gt;= end) {</b>
<b class="fc">&nbsp;            ch = EOI;</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        ch = chars[offset];</b>
<b class="fc">&nbsp;        while (ch == &#39;\0&#39; || (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0)) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
<b class="fc">&nbsp;        offset++;</b>
&nbsp;
<b class="fc">&nbsp;        while (ch == &#39;/&#39; &amp;&amp; offset &lt; chars.length &amp;&amp; chars[offset] == &#39;/&#39;) {</b>
<b class="fc">&nbsp;            skipLineComment();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readFieldNameHashCodeUnquote() {
<b class="fc">&nbsp;        this.nameEscape = false;</b>
<b class="fc">&nbsp;        this.nameBegin = this.offset - 1;</b>
<b class="fc">&nbsp;        char first = ch;</b>
&nbsp;
<b class="fc">&nbsp;        long nameValue = 0;</b>
<b class="fc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
&nbsp;            _for:
<b class="nc">&nbsp;            for (int i = 0; offset &lt;= end; ++i) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39; &#39;:
&nbsp;                    case &#39;\n&#39;:
&nbsp;                    case &#39;\r&#39;:
&nbsp;                    case &#39;\t&#39;:
&nbsp;                    case &#39;\f&#39;:
&nbsp;                    case &#39;\b&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;!&#39;:
&nbsp;                    case &#39;[&#39;:
&nbsp;                    case &#39;]&#39;:
&nbsp;                    case &#39;{&#39;:
&nbsp;                    case &#39;}&#39;:
&nbsp;                    case &#39;(&#39;:
&nbsp;                    case &#39;)&#39;:
&nbsp;                    case &#39;,&#39;:
&nbsp;                    case &#39;:&#39;:
&nbsp;                    case EOI:
<b class="nc">&nbsp;                        nameLength = i;</b>
<b class="nc">&nbsp;                        if (ch == EOI) {</b>
<b class="nc">&nbsp;                            this.nameEnd = offset;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            this.nameEnd = offset - 1;</b>
&nbsp;                        }
<b class="nc">&nbsp;                        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                            next();</b>
&nbsp;                        }
&nbsp;                        break _for;
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
<b class="nc">&nbsp;                    switch (ch) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c2 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c3 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c4 = chars[offset++];</b>
<b class="nc">&nbsp;                            ch = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c2 = chars[offset++];</b>
<b class="nc">&nbsp;                            ch = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        case &#39;.&#39;:
&nbsp;                        case &#39;-&#39;:
&nbsp;                        case &#39;+&#39;:
&nbsp;                        case &#39;*&#39;:
&nbsp;                        case &#39;/&#39;:
&nbsp;                        case &#39;&gt;&#39;:
&nbsp;                        case &#39;&lt;&#39;:
&nbsp;                        case &#39;=&#39;:
&nbsp;                        case &#39;@&#39;:
&nbsp;                        case &#39;:&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            ch = char1(ch);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch &gt; 0xFF || i &gt;= 8 || (i == 0 &amp;&amp; ch == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    ch = first;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin + 1;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                byte c = (byte) ch;</b>
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                ch = offset &gt;= end</b>
&nbsp;                        ? EOI
&nbsp;                        : chars[offset++];
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
<b class="fc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
&nbsp;            _for:
<b class="fc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;                if (ch == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                    nameEscape = true;</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
<b class="fc">&nbsp;                    switch (ch) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c2 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c3 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c4 = chars[offset++];</b>
<b class="nc">&nbsp;                            ch = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[offset++];</b>
<b class="nc">&nbsp;                            char c2 = chars[offset++];</b>
<b class="nc">&nbsp;                            ch = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        case &#39;.&#39;:
&nbsp;                        case &#39;-&#39;:
&nbsp;                        case &#39;+&#39;:
&nbsp;                        case &#39;*&#39;:
&nbsp;                        case &#39;/&#39;:
&nbsp;                        case &#39;&gt;&#39;:
&nbsp;                        case &#39;&lt;&#39;:
&nbsp;                        case &#39;=&#39;:
&nbsp;                        case &#39;@&#39;:
&nbsp;                        case &#39;:&#39;:
<b class="fc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            ch = char1(ch);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    hashCode ^= ch;</b>
<b class="fc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="fc">&nbsp;                    next();</b>
<b class="fc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39; &#39;:
&nbsp;                    case &#39;\n&#39;:
&nbsp;                    case &#39;\r&#39;:
&nbsp;                    case &#39;\t&#39;:
&nbsp;                    case &#39;\f&#39;:
&nbsp;                    case &#39;\b&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;!&#39;:
&nbsp;                    case &#39;[&#39;:
&nbsp;                    case &#39;]&#39;:
&nbsp;                    case &#39;{&#39;:
&nbsp;                    case &#39;}&#39;:
&nbsp;                    case &#39;(&#39;:
&nbsp;                    case &#39;)&#39;:
&nbsp;                    case &#39;,&#39;:
&nbsp;                    case &#39;:&#39;:
&nbsp;                    case EOI:
<b class="fc">&nbsp;                        nameLength = i;</b>
<b class="fc">&nbsp;                        if (ch == EOI) {</b>
<b class="fc">&nbsp;                            this.nameEnd = offset;</b>
&nbsp;                        } else {
<b class="fc">&nbsp;                            this.nameEnd = offset - 1;</b>
&nbsp;                        }
<b class="fc">&nbsp;                        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                            next();</b>
&nbsp;                        }
&nbsp;                        break _for;
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                hashCode ^= ch;</b>
<b class="fc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;
<b class="fc">&nbsp;                ch = offset &gt;= end</b>
&nbsp;                        ? EOI
&nbsp;                        : chars[offset++];
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;:&#39;) {</b>
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readFieldNameHashCode() {
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        while (ch == &#39;/&#39; &amp;&amp; offset &lt; chars.length &amp;&amp; chars[offset] == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            skipLineComment();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            if ((context.features &amp; Feature.AllowUnQuotedFieldNames.mask) != 0 &amp;&amp; isFirstIdentifier(ch)) {</b>
<b class="fc">&nbsp;                return readFieldNameHashCodeUnquote();</b>
&nbsp;            }
<b class="fc">&nbsp;            if (ch == &#39;}&#39; || isNull()) {</b>
<b class="nc">&nbsp;                return -1;</b>
&nbsp;            }
&nbsp;
&nbsp;            String errorMsg, preFieldName;
<b class="fc">&nbsp;            if (ch == &#39;[&#39; &amp;&amp; nameBegin &gt; 0 &amp;&amp; (preFieldName = getFieldName()) != null) {</b>
<b class="nc">&nbsp;                errorMsg = &quot;illegal fieldName input &quot; + ch + &quot;, previous fieldName &quot; + preFieldName;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                errorMsg = &quot;illegal fieldName input&quot; + ch;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            throw new JSONException(info(errorMsg));</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;        this.stringValue = null;</b>
<b class="fc">&nbsp;        this.nameEscape = false;</b>
<b class="fc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
&nbsp;
<b class="fc">&nbsp;        long nameValue = 0;</b>
<b class="fc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
<b class="nc">&nbsp;            if (offset + 9 &lt; end) {</b>
<b class="nc">&nbsp;                char c0 = chars[offset];</b>
<b class="nc">&nbsp;                char c1 = chars[offset + 1];</b>
<b class="nc">&nbsp;                char c2 = chars[offset + 2];</b>
<b class="nc">&nbsp;                char c3 = chars[offset + 3];</b>
<b class="nc">&nbsp;                char c4 = chars[offset + 4];</b>
<b class="nc">&nbsp;                char c5 = chars[offset + 5];</b>
<b class="nc">&nbsp;                char c6 = chars[offset + 6];</b>
<b class="nc">&nbsp;                char c7 = chars[offset + 7];</b>
<b class="nc">&nbsp;                char c8 = chars[offset + 8];</b>
&nbsp;
<b class="nc">&nbsp;                if (c0 == quote) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                } else if (c1 == quote &amp;&amp; c0 != 0 &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c0 &lt;= 0xFF) {</b>
<b class="nc">&nbsp;                    nameValue = (byte) c0;</b>
<b class="nc">&nbsp;                    this.nameLength = 1;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 1;</b>
<b class="nc">&nbsp;                    offset += 2;</b>
<b class="nc">&nbsp;                } else if (c2 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue = (((byte) c1) &lt;&lt; 8)</b>
&nbsp;                            + c0;
<b class="nc">&nbsp;                    this.nameLength = 2;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 2;</b>
<b class="nc">&nbsp;                    offset += 3;</b>
<b class="nc">&nbsp;                } else if (c3 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((byte) c2) &lt;&lt; 16)
&nbsp;                            + (c1 &lt;&lt; 8)
&nbsp;                            + c0;
<b class="nc">&nbsp;                    this.nameLength = 3;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 3;</b>
<b class="nc">&nbsp;                    offset += 4;</b>
<b class="nc">&nbsp;                } else if (c4 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((byte) c3) &lt;&lt; 24)
&nbsp;                            + (c2 &lt;&lt; 16)
&nbsp;                            + (c1 &lt;&lt; 8)
&nbsp;                            + c0;
<b class="nc">&nbsp;                    this.nameLength = 4;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 4;</b>
<b class="nc">&nbsp;                    offset += 5;</b>
<b class="nc">&nbsp;                } else if (c5 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((long) ((byte) c4)) &lt;&lt; 32)
&nbsp;                            + (((long) c3) &lt;&lt; 24)
&nbsp;                            + (((long) c2) &lt;&lt; 16)
&nbsp;                            + (((long) c1) &lt;&lt; 8)
&nbsp;                            + (long) c0;
<b class="nc">&nbsp;                    this.nameLength = 5;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 5;</b>
<b class="nc">&nbsp;                    offset += 6;</b>
<b class="nc">&nbsp;                } else if (c6 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((long) ((byte) c5)) &lt;&lt; 40)
&nbsp;                            + (((long) c4) &lt;&lt; 32)
&nbsp;                            + (((long) c3) &lt;&lt; 24)
&nbsp;                            + (((long) c2) &lt;&lt; 16)
&nbsp;                            + (((long) c1) &lt;&lt; 8)
&nbsp;                            + (long) c0;
<b class="nc">&nbsp;                    this.nameLength = 6;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 6;</b>
<b class="nc">&nbsp;                    offset += 7;</b>
<b class="nc">&nbsp;                } else if (c7 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39; &amp;&amp; c6 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF &amp;&amp; c6 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((long) ((byte) c6)) &lt;&lt; 48)
&nbsp;                            + (((long) c5) &lt;&lt; 40)
&nbsp;                            + (((long) c4) &lt;&lt; 32)
&nbsp;                            + (((long) c3) &lt;&lt; 24)
&nbsp;                            + (((long) c2) &lt;&lt; 16)
&nbsp;                            + (((long) c1) &lt;&lt; 8)
&nbsp;                            + (long) c0;
<b class="nc">&nbsp;                    this.nameLength = 7;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 7;</b>
<b class="nc">&nbsp;                    offset += 8;</b>
<b class="nc">&nbsp;                } else if (c8 == quote &amp;&amp; c0 != 0</b>
&nbsp;                        &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39; &amp;&amp; c6 != &#39;\\&#39; &amp;&amp; c7 != &#39;\\&#39;
&nbsp;                        &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF &amp;&amp; c6 &lt;= 0xFF &amp;&amp; c7 &lt;= 0xFF
&nbsp;                ) {
<b class="nc">&nbsp;                    nameValue</b>
&nbsp;                            = (((long) ((byte) c7)) &lt;&lt; 56)
&nbsp;                            + (((long) c6) &lt;&lt; 48)
&nbsp;                            + (((long) c5) &lt;&lt; 40)
&nbsp;                            + (((long) c4) &lt;&lt; 32)
&nbsp;                            + (((long) c3) &lt;&lt; 24)
&nbsp;                            + (((long) c2) &lt;&lt; 16)
&nbsp;                            + (((long) c1) &lt;&lt; 8)
&nbsp;                            + (long) c0;
<b class="nc">&nbsp;                    this.nameLength = 8;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset + 8;</b>
<b class="nc">&nbsp;                    offset += 9;</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (MIXED_HASH_ALGORITHM &amp;&amp; nameValue == 0) {</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++, i++) {</b>
<b class="nc">&nbsp;                char c = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    if (i == 0) {</b>
<b class="nc">&nbsp;                        offset = this.nameBegin;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = chars[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c3 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c4 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt; 0xFF || i &gt;= 8 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
<b class="fc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
<b class="fc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;                char c = chars[offset];</b>
<b class="fc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                    nameEscape = true;</b>
<b class="fc">&nbsp;                    c = chars[++offset];</b>
<b class="fc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="fc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="fc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="fc">&nbsp;                            char c3 = chars[++offset];</b>
<b class="fc">&nbsp;                            char c4 = chars[++offset];</b>
<b class="fc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="fc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="fc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    hashCode ^= c;</b>
<b class="fc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="fc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (c == quote) {</b>
<b class="fc">&nbsp;                    this.nameLength = i;</b>
<b class="fc">&nbsp;                    this.nameEnd = offset;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                hashCode ^= c;</b>
<b class="fc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        char c;
<b class="fc">&nbsp;        if (offset &lt; end) {</b>
<b class="fc">&nbsp;            c = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;            while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                c = chars[offset];</b>
&nbsp;            }
&nbsp;        } else {
<b class="nc">&nbsp;            c = EOI;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (c != &#39;:&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;expect &#39;:&#39;, but &quot; + c));</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset++;</b>
<b class="fc">&nbsp;        if (offset == end) {</b>
<b class="fc">&nbsp;            c = EOI;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            c = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            c = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.offset = offset + 1;</b>
<b class="fc">&nbsp;        this.ch = c;</b>
&nbsp;
<b class="fc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readValueHashCode() {
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            return -1;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;        this.nameEscape = false;</b>
<b class="fc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
&nbsp;
<b class="fc">&nbsp;        long nameValue = 0;</b>
<b class="fc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++, i++) {</b>
<b class="nc">&nbsp;                char c = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    if (i == 0) {</b>
<b class="nc">&nbsp;                        nameValue = 0;</b>
<b class="nc">&nbsp;                        offset = this.nameBegin;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = chars[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c3 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c4 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt; 0xFF || i &gt;= 8 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
<b class="fc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
<b class="fc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;                char c = chars[offset];</b>
<b class="fc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = chars[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c3 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c4 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            char c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    hashCode ^= c;</b>
<b class="nc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (c == &#39;&quot;&#39;) {</b>
<b class="fc">&nbsp;                    this.nameLength = i;</b>
<b class="fc">&nbsp;                    this.nameEnd = offset;</b>
<b class="fc">&nbsp;                    this.stringValue = null;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                hashCode ^= c;</b>
<b class="fc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        char c;
<b class="fc">&nbsp;        if (offset == end) {</b>
<b class="fc">&nbsp;            c = EOI;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            c = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            c = chars[offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (c == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                c = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                c = chars[offset];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                c = chars[offset];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.offset = offset + 1;</b>
<b class="fc">&nbsp;        this.ch = c;</b>
&nbsp;
<b class="fc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long getNameHashCodeLCase() {
<b class="fc">&nbsp;        int offset = nameBegin;</b>
&nbsp;
<b class="fc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
<b class="nc">&nbsp;            long nameValue = 0;</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++) {</b>
<b class="nc">&nbsp;                char c = chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    c = chars[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            int c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            int c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            int c3 = chars[++offset];</b>
<b class="nc">&nbsp;                            int c4 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            int c1 = chars[++offset];</b>
<b class="nc">&nbsp;                            int c2 = chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt; 0xFF || i &gt;= 8 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;_&#39; || c == &#39;-&#39; || c == &#39; &#39;) {</b>
<b class="nc">&nbsp;                    char c1 = chars[offset + 1];</b>
<b class="nc">&nbsp;                    if (c1 != &#39;&quot;&#39; &amp;&amp; c1 != &#39;\&#39;&#39; &amp;&amp; c1 != c) {</b>
<b class="nc">&nbsp;                        continue;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {</b>
<b class="nc">&nbsp;                    c = (char) (c + 32);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                ++i;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (nameValue != 0) {</b>
<b class="nc">&nbsp;                return nameValue;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        long hashCode = Fnv.MAGIC_HASH_CODE;</b>
<b class="fc">&nbsp;        for (; offset &lt; end; ) {</b>
<b class="fc">&nbsp;            char c = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                c = chars[++offset];</b>
<b class="fc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="fc">&nbsp;                        int c1 = chars[++offset];</b>
<b class="fc">&nbsp;                        int c2 = chars[++offset];</b>
<b class="fc">&nbsp;                        int c3 = chars[++offset];</b>
<b class="fc">&nbsp;                        int c4 = chars[++offset];</b>
<b class="fc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = chars[++offset];</b>
<b class="nc">&nbsp;                        int c2 = chars[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
&nbsp;                    default:
<b class="fc">&nbsp;                        c = char1(c);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                }
<b class="fc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (c == &#39;_&#39; || c == &#39;-&#39; || c == &#39; &#39;) {</b>
<b class="fc">&nbsp;                char c1 = chars[offset];</b>
<b class="fc">&nbsp;                if (c1 != &#39;&quot;&#39; &amp;&amp; c1 != &#39;\&#39;&#39; &amp;&amp; c1 != c) {</b>
<b class="fc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {</b>
<b class="fc">&nbsp;                c = (char) (c + 32);</b>
&nbsp;            }
<b class="fc">&nbsp;            hashCode ^= c;</b>
<b class="fc">&nbsp;            hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String getFieldName() {
<b class="fc">&nbsp;        if (!nameEscape) {</b>
<b class="fc">&nbsp;            if (this.str != null) {</b>
<b class="fc">&nbsp;                return this.str.substring(nameBegin, nameEnd);</b>
&nbsp;            } else {
<b class="fc">&nbsp;                return new String(chars, nameBegin, nameEnd - nameBegin);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        char[] chars = new char[nameLength];</b>
<b class="fc">&nbsp;        int offset = nameBegin;</b>
<b class="fc">&nbsp;        for (int i = 0; offset &lt; nameEnd; ++i) {</b>
<b class="fc">&nbsp;            char c = this.chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                c = this.chars[++offset];</b>
<b class="fc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="fc">&nbsp;                        int c1 = this.chars[++offset];</b>
<b class="fc">&nbsp;                        int c2 = this.chars[++offset];</b>
<b class="fc">&nbsp;                        int c3 = this.chars[++offset];</b>
<b class="fc">&nbsp;                        int c4 = this.chars[++offset];</b>
<b class="fc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        int c2 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;@&#39;:
&nbsp;                    case &#39;:&#39;:
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    default:
<b class="fc">&nbsp;                        c = char1(c);</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                }
<b class="fc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            chars[i] = c;</b>
<b class="fc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return new String(chars);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String readFieldName() {
<b class="fc">&nbsp;        if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            skipLineComment();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            if ((context.features &amp; Feature.AllowUnQuotedFieldNames.mask) != 0 &amp;&amp; isFirstIdentifier(ch)) {</b>
<b class="nc">&nbsp;                return readFieldNameUnquote();</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;        this.nameEscape = false;</b>
<b class="fc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
<b class="fc">&nbsp;        for (int i = 0; offset &lt; end; ++i) {</b>
<b class="fc">&nbsp;            int c = chars[offset];</b>
<b class="fc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                nameEscape = true;</b>
<b class="fc">&nbsp;                c = chars[++offset];</b>
<b class="fc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (c == quote) {</b>
<b class="fc">&nbsp;                this.nameLength = i;</b>
<b class="fc">&nbsp;                this.nameEnd = offset;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                if (offset &lt; end) {</b>
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    c = EOI;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                }
<b class="fc">&nbsp;                if (c != &#39;:&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;syntax error : &quot; + offset);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    c = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                this.offset = offset + 1;</b>
<b class="fc">&nbsp;                this.ch = (char) c;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (nameEnd &lt; nameBegin) {</b>
<b class="fc">&nbsp;            throw new JSONException(&quot;syntax error : &quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (!nameEscape) {</b>
<b class="fc">&nbsp;            long nameValue0 = -1, nameValue1 = -1;</b>
&nbsp;            int c0, c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13, c14, c15;
<b class="fc">&nbsp;            switch (nameLength) {</b>
&nbsp;                case 1:
<b class="fc">&nbsp;                    return TypeUtils.toString(chars[nameBegin]);</b>
&nbsp;                case 2:
<b class="fc">&nbsp;                    return TypeUtils.toString(chars[nameBegin], chars[nameBegin + 1]);</b>
&nbsp;                case 3:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (c2 &lt;&lt; 16)
&nbsp;                                + (c1 &lt;&lt; 8)
&nbsp;                                + c0;
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 4:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (c3 &lt;&lt; 24)
&nbsp;                                + (c2 &lt;&lt; 16)
&nbsp;                                + (c1 &lt;&lt; 8)
&nbsp;                                + c0;
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 5:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 6:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 7:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c6) &lt;&lt; 48)
&nbsp;                                + (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 8:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c7) &lt;&lt; 56)
&nbsp;                                + (((long) c6) &lt;&lt; 48)
&nbsp;                                + (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 9:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8) {
<b class="fc">&nbsp;                        nameValue0 = c0;</b>
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c8) &lt;&lt; 56)
&nbsp;                                + (((long) c7) &lt;&lt; 48)
&nbsp;                                + (((long) c6) &lt;&lt; 40)
&nbsp;                                + (((long) c5) &lt;&lt; 32)
&nbsp;                                + (((long) c4) &lt;&lt; 24)
&nbsp;                                + (((long) c3) &lt;&lt; 16)
&nbsp;                                + (((long) c2) &lt;&lt; 8)
&nbsp;                                + ((long) c1);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 10:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9) {
<b class="fc">&nbsp;                        nameValue0 = c1 &lt;&lt; 8</b>
&nbsp;                                + c0;
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c9) &lt;&lt; 56)
&nbsp;                                + (((long) c8) &lt;&lt; 48)
&nbsp;                                + (((long) c7) &lt;&lt; 40)
&nbsp;                                + (((long) c6) &lt;&lt; 32)
&nbsp;                                + (((long) c5) &lt;&lt; 24)
&nbsp;                                + (((long) c4) &lt;&lt; 16)
&nbsp;                                + (((long) c3) &lt;&lt; 8)
&nbsp;                                + ((long) c2);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 11:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = c2 &lt;&lt; 16
&nbsp;                                + (c1 &lt;&lt; 8)
&nbsp;                                + c0;
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c10) &lt;&lt; 56)
&nbsp;                                + (((long) c9) &lt;&lt; 48)
&nbsp;                                + (((long) c8) &lt;&lt; 40)
&nbsp;                                + (((long) c7) &lt;&lt; 32)
&nbsp;                                + (((long) c6) &lt;&lt; 24)
&nbsp;                                + (((long) c5) &lt;&lt; 16)
&nbsp;                                + (((long) c4) &lt;&lt; 8)
&nbsp;                                + ((long) c3);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 12:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    c11 = chars[nameBegin + 11];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10
&nbsp;                            &amp;&amp; (c11 &amp; 0xFF) == c11) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = c3 &lt;&lt; 24
&nbsp;                                + (c2 &lt;&lt; 16)
&nbsp;                                + (c1 &lt;&lt; 8)
&nbsp;                                + c0;
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c11) &lt;&lt; 56)
&nbsp;                                + (((long) c10) &lt;&lt; 48)
&nbsp;                                + (((long) c9) &lt;&lt; 40)
&nbsp;                                + (((long) c8) &lt;&lt; 32)
&nbsp;                                + (((long) c7) &lt;&lt; 24)
&nbsp;                                + (((long) c6) &lt;&lt; 16)
&nbsp;                                + (((long) c5) &lt;&lt; 8)
&nbsp;                                + ((long) c4);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 13:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    c11 = chars[nameBegin + 11];</b>
<b class="fc">&nbsp;                    c12 = chars[nameBegin + 12];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10
&nbsp;                            &amp;&amp; (c11 &amp; 0xFF) == c11
&nbsp;                            &amp;&amp; (c12 &amp; 0xFF) == c12) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c12) &lt;&lt; 56)
&nbsp;                                + (((long) c11) &lt;&lt; 48)
&nbsp;                                + (((long) c10) &lt;&lt; 40)
&nbsp;                                + (((long) c9) &lt;&lt; 32)
&nbsp;                                + (((long) c8) &lt;&lt; 24)
&nbsp;                                + (((long) c7) &lt;&lt; 16)
&nbsp;                                + (((long) c6) &lt;&lt; 8)
&nbsp;                                + ((long) c5);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 14:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    c11 = chars[nameBegin + 11];</b>
<b class="fc">&nbsp;                    c12 = chars[nameBegin + 12];</b>
<b class="fc">&nbsp;                    c13 = chars[nameBegin + 13];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10
&nbsp;                            &amp;&amp; (c11 &amp; 0xFF) == c11
&nbsp;                            &amp;&amp; (c12 &amp; 0xFF) == c12
&nbsp;                            &amp;&amp; (c13 &amp; 0xFF) == c13) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c13) &lt;&lt; 56)
&nbsp;                                + (((long) c12) &lt;&lt; 48)
&nbsp;                                + (((long) c11) &lt;&lt; 40)
&nbsp;                                + (((long) c10) &lt;&lt; 32)
&nbsp;                                + (((long) c9) &lt;&lt; 24)
&nbsp;                                + (((long) c8) &lt;&lt; 16)
&nbsp;                                + (((long) c7) &lt;&lt; 8)
&nbsp;                                + ((long) c6);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 15:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    c11 = chars[nameBegin + 11];</b>
<b class="fc">&nbsp;                    c12 = chars[nameBegin + 12];</b>
<b class="fc">&nbsp;                    c13 = chars[nameBegin + 13];</b>
<b class="fc">&nbsp;                    c14 = chars[nameBegin + 14];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10
&nbsp;                            &amp;&amp; (c11 &amp; 0xFF) == c11
&nbsp;                            &amp;&amp; (c12 &amp; 0xFF) == c12
&nbsp;                            &amp;&amp; (c13 &amp; 0xFF) == c13
&nbsp;                            &amp;&amp; (c14 &amp; 0xFF) == c14) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c6) &lt;&lt; 48)
&nbsp;                                + (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c14) &lt;&lt; 56)
&nbsp;                                + (((long) c13) &lt;&lt; 48)
&nbsp;                                + (((long) c12) &lt;&lt; 40)
&nbsp;                                + (((long) c11) &lt;&lt; 32)
&nbsp;                                + (((long) c10) &lt;&lt; 24)
&nbsp;                                + (((long) c9) &lt;&lt; 16)
&nbsp;                                + (((long) c8) &lt;&lt; 8)
&nbsp;                                + ((long) c7);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case 16:
<b class="fc">&nbsp;                    c0 = chars[nameBegin];</b>
<b class="fc">&nbsp;                    c1 = chars[nameBegin + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[nameBegin + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[nameBegin + 3];</b>
<b class="fc">&nbsp;                    c4 = chars[nameBegin + 4];</b>
<b class="fc">&nbsp;                    c5 = chars[nameBegin + 5];</b>
<b class="fc">&nbsp;                    c6 = chars[nameBegin + 6];</b>
<b class="fc">&nbsp;                    c7 = chars[nameBegin + 7];</b>
<b class="fc">&nbsp;                    c8 = chars[nameBegin + 8];</b>
<b class="fc">&nbsp;                    c9 = chars[nameBegin + 9];</b>
<b class="fc">&nbsp;                    c10 = chars[nameBegin + 10];</b>
<b class="fc">&nbsp;                    c11 = chars[nameBegin + 11];</b>
<b class="fc">&nbsp;                    c12 = chars[nameBegin + 12];</b>
<b class="fc">&nbsp;                    c13 = chars[nameBegin + 13];</b>
<b class="fc">&nbsp;                    c14 = chars[nameBegin + 14];</b>
<b class="fc">&nbsp;                    c15 = chars[nameBegin + 15];</b>
<b class="fc">&nbsp;                    if ((c0 &amp; 0xFF) == c0</b>
&nbsp;                            &amp;&amp; (c1 &amp; 0xFF) == c1
&nbsp;                            &amp;&amp; (c2 &amp; 0xFF) == c2
&nbsp;                            &amp;&amp; (c3 &amp; 0xFF) == c3
&nbsp;                            &amp;&amp; (c4 &amp; 0xFF) == c4
&nbsp;                            &amp;&amp; (c5 &amp; 0xFF) == c5
&nbsp;                            &amp;&amp; (c6 &amp; 0xFF) == c6
&nbsp;                            &amp;&amp; (c7 &amp; 0xFF) == c7
&nbsp;                            &amp;&amp; (c8 &amp; 0xFF) == c8
&nbsp;                            &amp;&amp; (c9 &amp; 0xFF) == c9
&nbsp;                            &amp;&amp; (c10 &amp; 0xFF) == c10
&nbsp;                            &amp;&amp; (c11 &amp; 0xFF) == c11
&nbsp;                            &amp;&amp; (c12 &amp; 0xFF) == c12
&nbsp;                            &amp;&amp; (c13 &amp; 0xFF) == c13
&nbsp;                            &amp;&amp; (c14 &amp; 0xFF) == c14
&nbsp;                            &amp;&amp; (c15 &amp; 0xFF) == c15) {
<b class="fc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) c7) &lt;&lt; 56)
&nbsp;                                + (((long) c6) &lt;&lt; 48)
&nbsp;                                + (((long) c5) &lt;&lt; 40)
&nbsp;                                + (((long) c4) &lt;&lt; 32)
&nbsp;                                + (((long) c3) &lt;&lt; 24)
&nbsp;                                + (((long) c2) &lt;&lt; 16)
&nbsp;                                + (((long) c1) &lt;&lt; 8)
&nbsp;                                + ((long) c0);
<b class="fc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) c15) &lt;&lt; 56)
&nbsp;                                + (((long) c14) &lt;&lt; 48)
&nbsp;                                + (((long) c13) &lt;&lt; 40)
&nbsp;                                + (((long) c12) &lt;&lt; 32)
&nbsp;                                + (((long) c11) &lt;&lt; 24)
&nbsp;                                + (((long) c10) &lt;&lt; 16)
&nbsp;                                + (((long) c9) &lt;&lt; 8)
&nbsp;                                + ((long) c8);
&nbsp;                    }
&nbsp;                    break;
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (nameValue0 != -1) {</b>
<b class="fc">&nbsp;                if (nameValue1 != -1) {</b>
<b class="fc">&nbsp;                    int indexMask = ((int) nameValue1) &amp; (NAME_CACHE2.length - 1);</b>
<b class="fc">&nbsp;                    NameCacheEntry2 entry = NAME_CACHE2[indexMask];</b>
<b class="fc">&nbsp;                    if (entry == null) {</b>
&nbsp;                        String name;
<b class="fc">&nbsp;                        if (this.str != null) {</b>
<b class="fc">&nbsp;                            name = this.str.substring(nameBegin, nameEnd);</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            name = new String(chars, nameBegin, nameEnd - nameBegin);</b>
&nbsp;                        }
<b class="fc">&nbsp;                        NAME_CACHE2[indexMask] = new NameCacheEntry2(name, nameValue0, nameValue1);</b>
<b class="fc">&nbsp;                        return name;</b>
<b class="fc">&nbsp;                    } else if (entry.value0 == nameValue0 &amp;&amp; entry.value0 == nameValue1) {</b>
<b class="nc">&nbsp;                        return entry.name;</b>
&nbsp;                    }
<b class="fc">&nbsp;                } else {</b>
<b class="fc">&nbsp;                    int indexMask = ((int) nameValue0) &amp; (NAME_CACHE.length - 1);</b>
<b class="fc">&nbsp;                    NameCacheEntry entry = NAME_CACHE[indexMask];</b>
<b class="fc">&nbsp;                    if (entry == null) {</b>
&nbsp;                        String name;
<b class="fc">&nbsp;                        if (this.str != null) {</b>
<b class="fc">&nbsp;                            name = this.str.substring(nameBegin, nameEnd);</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            name = new String(chars, nameBegin, nameEnd - nameBegin);</b>
&nbsp;                        }
<b class="fc">&nbsp;                        NAME_CACHE[indexMask] = new NameCacheEntry(name, nameValue0);</b>
<b class="fc">&nbsp;                        return name;</b>
<b class="fc">&nbsp;                    } else if (entry.value == nameValue0) {</b>
<b class="fc">&nbsp;                        return entry.name;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (this.str != null) {</b>
<b class="fc">&nbsp;                return this.str.substring(nameBegin, nameEnd);</b>
&nbsp;            } else {
<b class="fc">&nbsp;                return new String(chars, nameBegin, nameEnd - nameBegin);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return getFieldName();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean skipName() {
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            throw new JSONException(info(&quot;not support unquoted name&quot;));</b>
&nbsp;        }
<b class="fc">&nbsp;        char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;        int offset = this.offset;</b>
&nbsp;        for (; ; ) {
<b class="fc">&nbsp;            char c = chars[offset];</b>
<b class="fc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                c = chars[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (c == quote) {</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                c = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                }
<b class="fc">&nbsp;                if (c != &#39;:&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;syntax error, expect &#39;,&#39;, but &#39;&quot; + c + &quot;&#39;&quot;);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                c = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    c = chars[offset];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                this.offset = offset + 1;</b>
<b class="fc">&nbsp;                this.ch = c;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final int readInt32Value() {
<b class="fc">&nbsp;        boolean negative = false;</b>
<b class="fc">&nbsp;        int firstOffset = offset;</b>
<b class="fc">&nbsp;        final char firstChar = ch;</b>
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
&nbsp;
<b class="fc">&nbsp;        int intValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (firstChar == &#39;&quot;&#39; || firstChar == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            int intValue10 = intValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;            if (intValue10 &lt; intValue) {</b>
<b class="fc">&nbsp;                overflow = true;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                intValue = intValue10;</b>
&nbsp;            }
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        boolean notMatch = false;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="fc">&nbsp;            notMatch = true;</b>
<b class="fc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (notMatch) {</b>
<b class="fc">&nbsp;            this.offset = firstOffset;</b>
<b class="fc">&nbsp;            this.ch = firstChar;</b>
<b class="fc">&nbsp;            readNumber0();</b>
<b class="fc">&nbsp;            if (valueType == JSON_TYPE_INT) {</b>
<b class="fc">&nbsp;                BigInteger bigInteger = getBigInteger();</b>
&nbsp;                try {
<b class="fc">&nbsp;                    return bigInteger.intValueExact();</b>
<b class="nc">&nbsp;                } catch (ArithmeticException ex) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;int overflow, value &quot; + bigInteger);</b>
&nbsp;                }
&nbsp;            } else {
<b class="fc">&nbsp;                if (valueType == JSON_TYPE_NULL &amp;&amp; (context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info(&quot;int value not support input null&quot;));</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                return getInt32Value();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            wasNull = firstOffset + 1 == offset;</b>
<b class="nc">&nbsp;            ch = offset == end ? EOI : chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            this.ch = offset == end ? EOI : chars[this.offset++];</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return negative ? -intValue : intValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Integer readInt32() {
<b class="fc">&nbsp;        boolean negative = false;</b>
<b class="fc">&nbsp;        int firstOffset = offset;</b>
<b class="fc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="fc">&nbsp;        int intValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
<b class="fc">&nbsp;                    nextIfMatch(&#39;,&#39;);</b>
&nbsp;                }
<b class="fc">&nbsp;                return null;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            int intValue10 = intValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;            if (intValue10 &lt; intValue) {</b>
<b class="nc">&nbsp;                overflow = true;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                intValue = intValue10;</b>
&nbsp;            }
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        boolean notMatch = false;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="fc">&nbsp;            notMatch = true;</b>
<b class="fc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (notMatch) {</b>
<b class="fc">&nbsp;            this.offset = firstOffset;</b>
<b class="fc">&nbsp;            this.ch = firstChar;</b>
<b class="fc">&nbsp;            readNumber0();</b>
<b class="fc">&nbsp;            if (wasNull) {</b>
<b class="fc">&nbsp;                return null;</b>
&nbsp;            }
<b class="fc">&nbsp;            return getInt32Value();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return negative ? -intValue : intValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readInt64Value() {
<b class="fc">&nbsp;        boolean negative = false;</b>
<b class="fc">&nbsp;        final int firstOffset = offset;</b>
<b class="fc">&nbsp;        final char firstChar = ch;</b>
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
&nbsp;
<b class="fc">&nbsp;        long longValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;            if (intValue10 &lt; longValue) {</b>
<b class="fc">&nbsp;                overflow = true;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                longValue = intValue10;</b>
&nbsp;            }
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        boolean notMatch = false;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="fc">&nbsp;            notMatch = true;</b>
<b class="fc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="fc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (notMatch) {</b>
<b class="fc">&nbsp;            this.offset = firstOffset;</b>
<b class="fc">&nbsp;            this.ch = firstChar;</b>
<b class="fc">&nbsp;            readNumber0();</b>
<b class="fc">&nbsp;            if (valueType == JSON_TYPE_INT) {</b>
<b class="fc">&nbsp;                BigInteger bigInteger = getBigInteger();</b>
&nbsp;                try {
<b class="fc">&nbsp;                    return bigInteger.longValueExact();</b>
<b class="fc">&nbsp;                } catch (ArithmeticException ex) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;long overflow, value &quot; + bigInteger);</b>
&nbsp;                }
&nbsp;            } else {
<b class="fc">&nbsp;                return getInt64Value();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            wasNull = firstOffset + 1 == offset;</b>
<b class="fc">&nbsp;            ch = offset == end ? EOI : chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            this.ch = offset == end ? EOI : chars[this.offset++];</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return negative ? -longValue : longValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Long readInt64() {
<b class="fc">&nbsp;        boolean negative = false;</b>
<b class="fc">&nbsp;        int firstOffset = offset;</b>
<b class="fc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="fc">&nbsp;        long longValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
<b class="fc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="fc">&nbsp;                return null;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;            if (intValue10 &lt; longValue) {</b>
<b class="fc">&nbsp;                overflow = true;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                longValue = intValue10;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        boolean notMatch = false;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="fc">&nbsp;            notMatch = true;</b>
<b class="fc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="fc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (notMatch) {</b>
<b class="fc">&nbsp;            this.offset = firstOffset;</b>
<b class="fc">&nbsp;            this.ch = firstChar;</b>
<b class="fc">&nbsp;            readNumber0();</b>
<b class="fc">&nbsp;            return getInt64();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return negative ? -longValue : longValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final double readDoubleValue() {
<b class="fc">&nbsp;        this.wasNull = false;</b>
&nbsp;
<b class="fc">&nbsp;        boolean value = false;</b>
<b class="fc">&nbsp;        double doubleValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
<b class="fc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="fc">&nbsp;                wasNull = true;</b>
<b class="fc">&nbsp;                return 0;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final int start = offset;</b>
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        } else {
<b class="fc">&nbsp;            negative = false;</b>
<b class="fc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        long longValue = 0;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            if (!overflow) {</b>
<b class="fc">&nbsp;                long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    longValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.scale = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                this.scale++;</b>
<b class="fc">&nbsp;                if (!overflow) {</b>
<b class="fc">&nbsp;                    long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                    if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                        overflow = true;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        longValue = intValue10;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int expValue = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="fc">&nbsp;            boolean negativeExp = false;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;                negativeExp = true;</b>
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="fc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            if (negativeExp) {</b>
<b class="fc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == start) {</b>
<b class="fc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;long value not support input null&quot;));</b>
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    wasNull = true;</b>
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    doubleValue = 1;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    doubleValue = 0;</b>
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                Map&lt;String, Object&gt; obj = readObject();</b>
<b class="nc">&nbsp;                if (!obj.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                List array = readArray();</b>
<b class="nc">&nbsp;                if (!array.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="fc">&nbsp;        String str = null;</b>
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (ch != quote) {</b>
<b class="fc">&nbsp;                this.offset -= 1;</b>
<b class="fc">&nbsp;                this.ch = quote;</b>
<b class="fc">&nbsp;                str = readString();</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (!value) {</b>
<b class="fc">&nbsp;            if (!overflow) {</b>
<b class="fc">&nbsp;                if (longValue == 0) {</b>
<b class="fc">&nbsp;                    if (scale == 1) {</b>
<b class="fc">&nbsp;                        doubleValue = 0;</b>
<b class="fc">&nbsp;                        value = true;</b>
&nbsp;                    }
&nbsp;                } else {
<b class="fc">&nbsp;                    int scale = this.scale - expValue;</b>
<b class="fc">&nbsp;                    double v = longValue;</b>
<b class="fc">&nbsp;                    if (scale == 0) {</b>
<b class="fc">&nbsp;                        doubleValue = v;</b>
<b class="fc">&nbsp;                        if (negative) {</b>
<b class="fc">&nbsp;                            doubleValue = -doubleValue;</b>
&nbsp;                        }
<b class="fc">&nbsp;                        value = true;</b>
<b class="fc">&nbsp;                    } else if ((long) v == longValue) {</b>
<b class="fc">&nbsp;                        if (0 &lt; scale &amp;&amp; scale &lt; DOUBLE_10_POW.length) {</b>
<b class="fc">&nbsp;                            doubleValue = v / DOUBLE_10_POW[scale];</b>
<b class="fc">&nbsp;                            if (negative) {</b>
<b class="fc">&nbsp;                                doubleValue = -doubleValue;</b>
&nbsp;                            }
<b class="fc">&nbsp;                            value = true;</b>
<b class="fc">&nbsp;                        } else if (0 &gt; scale &amp;&amp; scale &gt; -DOUBLE_10_POW.length) {</b>
<b class="fc">&nbsp;                            doubleValue = v * DOUBLE_10_POW[-scale];</b>
<b class="fc">&nbsp;                            if (negative) {</b>
<b class="fc">&nbsp;                                doubleValue = -doubleValue;</b>
&nbsp;                            }
<b class="fc">&nbsp;                            value = true;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    if (!value &amp;&amp; scale &gt; -128 &amp;&amp; scale &lt; 128) {</b>
<b class="fc">&nbsp;                        doubleValue = TypeUtils.doubleValue(negative ? -1 : 1, longValue, scale);</b>
<b class="fc">&nbsp;                        value = true;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (!value) {</b>
<b class="fc">&nbsp;                if (str != null) {</b>
&nbsp;                    try {
<b class="fc">&nbsp;                        doubleValue = Double.parseDouble(str);</b>
<b class="fc">&nbsp;                    } catch (NumberFormatException ex) {</b>
<b class="fc">&nbsp;                        throw new JSONException(info(), ex);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    doubleValue = TypeUtils.parseDouble(chars, start - 1, len);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39;B&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;S&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;L&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;F&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;D&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return doubleValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final float readFloatValue() {
<b class="fc">&nbsp;        this.wasNull = false;</b>
&nbsp;
<b class="fc">&nbsp;        boolean value = false;</b>
<b class="fc">&nbsp;        float floatValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
<b class="fc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="fc">&nbsp;                wasNull = true;</b>
<b class="fc">&nbsp;                return 0;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final int start = offset;</b>
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        } else {
<b class="fc">&nbsp;            negative = false;</b>
<b class="fc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        long longValue = 0;</b>
&nbsp;
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            if (!overflow) {</b>
<b class="fc">&nbsp;                long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    longValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.scale = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                this.scale++;</b>
<b class="fc">&nbsp;                if (!overflow) {</b>
<b class="fc">&nbsp;                    long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                    if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                        overflow = true;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        longValue = intValue10;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int expValue = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="fc">&nbsp;            boolean negativeExp = false;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;                negativeExp = true;</b>
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="fc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            if (negativeExp) {</b>
<b class="fc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == start) {</b>
<b class="fc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;long value not support input null&quot;));</b>
&nbsp;                    }
<b class="fc">&nbsp;                    wasNull = true;</b>
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    floatValue = 1;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    floatValue = 0;</b>
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                Map&lt;String, Object&gt; obj = readObject();</b>
<b class="nc">&nbsp;                if (!obj.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                List array = readArray();</b>
<b class="nc">&nbsp;                if (!array.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="fc">&nbsp;        String str = null;</b>
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (ch != quote) {</b>
<b class="nc">&nbsp;                overflow = true;</b>
<b class="nc">&nbsp;                this.offset -= 1;</b>
<b class="nc">&nbsp;                this.ch = quote;</b>
<b class="nc">&nbsp;                str = readString();</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (!value) {</b>
<b class="fc">&nbsp;            if (!overflow) {</b>
<b class="fc">&nbsp;                int scale = this.scale - expValue;</b>
<b class="fc">&nbsp;                float v = longValue;</b>
<b class="fc">&nbsp;                if (scale == 0) {</b>
<b class="fc">&nbsp;                    floatValue = (float) longValue;</b>
<b class="fc">&nbsp;                    if (negative) {</b>
<b class="nc">&nbsp;                        floatValue = -floatValue;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                } else if ((long) v == longValue) {</b>
<b class="fc">&nbsp;                    if (0 &lt; scale &amp;&amp; scale &lt; FLOAT_10_POW.length) {</b>
<b class="fc">&nbsp;                        floatValue = v / FLOAT_10_POW[scale];</b>
<b class="fc">&nbsp;                        if (negative) {</b>
<b class="fc">&nbsp;                            floatValue = -floatValue;</b>
&nbsp;                        }
<b class="fc">&nbsp;                    } else if (0 &gt; scale &amp;&amp; scale &gt; -FLOAT_10_POW.length) {</b>
<b class="fc">&nbsp;                        floatValue = v * FLOAT_10_POW[-scale];</b>
<b class="fc">&nbsp;                        if (negative) {</b>
<b class="fc">&nbsp;                            floatValue = -floatValue;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (!value &amp;&amp; scale &gt; -128 &amp;&amp; scale &lt; 128) {</b>
<b class="fc">&nbsp;                    floatValue = TypeUtils.floatValue(negative ? -1 : 1, longValue, scale);</b>
<b class="fc">&nbsp;                    value = true;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (!value) {</b>
<b class="nc">&nbsp;                if (str != null) {</b>
&nbsp;                    try {
<b class="nc">&nbsp;                        floatValue = Float.parseFloat(str);</b>
<b class="nc">&nbsp;                    } catch (NumberFormatException ex) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(), ex);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    floatValue = TypeUtils.parseFloat(chars, start - 1, len);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39;B&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;S&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;L&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;F&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;D&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (this.comma = ch == &#39;,&#39;) {</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return floatValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void skipString() {
<b class="fc">&nbsp;        char quote = this.ch;</b>
<b class="fc">&nbsp;        ch = chars[offset++];</b>
&nbsp;        _for:
&nbsp;        for (; ; ) {
<b class="fc">&nbsp;            if (ch == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info(&quot;illegal string, end&quot;));</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;                if (ch == &#39;\\&#39; || ch == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
<b class="fc">&nbsp;                if (ch == &#39;u&#39;) {</b>
<b class="fc">&nbsp;                    offset += 4;</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
<b class="fc">&nbsp;                    continue;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = char1(ch);</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset &lt; end) {</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                }
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset &lt; end) {</b>
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String getString() {
<b class="fc">&nbsp;        if (stringValue != null) {</b>
<b class="nc">&nbsp;            return stringValue;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int length = nameEnd - nameBegin;</b>
<b class="fc">&nbsp;        if (!nameEscape) {</b>
<b class="fc">&nbsp;            return new String(chars, nameBegin, length);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        char[] chars = new char[nameLength];</b>
<b class="nc">&nbsp;        int offset = nameBegin;</b>
<b class="nc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;            char c = this.chars[offset];</b>
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                c = this.chars[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        int c1 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        int c2 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        int c3 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        int c4 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        int c2 = this.chars[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
<b class="nc">&nbsp;                        c = char1(c);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            chars[i] = c;</b>
<b class="nc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return stringValue = new String(chars);</b>
&nbsp;    }
&nbsp;
&nbsp;    protected final void readString0() {
<b class="fc">&nbsp;        char quote = this.ch;</b>
<b class="fc">&nbsp;        int offset = this.offset;</b>
<b class="fc">&nbsp;        int start = offset;</b>
&nbsp;        int valueLength;
<b class="fc">&nbsp;        valueEscape = false;</b>
&nbsp;
&nbsp;        _for:
<b class="fc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;            char c = chars[offset];</b>
<b class="fc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                valueEscape = true;</b>
<b class="nc">&nbsp;                c = chars[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (c == quote) {</b>
<b class="fc">&nbsp;                valueLength = i;</b>
<b class="fc">&nbsp;                break _for;</b>
&nbsp;            }
<b class="fc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
&nbsp;        String str;
<b class="fc">&nbsp;        if (valueEscape) {</b>
<b class="nc">&nbsp;            char[] chars = new char[valueLength];</b>
<b class="nc">&nbsp;            offset = start;</b>
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                char c = this.chars[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    c = this.chars[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            int c1 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            int c2 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            int c3 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            int c4 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            int c1 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            int c2 = this.chars[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                chars[i] = c;</b>
<b class="nc">&nbsp;                offset++;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            str = new String(chars);</b>
<b class="nc">&nbsp;        } else {</b>
<b class="fc">&nbsp;            str = new String(chars, this.offset, offset - this.offset);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        ++offset;</b>
&nbsp;        int b;
<b class="fc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            b = EOI;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            b = chars[offset];</b>
&nbsp;        }
<b class="fc">&nbsp;        while (b &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; b) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            b = chars[++offset];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (b == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            this.offset = offset + 1;</b>
&nbsp;
&nbsp;            // inline next
<b class="fc">&nbsp;            ch = chars[this.offset++];</b>
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[this.offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        } else {
<b class="fc">&nbsp;            this.offset = offset + 1;</b>
<b class="fc">&nbsp;            this.ch = (char) b;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        stringValue = str;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String readString() {
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            final char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;            int offset = this.offset;</b>
<b class="fc">&nbsp;            int start = offset;</b>
&nbsp;            int valueLength;
<b class="fc">&nbsp;            boolean valueEscape = false;</b>
&nbsp;
&nbsp;            _for:
&nbsp;            {
<b class="fc">&nbsp;                int i = 0;</b>
<b class="fc">&nbsp;                char c0 = 0, c1 = 0, c2 = 0, c3 = 0;</b>
&nbsp;
&nbsp;                // vector optimize
<b class="fc">&nbsp;                boolean quoted = false;</b>
<b class="fc">&nbsp;                int upperBound = offset + ((end - offset) &amp; ~3);</b>
<b class="fc">&nbsp;                while (offset &lt; upperBound) {</b>
<b class="fc">&nbsp;                    c0 = chars[offset];</b>
<b class="fc">&nbsp;                    c1 = chars[offset + 1];</b>
<b class="fc">&nbsp;                    c2 = chars[offset + 2];</b>
<b class="fc">&nbsp;                    c3 = chars[offset + 3];</b>
<b class="fc">&nbsp;                    if (c0 == &#39;\\&#39; || c1 == &#39;\\&#39; || c2 == &#39;\\&#39; || c3 == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    if (c0 == quote || c1 == quote || c2 == quote || c3 == quote) {</b>
<b class="fc">&nbsp;                        quoted = true;</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    offset += 4;</b>
<b class="fc">&nbsp;                    i += 4;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (quoted) {</b>
<b class="fc">&nbsp;                    if (c0 == quote) {</b>
&nbsp;                        // skip
<b class="fc">&nbsp;                    } else if (c1 == quote) {</b>
<b class="fc">&nbsp;                        offset++;</b>
<b class="fc">&nbsp;                        i++;</b>
<b class="fc">&nbsp;                    } else if (c2 == quote) {</b>
<b class="fc">&nbsp;                        offset += 2;</b>
<b class="fc">&nbsp;                        i += 2;</b>
<b class="fc">&nbsp;                    } else if (c3 == quote) {</b>
<b class="fc">&nbsp;                        offset += 3;</b>
<b class="fc">&nbsp;                        i += 3;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    valueLength = i;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    for (; ; ++i) {</b>
<b class="fc">&nbsp;                        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                            throw new JSONException(info(&quot;invalid escape character EOI&quot;));</b>
&nbsp;                        }
<b class="fc">&nbsp;                        char c = chars[offset];</b>
<b class="fc">&nbsp;                        if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                            valueEscape = true;</b>
<b class="fc">&nbsp;                            c = chars[++offset];</b>
<b class="fc">&nbsp;                            switch (c) {</b>
&nbsp;                                case &#39;u&#39;: {
<b class="fc">&nbsp;                                    offset += 4;</b>
<b class="fc">&nbsp;                                    break;</b>
&nbsp;                                }
&nbsp;                                case &#39;x&#39;: {
<b class="fc">&nbsp;                                    offset += 2;</b>
<b class="fc">&nbsp;                                    break;</b>
&nbsp;                                }
&nbsp;                                default:
&nbsp;                                    // skip
&nbsp;                                    break;
&nbsp;                            }
<b class="fc">&nbsp;                            offset++;</b>
<b class="fc">&nbsp;                            continue;</b>
&nbsp;                        }
&nbsp;
<b class="fc">&nbsp;                        if (c == quote) {</b>
<b class="fc">&nbsp;                            valueLength = i;</b>
<b class="fc">&nbsp;                            break _for;</b>
&nbsp;                        }
<b class="fc">&nbsp;                        offset++;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;            String str;
<b class="fc">&nbsp;            if (valueEscape) {</b>
<b class="fc">&nbsp;                char[] chars = new char[valueLength];</b>
<b class="fc">&nbsp;                offset = start;</b>
<b class="fc">&nbsp;                for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;                    char c = this.chars[offset];</b>
<b class="fc">&nbsp;                    if (c == &#39;\\&#39;) {</b>
<b class="fc">&nbsp;                        c = this.chars[++offset];</b>
<b class="fc">&nbsp;                        switch (c) {</b>
&nbsp;                            case &#39;u&#39;: {
<b class="fc">&nbsp;                                char c1 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                char c2 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                char c3 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                char c4 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                c = char4(c1, c2, c3, c4);</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            case &#39;x&#39;: {
<b class="fc">&nbsp;                                char c1 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                char c2 = this.chars[++offset];</b>
<b class="fc">&nbsp;                                c = char2(c1, c2);</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            case &#39;\\&#39;:
&nbsp;                            case &#39;&quot;&#39;:
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            case &#39;b&#39;:
<b class="fc">&nbsp;                                c = &#39;\b&#39;;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            case &#39;t&#39;:
<b class="fc">&nbsp;                                c = &#39;\t&#39;;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            case &#39;n&#39;:
<b class="fc">&nbsp;                                c = &#39;\n&#39;;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            case &#39;f&#39;:
<b class="fc">&nbsp;                                c = &#39;\f&#39;;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            case &#39;r&#39;:
<b class="fc">&nbsp;                                c = &#39;\r&#39;;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            default:
<b class="nc">&nbsp;                                c = char1(c);</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                        }
<b class="fc">&nbsp;                    } else if (c == quote) {</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    chars[i] = c;</b>
<b class="fc">&nbsp;                    offset++;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (STRING_CREATOR_JDK8 != null) {</b>
<b class="fc">&nbsp;                    str = STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    str = new String(chars);</b>
&nbsp;                }
<b class="fc">&nbsp;            } else {</b>
&nbsp;                char c0, c1;
<b class="fc">&nbsp;                int strlen = offset - this.offset;</b>
<b class="fc">&nbsp;                if (strlen == 1 &amp;&amp; (c0 = this.chars[this.offset]) &lt; 128) {</b>
<b class="fc">&nbsp;                    str = TypeUtils.toString(c0);</b>
<b class="fc">&nbsp;                } else if (strlen == 2</b>
&nbsp;                        &amp;&amp; (c0 = this.chars[this.offset]) &lt; 128
&nbsp;                        &amp;&amp; (c1 = this.chars[this.offset + 1]) &lt; 128
&nbsp;                ) {
<b class="fc">&nbsp;                    str = TypeUtils.toString(c0, c1);</b>
<b class="fc">&nbsp;                } else if (this.str != null &amp;&amp; (JVM_VERSION &gt; 8 || ANDROID)) {</b>
<b class="nc">&nbsp;                    str = this.str.substring(this.offset, offset);</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    str = new String(chars, this.offset, offset - this.offset);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if ((context.features &amp; Feature.TrimString.mask) != 0) {</b>
<b class="fc">&nbsp;                str = str.trim();</b>
&nbsp;            }
&nbsp;
&nbsp;            clear:
<b class="fc">&nbsp;            if (++offset != end) {</b>
<b class="fc">&nbsp;                char e = chars[offset++];</b>
<b class="fc">&nbsp;                while (e &lt;= &#39; &#39; &amp;&amp; (1L &lt;&lt; e &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="fc">&nbsp;                        break clear;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        e = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (comma = e == &#39;,&#39;) {</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="fc">&nbsp;                        e = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        e = chars[offset++];</b>
<b class="fc">&nbsp;                        while (e &lt;= &#39; &#39; &amp;&amp; (1L &lt;&lt; e &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                            if (offset == end) {</b>
<b class="fc">&nbsp;                                e = EOI;</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            } else {
<b class="fc">&nbsp;                                e = chars[offset++];</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                this.ch = e;</b>
<b class="fc">&nbsp;                this.offset = offset;</b>
<b class="fc">&nbsp;                return str;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            this.ch = EOI;</b>
<b class="fc">&nbsp;            this.comma = false;</b>
<b class="fc">&nbsp;            this.offset = offset;</b>
<b class="fc">&nbsp;            return str;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        switch (ch) {</b>
&nbsp;            case &#39;[&#39;:
<b class="nc">&nbsp;                return toString(</b>
<b class="nc">&nbsp;                        readArray());</b>
&nbsp;            case &#39;{&#39;:
<b class="nc">&nbsp;                return toString(</b>
<b class="nc">&nbsp;                        readObject());</b>
&nbsp;            case &#39;-&#39;:
&nbsp;            case &#39;+&#39;:
&nbsp;            case &#39;0&#39;:
&nbsp;            case &#39;1&#39;:
&nbsp;            case &#39;2&#39;:
&nbsp;            case &#39;3&#39;:
&nbsp;            case &#39;4&#39;:
&nbsp;            case &#39;5&#39;:
&nbsp;            case &#39;6&#39;:
&nbsp;            case &#39;7&#39;:
&nbsp;            case &#39;8&#39;:
&nbsp;            case &#39;9&#39;:
<b class="fc">&nbsp;                readNumber0();</b>
<b class="fc">&nbsp;                Number number = getNumber();</b>
<b class="fc">&nbsp;                return number.toString();</b>
&nbsp;            case &#39;t&#39;:
&nbsp;            case &#39;f&#39;:
<b class="nc">&nbsp;                boolValue = readBoolValue();</b>
<b class="nc">&nbsp;                return boolValue ? &quot;true&quot; : &quot;false&quot;;</b>
&nbsp;            case &#39;n&#39;: {
<b class="fc">&nbsp;                readNull();</b>
<b class="fc">&nbsp;                return null;</b>
&nbsp;            }
&nbsp;            default:
<b class="fc">&nbsp;                throw new JSONException(info(&quot;illegal input : &quot; + ch));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void skipValue() {
<b class="fc">&nbsp;        switch (ch) {</b>
&nbsp;            case &#39;[&#39;: {
<b class="fc">&nbsp;                next();</b>
<b class="fc">&nbsp;                for (int i = 0; ; ++i) {</b>
<b class="fc">&nbsp;                    if (ch == &#39;]&#39;) {</b>
<b class="fc">&nbsp;                        next();</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    if (i != 0 &amp;&amp; !comma) {</b>
<b class="nc">&nbsp;                        throw new JSONValidException(info(&quot;illegal value&quot;));</b>
&nbsp;                    }
<b class="fc">&nbsp;                    comma = false;</b>
<b class="fc">&nbsp;                    skipValue();</b>
&nbsp;                }
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case &#39;{&#39;: {
<b class="fc">&nbsp;                next();</b>
&nbsp;                for (; ; ) {
<b class="fc">&nbsp;                    if (ch == &#39;}&#39;) {</b>
<b class="fc">&nbsp;                        comma = false;</b>
<b class="fc">&nbsp;                        next();</b>
<b class="fc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="fc">&nbsp;                    skipName();</b>
<b class="fc">&nbsp;                    skipValue();</b>
&nbsp;                }
&nbsp;                break;
&nbsp;            }
&nbsp;            case &#39;&quot;&#39;: {
<b class="fc">&nbsp;                skipString();</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case &#39;-&#39;:
&nbsp;            case &#39;+&#39;:
&nbsp;            case &#39;0&#39;:
&nbsp;            case &#39;1&#39;:
&nbsp;            case &#39;2&#39;:
&nbsp;            case &#39;3&#39;:
&nbsp;            case &#39;4&#39;:
&nbsp;            case &#39;5&#39;:
&nbsp;            case &#39;6&#39;:
&nbsp;            case &#39;7&#39;:
&nbsp;            case &#39;8&#39;:
&nbsp;            case &#39;9&#39;:
&nbsp;            case &#39;.&#39;:
<b class="fc">&nbsp;                boolean sign = ch == &#39;-&#39; || ch == &#39;+&#39;;</b>
<b class="fc">&nbsp;                if (sign) {</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;                boolean dot = ch == &#39;.&#39;;</b>
<b class="fc">&nbsp;                boolean space = false;</b>
<b class="fc">&nbsp;                boolean num = false;</b>
<b class="fc">&nbsp;                if (!dot &amp;&amp; (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)) {</b>
<b class="fc">&nbsp;                    num = true;</b>
&nbsp;                    for (; ; ) {
<b class="fc">&nbsp;                        if (offset &lt; end) {</b>
<b class="fc">&nbsp;                            ch = chars[offset++];</b>
&nbsp;                        } else {
<b class="fc">&nbsp;                            ch = EOI;</b>
&nbsp;                            return;
&nbsp;                        }
&nbsp;
<b class="fc">&nbsp;                        if (space || ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="fc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                boolean small = false;</b>
<b class="fc">&nbsp;                if (ch == &#39;.&#39;) {</b>
<b class="fc">&nbsp;                    small = true;</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
&nbsp;                        for (; ; ) {
<b class="fc">&nbsp;                            if (offset &lt; end) {</b>
<b class="fc">&nbsp;                                ch = chars[offset++];</b>
&nbsp;                            } else {
<b class="fc">&nbsp;                                ch = EOI;</b>
&nbsp;                                return;
&nbsp;                            }
&nbsp;
<b class="fc">&nbsp;                            if (space || ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (!num &amp;&amp; !small) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;illegal number, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;                    boolean eSign = false;</b>
<b class="fc">&nbsp;                    if (ch == &#39;+&#39; || ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;                        eSign = true;</b>
<b class="fc">&nbsp;                        if (offset &lt; end) {</b>
<b class="fc">&nbsp;                            ch = chars[offset++];</b>
&nbsp;                        } else {
<b class="fc">&nbsp;                            throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
&nbsp;                        for (; ; ) {
<b class="fc">&nbsp;                            if (offset &lt; end) {</b>
<b class="fc">&nbsp;                                ch = chars[offset++];</b>
&nbsp;                            } else {
<b class="fc">&nbsp;                                ch = EOI;</b>
&nbsp;                                return;
&nbsp;                            }
&nbsp;
<b class="fc">&nbsp;                            if (ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="fc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                        }
<b class="fc">&nbsp;                    } else if (eSign) {</b>
<b class="fc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;,&#39;) {</b>
<b class="fc">&nbsp;                    comma = true;</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    ch = chars[offset];</b>
<b class="fc">&nbsp;                    while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                        offset++;</b>
<b class="fc">&nbsp;                        if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                            throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                        }
<b class="fc">&nbsp;                        ch = chars[offset];</b>
&nbsp;                    }
<b class="fc">&nbsp;                    comma = true;</b>
<b class="fc">&nbsp;                    offset++;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            case &#39;t&#39;:
<b class="fc">&nbsp;                if (offset + 3 &gt; end) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                if (chars[offset] != &#39;r&#39; || chars[offset + 1] != &#39;u&#39; || chars[offset + 2] != &#39;e&#39;) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                offset += 3;</b>
<b class="fc">&nbsp;                if (offset &lt; end) {</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;f&#39;:
<b class="fc">&nbsp;                if (offset + 4 &gt; end) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                if (chars[offset] != &#39;a&#39; || chars[offset + 1] != &#39;l&#39; || chars[offset + 2] != &#39;s&#39; || chars[offset + 3] != &#39;e&#39;) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                offset += 4;</b>
<b class="fc">&nbsp;                if (offset &lt; end) {</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;n&#39;:
<b class="fc">&nbsp;                if (offset + 3 &gt; end) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                if (chars[offset] != &#39;u&#39; || chars[offset + 1] != &#39;l&#39; || chars[offset + 2] != &#39;l&#39;) {</b>
<b class="fc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                offset += 3;</b>
<b class="fc">&nbsp;                if (offset &lt; end) {</b>
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &lt; end) {</b>
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;S&#39;:
<b class="nc">&nbsp;                if (nextIfSet()) {</b>
<b class="nc">&nbsp;                    skipValue();</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            default:
<b class="fc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;,&#39;) {</b>
<b class="fc">&nbsp;            comma = true;</b>
<b class="fc">&nbsp;            if (offset &gt;= length) {</b>
<b class="fc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            ch = chars[offset];</b>
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;        } else if (!comma &amp;&amp; ch != &#39;}&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != EOI) {</b>
<b class="fc">&nbsp;            throw new JSONValidException(info(&quot;illegal ch &quot; + ch));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void skipLineComment() {
&nbsp;        while (true) {
<b class="fc">&nbsp;            if (ch == &#39;\n&#39;) {</b>
<b class="fc">&nbsp;                offset++;</b>
&nbsp;
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                ch = chars[offset];</b>
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
<b class="fc">&nbsp;                    ch = chars[offset];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            offset++;</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset];</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readNumber0() {
<b class="fc">&nbsp;        this.wasNull = false;</b>
<b class="fc">&nbsp;        this.mag0 = 0;</b>
<b class="fc">&nbsp;        this.mag1 = 0;</b>
<b class="fc">&nbsp;        this.mag2 = 0;</b>
<b class="fc">&nbsp;        this.mag3 = 0;</b>
<b class="fc">&nbsp;        this.negative = false;</b>
<b class="fc">&nbsp;        this.exponent = 0;</b>
<b class="fc">&nbsp;        this.scale = 0;</b>
<b class="fc">&nbsp;        int firstOffset = offset;</b>
&nbsp;
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        final int start = offset;</b>
&nbsp;
&nbsp;        final int limit, multmin;
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            limit = Integer.MIN_VALUE;</b>
<b class="fc">&nbsp;            multmin = -214748364; // limit / 10;</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        } else {
<b class="fc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
<b class="fc">&nbsp;            limit = -2147483647; // -Integer.MAX_VALUE;</b>
<b class="fc">&nbsp;            multmin = -214748364; // limit / 10;</b>
&nbsp;        }
&nbsp;
&nbsp;        // if (result &lt; limit + digit) {
<b class="fc">&nbsp;        boolean intOverflow = false;</b>
<b class="fc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            if (!intOverflow) {</b>
<b class="fc">&nbsp;                int digit = ch - &#39;0&#39;;</b>
<b class="fc">&nbsp;                mag3 *= 10;</b>
<b class="fc">&nbsp;                if (mag3 &lt; multmin</b>
&nbsp;                        || mag3 &lt; limit + digit) {
<b class="fc">&nbsp;                    intOverflow = true;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    mag3 -= digit;</b>
<b class="fc">&nbsp;                    if (mag3 &lt; multmin) {</b>
<b class="nc">&nbsp;                        intOverflow = true;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                if (!intOverflow) {</b>
<b class="fc">&nbsp;                    int digit = ch - &#39;0&#39;;</b>
<b class="fc">&nbsp;                    mag3 *= 10;</b>
<b class="fc">&nbsp;                    if (mag3 &lt; multmin</b>
&nbsp;                            || mag3 &lt; limit + digit) {
<b class="nc">&nbsp;                        intOverflow = true;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        mag3 -= digit;</b>
<b class="fc">&nbsp;                        if (mag3 &lt; multmin) {</b>
<b class="nc">&nbsp;                            intOverflow = true;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                this.scale++;</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (intOverflow) {</b>
<b class="fc">&nbsp;            int numStart = negative ? start : start - 1;</b>
&nbsp;
<b class="fc">&nbsp;            int numDigits = scale &gt; 0 ? offset - 2 - numStart : offset - 1 - numStart;</b>
<b class="fc">&nbsp;            if (numDigits &gt; 38) {</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_BIG_DEC;</b>
<b class="nc">&nbsp;                stringValue = new String(chars, numStart, offset - 1 - numStart);</b>
&nbsp;            } else {
<b class="fc">&nbsp;                bigInt(chars, numStart, offset - 1);</b>
&nbsp;            }
<b class="fc">&nbsp;        } else {</b>
<b class="fc">&nbsp;            mag3 = -mag3;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="fc">&nbsp;            boolean negativeExp = false;</b>
<b class="fc">&nbsp;            int expValue = 0;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="fc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == start) {</b>
<b class="fc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    wasNull = true;</b>
<b class="fc">&nbsp;                    valueType = JSON_TYPE_NULL;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="fc">&nbsp;                        ch = EOI;</b>
<b class="fc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    boolValue = true;</b>
<b class="fc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="fc">&nbsp;                        ch = EOI;</b>
<b class="fc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    boolValue = false;</b>
<b class="fc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="fc">&nbsp;                this.complex = readObject();</b>
<b class="fc">&nbsp;                valueType = JSON_TYPE_OBJECT;</b>
&nbsp;                return;
<b class="fc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="fc">&nbsp;                this.complex = readArray();</b>
<b class="fc">&nbsp;                valueType = JSON_TYPE_ARRAY;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (ch != quote) {</b>
<b class="fc">&nbsp;                this.offset = firstOffset;</b>
<b class="fc">&nbsp;                this.ch = quote;</b>
<b class="fc">&nbsp;                readString0();</b>
<b class="fc">&nbsp;                valueType = JSON_TYPE_STRING;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="fc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="fc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="fc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="fc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean readIfNull() {
<b class="fc">&nbsp;        if (ch == &#39;n&#39;</b>
&nbsp;                &amp;&amp; chars[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;l&#39;) {
<b class="fc">&nbsp;            if (offset + 3 == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset + 3];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset += 4;</b>
&nbsp;        } else {
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            ch = offset == end ? EOI : chars[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Date readNullOrNewDate() {
<b class="fc">&nbsp;        Date date = null;</b>
<b class="fc">&nbsp;        if (offset + 2 &lt; end</b>
&nbsp;                &amp;&amp; chars[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;l&#39;) {
<b class="fc">&nbsp;            if (offset + 3 == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset + 3];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset += 4;</b>
<b class="fc">&nbsp;        } else if (offset + 1 &lt; end</b>
&nbsp;                &amp;&amp; chars[offset] == &#39;e&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;w&#39;) {
<b class="fc">&nbsp;            if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset + 2];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset += 3;</b>
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset + 4 &lt; end</b>
&nbsp;                    &amp;&amp; ch == &#39;D&#39;
&nbsp;                    &amp;&amp; chars[offset] == &#39;a&#39;
&nbsp;                    &amp;&amp; chars[offset + 1] == &#39;t&#39;
&nbsp;                    &amp;&amp; chars[offset + 2] == &#39;e&#39;) {
<b class="fc">&nbsp;                if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset + 3];</b>
&nbsp;                }
<b class="fc">&nbsp;                offset += 4;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ch != &#39;(&#39; || offset &gt;= end) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            long millis = readInt64Value();</b>
&nbsp;
<b class="fc">&nbsp;            if (ch != &#39;)&#39;) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            date = new Date(millis);</b>
<b class="fc">&nbsp;        } else {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;json syntax error, not match null or new Date&quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            ch = offset == end ? EOI : chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return date;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean isNull() {
<b class="fc">&nbsp;        return ch == &#39;n&#39; &amp;&amp; offset &lt; end &amp;&amp; chars[offset] == &#39;u&#39;;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfNull() {
<b class="fc">&nbsp;        if (ch == &#39;n&#39; &amp;&amp; offset + 2 &lt; end &amp;&amp; chars[offset] == &#39;u&#39;) {</b>
<b class="fc">&nbsp;            this.readNull();</b>
<b class="fc">&nbsp;            return true;</b>
&nbsp;        }
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readNull() {
<b class="fc">&nbsp;        if (chars[offset] == &#39;u&#39;</b>
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;l&#39;) {
<b class="fc">&nbsp;            if (offset + 3 == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset + 3];</b>
&nbsp;            }
<b class="fc">&nbsp;            offset += 4;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            throw new JSONException(&quot;json syntax error, not match null, offset &quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public final BigDecimal readBigDecimal() {
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        boolean value = false;</b>
&nbsp;
<b class="fc">&nbsp;        BigDecimal decimal = null;</b>
<b class="fc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="fc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            quote = ch;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == quote) {</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
<b class="fc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="fc">&nbsp;                return null;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        final int start = offset;</b>
<b class="fc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="fc">&nbsp;            negative = true;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        } else {
<b class="fc">&nbsp;            negative = false;</b>
<b class="fc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="fc">&nbsp;        boolean overflow = false;</b>
<b class="fc">&nbsp;        long longValue = 0;</b>
<b class="fc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;            if (!overflow) {</b>
<b class="fc">&nbsp;                long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    longValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (offset == end) {</b>
<b class="fc">&nbsp;                ch = EOI;</b>
<b class="fc">&nbsp;                offset++;</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.scale = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                this.scale++;</b>
<b class="fc">&nbsp;                if (!overflow) {</b>
<b class="fc">&nbsp;                    long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                    if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                        overflow = true;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        longValue = intValue10;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int expValue = 0;</b>
<b class="fc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="fc">&nbsp;            boolean negativeExp = false;</b>
<b class="fc">&nbsp;            ch = chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="fc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="fc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="fc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
<b class="fc">&nbsp;                    offset++;</b>
<b class="fc">&nbsp;                    break;</b>
&nbsp;                }
<b class="fc">&nbsp;                ch = chars[offset++];</b>
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="fc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset == start) {</b>
<b class="fc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="fc">&nbsp;                if (chars[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="fc">&nbsp;                    if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;long value not support input null&quot;));</b>
&nbsp;                    }
&nbsp;
<b class="fc">&nbsp;                    wasNull = true;</b>
<b class="fc">&nbsp;                    value = true;</b>
<b class="fc">&nbsp;                    if (offset == end) {</b>
<b class="fc">&nbsp;                        ch = EOI;</b>
<b class="fc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="nc">&nbsp;                if (chars[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    decimal = BigDecimal.ONE;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="nc">&nbsp;                if (chars[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; chars[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; chars[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    decimal = BigDecimal.ZERO;</b>
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="fc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                JSONObject jsonObject = new JSONObject();</b>
<b class="nc">&nbsp;                readObject(jsonObject, 0);</b>
<b class="nc">&nbsp;                decimal = decimal(jsonObject);</b>
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                List array = readArray();</b>
<b class="nc">&nbsp;                if (!array.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="fc">&nbsp;        if (quote != 0) {</b>
<b class="fc">&nbsp;            if (ch != quote) {</b>
<b class="fc">&nbsp;                this.offset -= 1;</b>
<b class="fc">&nbsp;                this.ch = quote;</b>
<b class="fc">&nbsp;                String str = readString();</b>
&nbsp;                try {
<b class="fc">&nbsp;                    return TypeUtils.toBigDecimal(str);</b>
<b class="fc">&nbsp;                } catch (NumberFormatException e) {</b>
<b class="fc">&nbsp;                    throw new JSONException(info(e.getMessage()), e);</b>
&nbsp;                }
&nbsp;            } else {
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="fc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        if (!value) {</b>
<b class="fc">&nbsp;            if (expValue == 0 &amp;&amp; !overflow &amp;&amp; longValue != 0) {</b>
<b class="fc">&nbsp;                decimal = BigDecimal.valueOf(negative ? -longValue : longValue, scale);</b>
<b class="fc">&nbsp;                value = true;</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (!value) {</b>
<b class="fc">&nbsp;                decimal = TypeUtils.parseBigDecimal(chars, start - 1, len);</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39;B&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;S&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;L&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;F&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;D&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="fc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                this.ch = chars[this.offset++];</b>
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="fc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return decimal;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final UUID readUUID() {
<b class="fc">&nbsp;        char ch = this.ch;</b>
<b class="fc">&nbsp;        if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;            readNull();</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;syntax error, can not read uuid&quot;));</b>
&nbsp;        }
<b class="fc">&nbsp;        final char quote = ch;</b>
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        int offset = this.offset;</b>
<b class="fc">&nbsp;        if (offset + 36 &lt; chars.length &amp;&amp; chars[offset + 36] == quote) {</b>
<b class="fc">&nbsp;            char ch1 = chars[offset + 8];</b>
<b class="fc">&nbsp;            char ch2 = chars[offset + 13];</b>
<b class="fc">&nbsp;            char ch3 = chars[offset + 18];</b>
<b class="fc">&nbsp;            char ch4 = chars[offset + 23];</b>
<b class="fc">&nbsp;            if (ch1 == &#39;-&#39; &amp;&amp; ch2 == &#39;-&#39; &amp;&amp; ch3 == &#39;-&#39; &amp;&amp; ch4 == &#39;-&#39;) {</b>
<b class="fc">&nbsp;                long hi = 0;</b>
<b class="fc">&nbsp;                for (int i = 0; i &lt; 8; i++) {</b>
<b class="fc">&nbsp;                    hi = (hi &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;                }
<b class="fc">&nbsp;                for (int i = 9; i &lt; 13; i++) {</b>
<b class="fc">&nbsp;                    hi = (hi &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;                }
<b class="fc">&nbsp;                for (int i = 14; i &lt; 18; i++) {</b>
<b class="fc">&nbsp;                    hi = (hi &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                long lo = 0;</b>
<b class="fc">&nbsp;                for (int i = 19; i &lt; 23; i++) {</b>
<b class="fc">&nbsp;                    lo = (lo &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;                }
<b class="fc">&nbsp;                for (int i = 24; i &lt; 36; i++) {</b>
<b class="fc">&nbsp;                    lo = (lo &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                UUID uuid = new UUID(hi, lo);</b>
<b class="fc">&nbsp;                offset += 37;</b>
<b class="fc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = chars[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                this.offset = offset;</b>
<b class="fc">&nbsp;                if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;                    next();</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    this.ch = ch;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                return uuid;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (offset + 32 &lt; chars.length &amp;&amp; chars[offset + 32] == quote) {</b>
<b class="nc">&nbsp;            long hi = 0;</b>
<b class="nc">&nbsp;            for (int i = 0; i &lt; 16; i++) {</b>
<b class="nc">&nbsp;                hi = (hi &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;            }
<b class="nc">&nbsp;            long lo = 0;</b>
<b class="nc">&nbsp;            for (int i = 16; i &lt; 32; i++) {</b>
<b class="nc">&nbsp;                lo = (lo &lt;&lt; 4) + UUID_VALUES[chars[offset + i] - &#39;0&#39;];</b>
&nbsp;            }
<b class="nc">&nbsp;            UUID uuid = new UUID(hi, lo);</b>
<b class="nc">&nbsp;            offset += 33;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.offset = offset;</b>
<b class="nc">&nbsp;            if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;                next();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = ch;</b>
&nbsp;            }
<b class="nc">&nbsp;            return uuid;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        String str = readString();</b>
<b class="nc">&nbsp;        return UUID.fromString(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final int getStringLength() {
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
<b class="fc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="fc">&nbsp;        int len = 0;</b>
<b class="fc">&nbsp;        int i = offset;</b>
<b class="fc">&nbsp;        char[] chars = this.chars;</b>
&nbsp;
<b class="fc">&nbsp;        final int i8 = i + 8;</b>
<b class="fc">&nbsp;        if (i8 &lt; end &amp;&amp; i8 &lt; chars.length) {</b>
<b class="fc">&nbsp;            if (chars[i] != quote</b>
&nbsp;                    &amp;&amp; chars[i + 1] != quote
&nbsp;                    &amp;&amp; chars[i + 2] != quote
&nbsp;                    &amp;&amp; chars[i + 3] != quote
&nbsp;                    &amp;&amp; chars[i + 4] != quote
&nbsp;                    &amp;&amp; chars[i + 5] != quote
&nbsp;                    &amp;&amp; chars[i + 6] != quote
&nbsp;                    &amp;&amp; chars[i + 7] != quote
&nbsp;            ) {
<b class="fc">&nbsp;                i += 8;</b>
<b class="fc">&nbsp;                len += 8;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        for (; i &lt; end; ++i, ++len) {</b>
<b class="fc">&nbsp;            if (chars[i] == quote) {</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        return len;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime14() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime14(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 15;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime12() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime12(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 13;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime16() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime16(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 17;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime17() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime17(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 18;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime18() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime18(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 19;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime5() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime5(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 6;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime8() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime8(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 9;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate8() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="nc">&nbsp;            ldt = DateUtils.parseLocalDate8(chars, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        offset += 9;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate9() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="nc">&nbsp;            ldt = DateUtils.parseLocalDate9(chars, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        offset += 10;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate10() {
<b class="fc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="fc">&nbsp;            ldt = DateUtils.parseLocalDate10(chars, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset += 11;</b>
<b class="fc">&nbsp;        next();</b>
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="fc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate11() {
<b class="nc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDate ldt = DateUtils.parseLocalDate11(chars, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 12;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    public final LocalDate readLocalDate() {
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        if (this.ch == &#39;&quot;&#39; || this.ch == &#39;\&#39;&#39;) {</b>
<b class="fc">&nbsp;            if (context.dateFormat == null</b>
&nbsp;                    || context.formatyyyyMMddhhmmss19
&nbsp;                    || context.formatyyyyMMddhhmmssT19
&nbsp;                    || context.formatyyyyMMdd8
&nbsp;                    || context.formatISO8601
&nbsp;            ) {
<b class="fc">&nbsp;                char quote = this.ch;</b>
<b class="fc">&nbsp;                int c10 = offset + 10;</b>
<b class="fc">&nbsp;                if (c10 &lt; chars.length</b>
&nbsp;                        &amp;&amp; c10 &lt; end
&nbsp;                        &amp;&amp; chars[offset + 4] == &#39;-&#39;
&nbsp;                        &amp;&amp; chars[offset + 7] == &#39;-&#39;
&nbsp;                        &amp;&amp; chars[offset + 10] == quote
&nbsp;                ) {
<b class="fc">&nbsp;                    char y0 = chars[offset];</b>
<b class="fc">&nbsp;                    char y1 = chars[offset + 1];</b>
<b class="fc">&nbsp;                    char y2 = chars[offset + 2];</b>
<b class="fc">&nbsp;                    char y3 = chars[offset + 3];</b>
&nbsp;
<b class="fc">&nbsp;                    char m0 = chars[offset + 5];</b>
<b class="fc">&nbsp;                    char m1 = chars[offset + 6];</b>
&nbsp;
<b class="fc">&nbsp;                    char d0 = chars[offset + 8];</b>
<b class="fc">&nbsp;                    char d1 = chars[offset + 9];</b>
&nbsp;
&nbsp;                    int year;
<b class="fc">&nbsp;                    if (y0 &gt;= &#39;0&#39; &amp;&amp; y0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; y1 &gt;= &#39;0&#39; &amp;&amp; y1 &lt;= &#39;9&#39;
&nbsp;                            &amp;&amp; y2 &gt;= &#39;0&#39; &amp;&amp; y2 &lt;= &#39;9&#39;
&nbsp;                            &amp;&amp; y3 &gt;= &#39;0&#39; &amp;&amp; y3 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="fc">&nbsp;                        year = (y0 - &#39;0&#39;) * 1000 + (y1 - &#39;0&#39;) * 100 + (y2 - &#39;0&#39;) * 10 + (y3 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return super.readLocalDate();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int month;
<b class="fc">&nbsp;                    if (m0 &gt;= &#39;0&#39; &amp;&amp; m0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; m1 &gt;= &#39;0&#39; &amp;&amp; m1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="fc">&nbsp;                        month = (m0 - &#39;0&#39;) * 10 + (m1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return super.readLocalDate();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int dom;
<b class="fc">&nbsp;                    if (d0 &gt;= &#39;0&#39; &amp;&amp; d0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; d1 &gt;= &#39;0&#39; &amp;&amp; d1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="fc">&nbsp;                        dom = (d0 - &#39;0&#39;) * 10 + (d1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return super.readLocalDate();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    LocalDate ldt;
&nbsp;                    try {
<b class="fc">&nbsp;                        if (year == 0 &amp;&amp; month == 0 &amp;&amp; dom == 0) {</b>
<b class="nc">&nbsp;                            ldt = null;</b>
&nbsp;                        } else {
<b class="fc">&nbsp;                            ldt = LocalDate.of(year, month, dom);</b>
&nbsp;                        }
<b class="nc">&nbsp;                    } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="fc">&nbsp;                    }</b>
&nbsp;
<b class="fc">&nbsp;                    offset += 11;</b>
<b class="fc">&nbsp;                    next();</b>
<b class="fc">&nbsp;                    if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;                        next();</b>
&nbsp;                    }
<b class="fc">&nbsp;                    return ldt;</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return super.readLocalDate();</b>
&nbsp;    }
&nbsp;
&nbsp;    public final OffsetDateTime readOffsetDateTime() {
<b class="nc">&nbsp;        final char[] chars = this.chars;</b>
<b class="nc">&nbsp;        if (this.ch == &#39;&quot;&#39; || this.ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            if (context.dateFormat == null</b>
&nbsp;                    || context.formatyyyyMMddhhmmss19
&nbsp;                    || context.formatyyyyMMddhhmmssT19
&nbsp;                    || context.formatyyyyMMdd8
&nbsp;                    || context.formatISO8601
&nbsp;            ) {
<b class="nc">&nbsp;                char quote = this.ch;</b>
&nbsp;                char c10;
<b class="nc">&nbsp;                int off21 = offset + 19;</b>
<b class="nc">&nbsp;                if (off21 &lt; chars.length</b>
&nbsp;                        &amp;&amp; off21 &lt; end
&nbsp;                        &amp;&amp; chars[offset + 4] == &#39;-&#39;
&nbsp;                        &amp;&amp; chars[offset + 7] == &#39;-&#39;
&nbsp;                        &amp;&amp; ((c10 = chars[offset + 10]) == &#39; &#39; || c10 == &#39;T&#39;)
&nbsp;                        &amp;&amp; chars[offset + 13] == &#39;:&#39;
&nbsp;                        &amp;&amp; chars[offset + 16] == &#39;:&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    char y0 = chars[offset];</b>
<b class="nc">&nbsp;                    char y1 = chars[offset + 1];</b>
<b class="nc">&nbsp;                    char y2 = chars[offset + 2];</b>
<b class="nc">&nbsp;                    char y3 = chars[offset + 3];</b>
<b class="nc">&nbsp;                    char m0 = chars[offset + 5];</b>
<b class="nc">&nbsp;                    char m1 = chars[offset + 6];</b>
<b class="nc">&nbsp;                    char d0 = chars[offset + 8];</b>
<b class="nc">&nbsp;                    char d1 = chars[offset + 9];</b>
<b class="nc">&nbsp;                    char h0 = chars[offset + 11];</b>
<b class="nc">&nbsp;                    char h1 = chars[offset + 12];</b>
<b class="nc">&nbsp;                    char i0 = chars[offset + 14];</b>
<b class="nc">&nbsp;                    char i1 = chars[offset + 15];</b>
<b class="nc">&nbsp;                    char s0 = chars[offset + 17];</b>
<b class="nc">&nbsp;                    char s1 = chars[offset + 18];</b>
&nbsp;
&nbsp;                    int year;
&nbsp;                    int month;
<b class="nc">&nbsp;                    if (y0 &gt;= &#39;0&#39; &amp;&amp; y0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; y1 &gt;= &#39;0&#39; &amp;&amp; y1 &lt;= &#39;9&#39;
&nbsp;                            &amp;&amp; y2 &gt;= &#39;0&#39; &amp;&amp; y2 &lt;= &#39;9&#39;
&nbsp;                            &amp;&amp; y3 &gt;= &#39;0&#39; &amp;&amp; y3 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        year = (y0 - &#39;0&#39;) * 1000 + (y1 - &#39;0&#39;) * 100 + (y2 - &#39;0&#39;) * 10 + (y3 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if (m0 &gt;= &#39;0&#39; &amp;&amp; m0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; m1 &gt;= &#39;0&#39; &amp;&amp; m1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        month = (m0 - &#39;0&#39;) * 10 + (m1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int dom;
<b class="nc">&nbsp;                    if (d0 &gt;= &#39;0&#39; &amp;&amp; d0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; d1 &gt;= &#39;0&#39; &amp;&amp; d1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        dom = (d0 - &#39;0&#39;) * 10 + (d1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int hour;
<b class="nc">&nbsp;                    if (h0 &gt;= &#39;0&#39; &amp;&amp; h0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; h1 &gt;= &#39;0&#39; &amp;&amp; h1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        hour = (h0 - &#39;0&#39;) * 10 + (h1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int minute;
<b class="nc">&nbsp;                    if (i0 &gt;= &#39;0&#39; &amp;&amp; i0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; i1 &gt;= &#39;0&#39; &amp;&amp; i1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        minute = (i0 - &#39;0&#39;) * 10 + (i1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    int second;
<b class="nc">&nbsp;                    if (s0 &gt;= &#39;0&#39; &amp;&amp; s0 &lt;= &#39;9&#39;</b>
&nbsp;                            &amp;&amp; s1 &gt;= &#39;0&#39; &amp;&amp; s1 &lt;= &#39;9&#39;
&nbsp;                    ) {
<b class="nc">&nbsp;                        second = (s0 - &#39;0&#39;) * 10 + (s1 - &#39;0&#39;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;                    }
&nbsp;
&nbsp;                    LocalDate localDate;
&nbsp;                    try {
<b class="nc">&nbsp;                        if (year == 0 &amp;&amp; month == 0 &amp;&amp; dom == 0) {</b>
<b class="nc">&nbsp;                            localDate = null;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            localDate = LocalDate.of(year, month, dom);</b>
&nbsp;                        }
<b class="nc">&nbsp;                    } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;
<b class="nc">&nbsp;                    int nanoSize = -1;</b>
<b class="nc">&nbsp;                    int len = 0;</b>
<b class="nc">&nbsp;                    for (int start = offset + 19, i = start, end = offset + 31; i &lt; end &amp;&amp; i &lt; this.end &amp;&amp; i &lt; chars.length; ++i) {</b>
<b class="nc">&nbsp;                        if (chars[i] == quote &amp;&amp; chars[i - 1] == &#39;Z&#39;) {</b>
<b class="nc">&nbsp;                            nanoSize = i - start - 2;</b>
<b class="nc">&nbsp;                            len = i - offset + 1;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                    }
<b class="nc">&nbsp;                    if (nanoSize != -1 || len == 21) {</b>
<b class="nc">&nbsp;                        int nano = nanoSize &lt;= 0 ? 0 : DateUtils.readNanos(chars, nanoSize, offset + 20);</b>
<b class="nc">&nbsp;                        LocalTime localTime = LocalTime.of(hour, minute, second, nano);</b>
<b class="nc">&nbsp;                        LocalDateTime ldt = LocalDateTime.of(localDate, localTime);</b>
<b class="nc">&nbsp;                        OffsetDateTime oft = OffsetDateTime.of(ldt, ZoneOffset.UTC);</b>
<b class="nc">&nbsp;                        this.offset += len;</b>
<b class="nc">&nbsp;                        next();</b>
<b class="nc">&nbsp;                        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;                            next();</b>
&nbsp;                        }
<b class="nc">&nbsp;                        return oft;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return readZonedDateTime().toOffsetDateTime();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final ZonedDateTime readZonedDateTimeX(int len) {
<b class="fc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (len &lt; 19) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        ZonedDateTime zdt;
<b class="fc">&nbsp;        if (len == 30 &amp;&amp; chars[offset + 29] == &#39;Z&#39;) {</b>
<b class="nc">&nbsp;            LocalDateTime ldt = DateUtils.parseLocalDateTime29(chars, offset);</b>
<b class="nc">&nbsp;            zdt = ZonedDateTime.of(ldt, ZoneOffset.UTC);</b>
<b class="nc">&nbsp;        } else if (len == 29 &amp;&amp; chars[offset + 28] == &#39;Z&#39;) {</b>
<b class="nc">&nbsp;            LocalDateTime ldt = DateUtils.parseLocalDateTime28(chars, offset);</b>
<b class="nc">&nbsp;            zdt = ZonedDateTime.of(ldt, ZoneOffset.UTC);</b>
<b class="nc">&nbsp;        } else if (len == 28 &amp;&amp; chars[offset + 27] == &#39;Z&#39;) {</b>
<b class="nc">&nbsp;            LocalDateTime ldt = DateUtils.parseLocalDateTime27(chars, offset);</b>
<b class="nc">&nbsp;            zdt = ZonedDateTime.of(ldt, ZoneOffset.UTC);</b>
<b class="nc">&nbsp;        } else if (len == 27 &amp;&amp; chars[offset + 26] == &#39;Z&#39;) {</b>
<b class="nc">&nbsp;            LocalDateTime ldt = DateUtils.parseLocalDateTime26(chars, offset);</b>
<b class="nc">&nbsp;            zdt = ZonedDateTime.of(ldt, ZoneOffset.UTC);</b>
<b class="nc">&nbsp;        } else {</b>
<b class="fc">&nbsp;            zdt = DateUtils.parseZonedDateTime(chars, offset, len, context.zoneId);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (zdt == null) {</b>
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset += (len + 1);</b>
<b class="fc">&nbsp;        next();</b>
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            next();</b>
&nbsp;        }
<b class="fc">&nbsp;        return zdt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime19() {
<b class="fc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime19(chars, offset);</b>
<b class="fc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset += 20;</b>
<b class="fc">&nbsp;        next();</b>
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="fc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime20() {
<b class="fc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime20(chars, offset);</b>
<b class="fc">&nbsp;        if (ldt == null) {</b>
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 21;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readMillis19() {
<b class="fc">&nbsp;        char quote = ch;</b>
<b class="fc">&nbsp;        if (quote != &#39;&quot;&#39; &amp;&amp; quote != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (offset + 18 &gt;= end) {</b>
<b class="nc">&nbsp;            wasNull = true;</b>
<b class="nc">&nbsp;            return 0;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        long millis = DateUtils.parseMillis19(chars, offset, context.zoneId);</b>
&nbsp;
<b class="fc">&nbsp;        if (chars[offset + 19] != quote) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;illegal date input&quot;));</b>
&nbsp;        }
<b class="fc">&nbsp;        offset += 20;</b>
&nbsp;
<b class="fc">&nbsp;        next();</b>
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return millis;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTimeX(int len) {
<b class="fc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTimeX(chars, offset, len);</b>
<b class="fc">&nbsp;        if (ldt == null) {</b>
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        offset += (len + 1);</b>
<b class="fc">&nbsp;        next();</b>
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            next();</b>
&nbsp;        }
<b class="fc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime10() {
<b class="nc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime10(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 11;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime11() {
<b class="nc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime11(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 12;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime12() {
<b class="nc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime12(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 13;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime18() {
<b class="nc">&nbsp;        if (this.ch != &#39;&quot;&#39; &amp;&amp; this.ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime18(chars, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 19;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String readPattern() {
<b class="nc">&nbsp;        if (ch != &#39;/&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal pattern&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = this.offset;</b>
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            char c = chars[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        String str = new String(chars, this.offset, offset - this.offset);</b>
&nbsp;
<b class="nc">&nbsp;        if (offset + 1 == end) {</b>
<b class="nc">&nbsp;            this.offset = end;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int b = chars[++offset];</b>
<b class="nc">&nbsp;        while (b &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; b) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            b = chars[++offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (b == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
&nbsp;
&nbsp;            // inline next
<b class="nc">&nbsp;            ch = chars[this.offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = chars[this.offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        } else {
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            this.ch = (char) b;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return str;</b>
&nbsp;    }
&nbsp;
&nbsp;    public final boolean readBoolValue() {
<b class="fc">&nbsp;        wasNull = false;</b>
&nbsp;        boolean val;
<b class="fc">&nbsp;        final char[] chars = this.chars;</b>
<b class="fc">&nbsp;        int offset = this.offset;</b>
<b class="fc">&nbsp;        char ch = this.ch;</b>
<b class="fc">&nbsp;        if (ch == &#39;t&#39;</b>
&nbsp;                &amp;&amp; offset + 2 &lt; chars.length
&nbsp;                &amp;&amp; chars[offset] == &#39;r&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;u&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;e&#39;
&nbsp;        ) {
<b class="fc">&nbsp;            offset += 3;</b>
<b class="fc">&nbsp;            val = true;</b>
<b class="fc">&nbsp;        } else if (ch == &#39;f&#39;</b>
&nbsp;                &amp;&amp; offset + 3 &lt; chars.length
&nbsp;                &amp;&amp; chars[offset] == &#39;a&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;s&#39;
&nbsp;                &amp;&amp; chars[offset + 3] == &#39;e&#39;
&nbsp;        ) {
<b class="fc">&nbsp;            offset += 4;</b>
<b class="fc">&nbsp;            val = false;</b>
<b class="fc">&nbsp;        } else if (ch == &#39;-&#39; || (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)) {</b>
<b class="fc">&nbsp;            readNumber();</b>
<b class="fc">&nbsp;            if (valueType == JSON_TYPE_INT) {</b>
<b class="fc">&nbsp;                if ((context.features &amp; Feature.NonZeroNumberCastToBooleanAsTrue.mask) != 0) {</b>
<b class="nc">&nbsp;                    return mag0 != 0 || mag1 != 0 || mag2 != 0 || mag3 != 0;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    return mag0 == 0</b>
&nbsp;                            &amp;&amp; mag1 == 0
&nbsp;                            &amp;&amp; mag2 == 0
&nbsp;                            &amp;&amp; mag3 == 1;
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            return false;</b>
<b class="fc">&nbsp;        } else if (ch == &#39;n&#39; &amp;&amp; offset + 2 &lt; chars.length</b>
&nbsp;                &amp;&amp; chars[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; chars[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; chars[offset + 2] == &#39;l&#39;
&nbsp;        ) {
<b class="nc">&nbsp;            if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                throw new JSONException(info(&quot;boolean value not support input null&quot;));</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            wasNull = true;</b>
<b class="nc">&nbsp;            offset += 3;</b>
<b class="nc">&nbsp;            val = false;</b>
<b class="fc">&nbsp;        } else if (ch == &#39;&quot;&#39;) {</b>
<b class="fc">&nbsp;            if (offset + 1 &lt; chars.length</b>
&nbsp;                    &amp;&amp; chars[offset + 1] == &#39;&quot;&#39;
&nbsp;            ) {
<b class="fc">&nbsp;                char c0 = chars[offset];</b>
<b class="fc">&nbsp;                offset += 2;</b>
<b class="fc">&nbsp;                if (c0 == &#39;0&#39; || c0 == &#39;N&#39;) {</b>
<b class="fc">&nbsp;                    val = false;</b>
<b class="fc">&nbsp;                } else if (c0 == &#39;1&#39; || c0 == &#39;Y&#39;) {</b>
<b class="fc">&nbsp;                    val = true;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    throw new JSONException(&quot;can not convert to boolean : &quot; + c0);</b>
&nbsp;                }
<b class="fc">&nbsp;            } else {</b>
<b class="fc">&nbsp;                String str = readString();</b>
<b class="fc">&nbsp;                if (&quot;true&quot;.equalsIgnoreCase(str)) {</b>
<b class="fc">&nbsp;                    return true;</b>
&nbsp;                }
&nbsp;
<b class="fc">&nbsp;                if (&quot;false&quot;.equalsIgnoreCase(str)) {</b>
<b class="fc">&nbsp;                    return false;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (str.isEmpty() || &quot;null&quot;.equalsIgnoreCase(str)) {</b>
<b class="nc">&nbsp;                    wasNull = true;</b>
<b class="nc">&nbsp;                    return false;</b>
&nbsp;                }
<b class="nc">&nbsp;                throw new JSONException(&quot;can not convert to boolean : &quot; + str);</b>
&nbsp;            }
&nbsp;        } else {
<b class="nc">&nbsp;            throw new JSONException(&quot;syntax error : &quot; + ch);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        ch = offset == end ? EOI : chars[offset++];</b>
&nbsp;
<b class="fc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="fc">&nbsp;                ch = chars[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="fc">&nbsp;            ch = offset == end ? EOI : (char) chars[offset++];</b>
&nbsp;            // next inline
<b class="fc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="fc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="fc">&nbsp;                    ch = (char) chars[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        this.offset = offset;</b>
<b class="fc">&nbsp;        this.ch = ch;</b>
&nbsp;
<b class="fc">&nbsp;        return val;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String info(String message) {
<b class="fc">&nbsp;        int line = 1, column = 1;</b>
<b class="fc">&nbsp;        for (int i = 0; i &lt; offset &amp; i &lt; end; i++, column++) {</b>
<b class="fc">&nbsp;            if (chars[i] == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;                column = 1;</b>
<b class="nc">&nbsp;                line++;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        StringBuilder buf = new StringBuilder();</b>
&nbsp;
<b class="fc">&nbsp;        if (message != null &amp;&amp; !message.isEmpty()) {</b>
<b class="fc">&nbsp;            buf.append(message).append(&quot;, &quot;);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        buf.append(&quot;offset &quot;).append(offset)</b>
<b class="fc">&nbsp;                .append(&quot;, character &quot;).append(ch)</b>
<b class="fc">&nbsp;                .append(&quot;, line &quot;).append(line)</b>
<b class="fc">&nbsp;                .append(&quot;, column &quot;).append(column)</b>
<b class="fc">&nbsp;                .append(&quot;, fastjson-version &quot;).append(JSON.VERSION)</b>
<b class="fc">&nbsp;                .append(line &gt; 1 ? &#39;\n&#39; : &#39; &#39;);</b>
&nbsp;
<b class="fc">&nbsp;        final int MAX_OUTPUT_LENGTH = 65535;</b>
<b class="fc">&nbsp;        buf.append(chars, this.start, length &lt; MAX_OUTPUT_LENGTH ? length : MAX_OUTPUT_LENGTH);</b>
&nbsp;
<b class="fc">&nbsp;        return buf.toString();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void close() {
<b class="fc">&nbsp;        if (cacheIndex != -1) {</b>
<b class="fc">&nbsp;            final CacheItem cacheItem = CACHE_ITEMS[cacheIndex];</b>
<b class="fc">&nbsp;            CHARS_UPDATER.lazySet(cacheItem, chars);</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        if (input != null) {</b>
&nbsp;            try {
<b class="fc">&nbsp;                input.close();</b>
<b class="nc">&nbsp;            } catch (IOException ignored) {</b>
&nbsp;                // ignored
<b class="fc">&nbsp;            }</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-09 22:29</div>
</div>
</body>
</html>
