


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > JSONReaderUTF8</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.alibaba.fastjson2</a>
</div>

<h1>Coverage Summary for Class: JSONReaderUTF8 (com.alibaba.fastjson2)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">JSONReaderUTF8</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/67)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3042)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.alibaba.fastjson2;
&nbsp;
&nbsp;import com.alibaba.fastjson2.reader.ValueConsumer;
&nbsp;import com.alibaba.fastjson2.util.*;
&nbsp;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;import java.math.BigInteger;
&nbsp;import java.nio.ByteBuffer;
&nbsp;import java.nio.charset.StandardCharsets;
&nbsp;import java.time.*;
&nbsp;import java.util.*;
&nbsp;
&nbsp;import static com.alibaba.fastjson2.JSONFactory.*;
&nbsp;import static com.alibaba.fastjson2.util.JDKUtils.*;
&nbsp;
&nbsp;class JSONReaderUTF8
&nbsp;        extends JSONReader {
&nbsp;    protected final byte[] bytes;
&nbsp;    protected final int length;
&nbsp;    protected final int start;
&nbsp;    protected final int end;
&nbsp;
&nbsp;    protected int nameBegin;
&nbsp;    protected int nameEnd;
&nbsp;    protected int nameLength;
&nbsp;
&nbsp;    protected boolean nameAscii;
&nbsp;    protected int referenceBegin;
&nbsp;
&nbsp;    protected final InputStream in;
&nbsp;
&nbsp;    protected final CacheItem cacheItem;
&nbsp;
&nbsp;    JSONReaderUTF8(Context ctx, InputStream is) {
<b class="nc">&nbsp;        super(ctx);</b>
&nbsp;
<b class="nc">&nbsp;        int cacheIndex = System.identityHashCode(Thread.currentThread()) &amp; (CACHE_ITEMS.length - 1);</b>
<b class="nc">&nbsp;        cacheItem = CACHE_ITEMS[cacheIndex];</b>
<b class="nc">&nbsp;        byte[] bytes = BYTES_UPDATER.getAndSet(cacheItem, null);</b>
<b class="nc">&nbsp;        if (bytes == null) {</b>
<b class="nc">&nbsp;            bytes = new byte[8192];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int off = 0;</b>
&nbsp;        try {
&nbsp;            for (; ; ) {
<b class="nc">&nbsp;                int n = is.read(bytes, off, bytes.length - off);</b>
<b class="nc">&nbsp;                if (n == -1) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                off += n;</b>
&nbsp;
<b class="nc">&nbsp;                if (off == bytes.length) {</b>
<b class="nc">&nbsp;                    bytes = Arrays.copyOf(bytes, bytes.length + 8192);</b>
&nbsp;                }
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        } catch (IOException ioe) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;read error&quot;, ioe);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        this.bytes = bytes;</b>
<b class="nc">&nbsp;        this.offset = 0;</b>
<b class="nc">&nbsp;        this.length = off;</b>
<b class="nc">&nbsp;        this.in = is;</b>
<b class="nc">&nbsp;        this.start = 0;</b>
<b class="nc">&nbsp;        this.end = length;</b>
<b class="nc">&nbsp;        next();</b>
&nbsp;
<b class="nc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    JSONReaderUTF8(Context ctx, ByteBuffer buffer) {
<b class="nc">&nbsp;        super(ctx);</b>
&nbsp;
<b class="nc">&nbsp;        int cacheIndex = System.identityHashCode(Thread.currentThread()) &amp; (CACHE_ITEMS.length - 1);</b>
<b class="nc">&nbsp;        cacheItem = CACHE_ITEMS[cacheIndex];</b>
<b class="nc">&nbsp;        byte[] bytes = BYTES_UPDATER.getAndSet(cacheItem, null);</b>
<b class="nc">&nbsp;        final int remaining = buffer.remaining();</b>
<b class="nc">&nbsp;        if (bytes == null || bytes.length &lt; remaining) {</b>
<b class="nc">&nbsp;            bytes = new byte[remaining];</b>
&nbsp;        }
<b class="nc">&nbsp;        buffer.get(bytes, 0, remaining);</b>
&nbsp;
<b class="nc">&nbsp;        this.bytes = bytes;</b>
<b class="nc">&nbsp;        this.offset = 0;</b>
<b class="nc">&nbsp;        this.length = remaining;</b>
<b class="nc">&nbsp;        this.in = null;</b>
<b class="nc">&nbsp;        this.start = 0;</b>
<b class="nc">&nbsp;        this.end = length;</b>
<b class="nc">&nbsp;        next();</b>
&nbsp;
<b class="nc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    JSONReaderUTF8(Context ctx, String str, byte[] bytes, int offset, int length) {
<b class="nc">&nbsp;        super(ctx);</b>
&nbsp;
<b class="nc">&nbsp;        this.bytes = bytes;</b>
<b class="nc">&nbsp;        this.offset = offset;</b>
<b class="nc">&nbsp;        this.length = length;</b>
<b class="nc">&nbsp;        this.in = null;</b>
<b class="nc">&nbsp;        this.start = offset;</b>
<b class="nc">&nbsp;        this.end = offset + length;</b>
<b class="nc">&nbsp;        this.cacheItem = null;</b>
<b class="nc">&nbsp;        next();</b>
&nbsp;
<b class="nc">&nbsp;        while (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
<b class="nc">&nbsp;            if (ch == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                skipLineComment();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;input not support &quot; + ch + &quot;, offset &quot; + offset);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean nextIfMatch(char e) {
<b class="nc">&nbsp;        while (this.ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; this.ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (this.ch != e) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="nc">&nbsp;        comma = (ch == &#39;,&#39;);</b>
&nbsp;
<b class="nc">&nbsp;        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;            ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int c = bytes[offset];</b>
<b class="nc">&nbsp;        while (c == &#39;\0&#39; || (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0)) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (c &gt;= 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            ch = (char) c;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        c &amp;= 0xFF;</b>
<b class="nc">&nbsp;        switch (c &gt;&gt; 4) {</b>
&nbsp;            case 12:
&nbsp;            case 13: {
&nbsp;                /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                offset += 2;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if ((char2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                    throw new JSONException(</b>
&nbsp;                            &quot;malformed input around byte &quot; + offset);
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) (((c &amp; 0x1F) &lt;&lt; 6) | (char2 &amp; 0x3F));</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case 14: {
&nbsp;                /* 1110 xxxx  10xx xxxx  10xx xxxx */
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 2];</b>
<b class="nc">&nbsp;                int char3 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if (((char2 &amp; 0xC0) != 0x80) || ((char3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;malformed input around byte &quot; + (offset - 1));</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char)</b>
&nbsp;                        (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                ((char2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                ((char3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            default:
&nbsp;                /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;        }
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfSet() {
<b class="nc">&nbsp;        if (ch == &#39;S&#39;</b>
&nbsp;                &amp;&amp; offset + 1 &lt; end
&nbsp;                &amp;&amp; bytes[offset] == &#39;e&#39;
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;t&#39;) {
<b class="nc">&nbsp;            offset += 2;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfInfinity() {
<b class="nc">&nbsp;        if (ch == &#39;I&#39;</b>
&nbsp;                &amp;&amp; offset + 6 &lt; end
&nbsp;                &amp;&amp; bytes[offset] == &#39;n&#39;
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;f&#39;
&nbsp;                &amp;&amp; bytes[offset + 2] == &#39;i&#39;
&nbsp;                &amp;&amp; bytes[offset + 3] == &#39;n&#39;
&nbsp;                &amp;&amp; bytes[offset + 4] == &#39;i&#39;
&nbsp;                &amp;&amp; bytes[offset + 5] == &#39;t&#39;
&nbsp;                &amp;&amp; bytes[offset + 6] == &#39;y&#39;
&nbsp;        ) {
<b class="nc">&nbsp;            offset += 7;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void next() {
<b class="nc">&nbsp;        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;            ch = EOI;</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int c = bytes[offset];</b>
<b class="nc">&nbsp;        while (c == &#39;\0&#39; || (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0)) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (c &gt;= 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            ch = (char) c;</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        c &amp;= 0xFF;</b>
<b class="nc">&nbsp;        switch (c &gt;&gt; 4) {</b>
&nbsp;            case 12:
&nbsp;            case 13: {
&nbsp;                /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                offset += 2;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if ((char2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                    throw new JSONException(</b>
&nbsp;                            &quot;malformed input around byte &quot; + offset);
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) (((c &amp; 0x1F) &lt;&lt; 6) | (char2 &amp; 0x3F));</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case 14: {
&nbsp;                /* 1110 xxxx  10xx xxxx  10xx xxxx */
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 2];</b>
<b class="nc">&nbsp;                int char3 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if (((char2 &amp; 0xC0) != 0x80) || ((char3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;malformed input around byte &quot; + (offset - 1));</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char)</b>
&nbsp;                        (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                ((char2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                ((char3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            default:
&nbsp;                /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readFieldNameHashCodeUnquote() {
<b class="nc">&nbsp;        this.nameEscape = false;</b>
<b class="nc">&nbsp;        this.nameBegin = this.offset - 1;</b>
<b class="nc">&nbsp;        char first = ch;</b>
&nbsp;
<b class="nc">&nbsp;        long nameValue = 0;</b>
<b class="nc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
&nbsp;            _for:
<b class="nc">&nbsp;            for (int i = 0; offset &lt;= end; ++i) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39; &#39;:
&nbsp;                    case &#39;\n&#39;:
&nbsp;                    case &#39;\r&#39;:
&nbsp;                    case &#39;\t&#39;:
&nbsp;                    case &#39;\f&#39;:
&nbsp;                    case &#39;\b&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;!&#39;:
&nbsp;                    case &#39;[&#39;:
&nbsp;                    case &#39;]&#39;:
&nbsp;                    case &#39;{&#39;:
&nbsp;                    case &#39;}&#39;:
&nbsp;                    case &#39;(&#39;:
&nbsp;                    case &#39;)&#39;:
&nbsp;                    case &#39;,&#39;:
&nbsp;                    case &#39;:&#39;:
&nbsp;                    case EOI:
<b class="nc">&nbsp;                        nameLength = i;</b>
<b class="nc">&nbsp;                        if (ch == EOI) {</b>
<b class="nc">&nbsp;                            this.nameEnd = offset;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            this.nameEnd = offset - 1;</b>
&nbsp;                        }
<b class="nc">&nbsp;                        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                            next();</b>
&nbsp;                        }
&nbsp;                        break _for;
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                    switch (ch) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[offset++];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                            byte c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                            byte c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                            ch = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[offset++];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                            ch = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        case &#39;.&#39;:
&nbsp;                        case &#39;-&#39;:
&nbsp;                        case &#39;+&#39;:
&nbsp;                        case &#39;*&#39;:
&nbsp;                        case &#39;/&#39;:
&nbsp;                        case &#39;&gt;&#39;:
&nbsp;                        case &#39;&lt;&#39;:
&nbsp;                        case &#39;=&#39;:
&nbsp;                        case &#39;@&#39;:
&nbsp;                        case &#39;:&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            ch = char1(ch);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch &gt; 0x7F || i &gt;= 8 || (i == 0 &amp;&amp; ch == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    ch = first;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin + 1;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                byte c = (byte) ch;</b>
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (c &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                ch = offset &gt;= end</b>
&nbsp;                        ? EOI
&nbsp;                        : (char) bytes[offset++];
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
&nbsp;
<b class="nc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
&nbsp;            _for:
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                if (ch == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                    switch (ch) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            char c1 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            char c2 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            char c3 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            char c4 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            ch = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            char c1 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            char c2 = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                            ch = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        case &#39;.&#39;:
&nbsp;                        case &#39;-&#39;:
&nbsp;                        case &#39;+&#39;:
&nbsp;                        case &#39;*&#39;:
&nbsp;                        case &#39;/&#39;:
&nbsp;                        case &#39;&gt;&#39;:
&nbsp;                        case &#39;&lt;&#39;:
&nbsp;                        case &#39;=&#39;:
&nbsp;                        case &#39;@&#39;:
&nbsp;                        case &#39;:&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            ch = char1(ch);</b>
&nbsp;                            break;
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    hashCode ^= ch;</b>
<b class="nc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;                    next();</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39; &#39;:
&nbsp;                    case &#39;\n&#39;:
&nbsp;                    case &#39;\r&#39;:
&nbsp;                    case &#39;\t&#39;:
&nbsp;                    case &#39;\f&#39;:
&nbsp;                    case &#39;\b&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;!&#39;:
&nbsp;                    case &#39;[&#39;:
&nbsp;                    case &#39;]&#39;:
&nbsp;                    case &#39;{&#39;:
&nbsp;                    case &#39;}&#39;:
&nbsp;                    case &#39;(&#39;:
&nbsp;                    case &#39;)&#39;:
&nbsp;                    case &#39;,&#39;:
&nbsp;                    case &#39;:&#39;:
&nbsp;                    case EOI:
<b class="nc">&nbsp;                        nameLength = i;</b>
<b class="nc">&nbsp;                        if (ch == EOI) {</b>
<b class="nc">&nbsp;                            this.nameEnd = offset;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            this.nameEnd = offset - 1;</b>
&nbsp;                        }
<b class="nc">&nbsp;                        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                            next();</b>
&nbsp;                        }
&nbsp;                        break _for;
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                hashCode ^= ch;</b>
<b class="nc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;
<b class="nc">&nbsp;                ch = offset &gt;= end</b>
&nbsp;                        ? EOI
&nbsp;                        : (char) bytes[offset++];
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;:&#39;) {</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public long readFieldNameHashCode() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            if ((context.features &amp; Feature.AllowUnQuotedFieldNames.mask) != 0 &amp;&amp; isFirstIdentifier(ch)) {</b>
<b class="nc">&nbsp;                return readFieldNameHashCodeUnquote();</b>
&nbsp;            }
<b class="nc">&nbsp;            if (ch == &#39;}&#39; || isNull()) {</b>
<b class="nc">&nbsp;                return -1;</b>
&nbsp;            }
&nbsp;
&nbsp;            String errorMsg, preFieldName;
<b class="nc">&nbsp;            if (ch == &#39;[&#39; &amp;&amp; nameBegin &gt; 0 &amp;&amp; (preFieldName = getFieldName()) != null) {</b>
<b class="nc">&nbsp;                errorMsg = &quot;illegal fieldName input &quot; + ch + &quot;, previous fieldName &quot; + preFieldName;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                errorMsg = &quot;illegal fieldName input&quot; + ch;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            throw new JSONException(info(errorMsg));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="nc">&nbsp;        this.nameAscii = true;</b>
<b class="nc">&nbsp;        this.nameEscape = false;</b>
<b class="nc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
&nbsp;
<b class="nc">&nbsp;        long nameValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        if (MIXED_HASH_ALGORITHM &amp;&amp; offset + 9 &lt; end) {</b>
&nbsp;            byte c0, c1, c2, c3, c4, c5, c6, c7;
&nbsp;
<b class="nc">&nbsp;            if ((c0 = bytes[offset]) == quote) {</b>
<b class="nc">&nbsp;                nameValue = 0;</b>
<b class="nc">&nbsp;            } else if ((c1 = bytes[offset + 1]) == quote &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c0 &gt; 0 &amp;&amp; c0 &lt;= 0xFF) {</b>
<b class="nc">&nbsp;                nameValue = c0;</b>
<b class="nc">&nbsp;                this.nameLength = 1;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 1;</b>
<b class="nc">&nbsp;                offset += 2;</b>
<b class="nc">&nbsp;            } else if ((c2 = bytes[offset + 2]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue = (c1 &lt;&lt; 8)</b>
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 2;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 2;</b>
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;            } else if ((c3 = bytes[offset + 3]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 3;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 3;</b>
<b class="nc">&nbsp;                offset += 4;</b>
<b class="nc">&nbsp;            } else if ((c4 = bytes[offset + 4]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt;= 0 &amp;&amp; c3 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (c3 &lt;&lt; 24)
&nbsp;                        + (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 4;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 4;</b>
<b class="nc">&nbsp;                offset += 5;</b>
<b class="nc">&nbsp;            } else if ((c5 = bytes[offset + 5]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt;= 0 &amp;&amp; c3 &gt;= 0 &amp;&amp; c4 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (((long) c4) &lt;&lt; 32)
&nbsp;                        + (c3 &lt;&lt; 24)
&nbsp;                        + (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 5;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 5;</b>
<b class="nc">&nbsp;                offset += 6;</b>
<b class="nc">&nbsp;            } else if ((c6 = bytes[offset + 6]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt;= 0 &amp;&amp; c3 &gt;= 0 &amp;&amp; c4 &gt;= 0 &amp;&amp; c5 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (((long) c5) &lt;&lt; 40)
&nbsp;                        + (((long) c4) &lt;&lt; 32)
&nbsp;                        + (c3 &lt;&lt; 24)
&nbsp;                        + (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 6;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 6;</b>
<b class="nc">&nbsp;                offset += 7;</b>
<b class="nc">&nbsp;            } else if ((c7 = bytes[offset + 7]) == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39; &amp;&amp; c6 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF &amp;&amp; c6 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt;= 0 &amp;&amp; c3 &gt;= 0 &amp;&amp; c4 &gt;= 0 &amp;&amp; c5 &gt;= 0 &amp;&amp; c6 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (((long) c6) &lt;&lt; 48)
&nbsp;                        + (((long) c5) &lt;&lt; 40)
&nbsp;                        + (((long) c4) &lt;&lt; 32)
&nbsp;                        + (c3 &lt;&lt; 24)
&nbsp;                        + (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 7;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 7;</b>
<b class="nc">&nbsp;                offset += 8;</b>
<b class="nc">&nbsp;            } else if (bytes[offset + 8] == quote</b>
&nbsp;                    &amp;&amp; c0 != &#39;\\&#39; &amp;&amp; c1 != &#39;\\&#39; &amp;&amp; c2 != &#39;\\&#39; &amp;&amp; c3 != &#39;\\&#39; &amp;&amp; c4 != &#39;\\&#39; &amp;&amp; c5 != &#39;\\&#39; &amp;&amp; c6 != &#39;\\&#39; &amp;&amp; c7 != &#39;\\&#39;
&nbsp;                    &amp;&amp; c0 &lt;= 0xFF &amp;&amp; c1 &lt;= 0xFF &amp;&amp; c2 &lt;= 0xFF &amp;&amp; c3 &lt;= 0xFF &amp;&amp; c4 &lt;= 0xFF &amp;&amp; c5 &lt;= 0xFF &amp;&amp; c6 &lt;= 0xFF &amp;&amp; c7 &lt;= 0xFF
&nbsp;                    &amp;&amp; c0 &gt;= 0 &amp;&amp; c1 &gt;= 0 &amp;&amp; c2 &gt;= 0 &amp;&amp; c3 &gt;= 0 &amp;&amp; c4 &gt;= 0 &amp;&amp; c5 &gt;= 0 &amp;&amp; c6 &gt;= 0 &amp;&amp; c7 &gt; 0
&nbsp;            ) {
<b class="nc">&nbsp;                nameValue</b>
&nbsp;                        = (((long) c7) &lt;&lt; 56)
&nbsp;                        + (((long) c6) &lt;&lt; 48)
&nbsp;                        + (((long) c5) &lt;&lt; 40)
&nbsp;                        + (((long) c4) &lt;&lt; 32)
&nbsp;                        + (c3 &lt;&lt; 24)
&nbsp;                        + (c2 &lt;&lt; 16)
&nbsp;                        + (c1 &lt;&lt; 8)
&nbsp;                        + c0;
<b class="nc">&nbsp;                this.nameLength = 8;</b>
<b class="nc">&nbsp;                this.nameEnd = offset + 8;</b>
<b class="nc">&nbsp;                offset += 9;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (MIXED_HASH_ALGORITHM &amp;&amp; nameValue == 0) {</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++, i++) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    if (i == 0) {</b>
<b class="nc">&nbsp;                        offset = this.nameBegin;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    if (c &gt; 0xFF) {</b>
<b class="nc">&nbsp;                        nameAscii = false;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == -61 || c == -62) {</b>
<b class="nc">&nbsp;                    byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                    c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                            | (c1 &amp; 0x3F));
<b class="nc">&nbsp;                    nameAscii = false;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt; 0xFF || c &lt; 0 || i &gt;= 8 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
<b class="nc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    hashCode ^= c;</b>
<b class="nc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    c &amp;= 0xFF;</b>
<b class="nc">&nbsp;                    switch (c &gt;&gt; 4) {</b>
&nbsp;                        case 12:
&nbsp;                        case 13: {
&nbsp;                            /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            if ((c2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            }
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                                    | (c2 &amp; 0x3F));
&nbsp;
<b class="nc">&nbsp;                            offset += 2;</b>
<b class="nc">&nbsp;                            nameAscii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case 14: {
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            int c3 = bytes[offset + 2];</b>
<b class="nc">&nbsp;                            if (((c2 &amp; 0xC0) != 0x80) || ((c3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            }
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x0F) &lt;&lt; 12) |</b>
&nbsp;                                    ((c2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                    ((c3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                            offset += 3;</b>
<b class="nc">&nbsp;                            nameAscii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        default:
&nbsp;                            /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                hashCode ^= c;</b>
<b class="nc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        byte c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (c != &#39;:&#39;) {</b>
&nbsp;            // return -1;
<b class="nc">&nbsp;            throw new JSONException(info(&quot;expect &#39;:&#39;, but &quot; + c));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset++;</b>
<b class="nc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            c = EOI;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = (char) c;</b>
&nbsp;
<b class="nc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public long readValueHashCode() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;illegal character &quot; + ch));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="nc">&nbsp;        this.nameAscii = true;</b>
<b class="nc">&nbsp;        this.nameEscape = false;</b>
<b class="nc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
&nbsp;
<b class="nc">&nbsp;        long nameValue = 0;</b>
<b class="nc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++, i++) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    if (i == 0) {</b>
<b class="nc">&nbsp;                        nameValue = 0;</b>
<b class="nc">&nbsp;                        offset = this.nameBegin;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == -61 || c == -62) {</b>
<b class="nc">&nbsp;                    byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                    c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                            | (c1 &amp; 0x3F));
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt; 0xFF || c &lt; 0 || i &gt;= 8 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        long hashCode;
<b class="nc">&nbsp;        if (nameValue != 0) {</b>
<b class="nc">&nbsp;            hashCode = nameValue;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            hashCode = Fnv.MAGIC_HASH_CODE;</b>
&nbsp;            for_:
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    nameEscape = true;</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            byte c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    hashCode ^= c;</b>
<b class="nc">&nbsp;                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    this.nameLength = i;</b>
<b class="nc">&nbsp;                    this.nameEnd = offset;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                        case 12:
&nbsp;                        case 13: {
&nbsp;                            /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            if ((c2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            }
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                                    | (c2 &amp; 0x3F));
&nbsp;
<b class="nc">&nbsp;                            offset += 2;</b>
<b class="nc">&nbsp;                            nameAscii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case 14: {
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            int c3 = bytes[offset + 2];</b>
<b class="nc">&nbsp;                            if (((c2 &amp; 0xC0) != 0x80) || ((c3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            }
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x0F) &lt;&lt; 12) |</b>
&nbsp;                                    ((c2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                    ((c3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                            offset += 3;</b>
<b class="nc">&nbsp;                            nameAscii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        default:
&nbsp;                            /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                            if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                                offset++;</b>
<b class="nc">&nbsp;                                int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                                int c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                                int uc = ((c &lt;&lt; 18) ^</b>
&nbsp;                                        (c2 &lt;&lt; 12) ^
&nbsp;                                        (c3 &lt;&lt; 6) ^
&nbsp;                                        (c4 ^ (((byte) 0xF0 &lt;&lt; 18) ^
&nbsp;                                                ((byte) 0x80 &lt;&lt; 12) ^
&nbsp;                                                ((byte) 0x80 &lt;&lt; 6) ^
&nbsp;                                                ((byte) 0x80 &lt;&lt; 0))));
&nbsp;
<b class="nc">&nbsp;                                if (((c2 &amp; 0xc0) != 0x80 || (c3 &amp; 0xc0) != 0x80 || (c4 &amp; 0xc0) != 0x80) // isMalformed4</b>
&nbsp;                                        ||
&nbsp;                                        // shortest form check
&nbsp;                                        !(uc &gt;= 0x010000 &amp;&amp; uc &lt; 0X10FFFF + 1) // !Character.isSupplementaryCodePoint(uc)
&nbsp;                                ) {
<b class="nc">&nbsp;                                    throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                                } else {
<b class="nc">&nbsp;                                    char x1 = (char) ((uc &gt;&gt;&gt; 10) + (&#39;\uD800&#39; - (0x010000 &gt;&gt;&gt; 10))); // Character.highSurrogate(uc);</b>
<b class="nc">&nbsp;                                    char x2 = (char) ((uc &amp; 0x3ff) + &#39;\uDC00&#39;); // Character.lowSurrogate(uc);</b>
&nbsp;
<b class="nc">&nbsp;                                    hashCode ^= x1;</b>
<b class="nc">&nbsp;                                    hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;
<b class="nc">&nbsp;                                    hashCode ^= x2;</b>
<b class="nc">&nbsp;                                    hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;                                    i++;</b>
&nbsp;                                }
<b class="nc">&nbsp;                                continue for_;</b>
&nbsp;                            }
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                hashCode ^= c;</b>
<b class="nc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        byte c;
<b class="nc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            c = EOI;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (c == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                c = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                c = bytes[offset];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                c = bytes[offset];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = (char) c;</b>
&nbsp;
<b class="nc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public long getNameHashCodeLCase() {
<b class="nc">&nbsp;        long hashCode = Fnv.MAGIC_HASH_CODE;</b>
<b class="nc">&nbsp;        int offset = nameBegin;</b>
&nbsp;
<b class="nc">&nbsp;        if (MIXED_HASH_ALGORITHM) {</b>
<b class="nc">&nbsp;            long nameValue = 0;</b>
<b class="nc">&nbsp;            for (int i = 0; offset &lt; end; offset++) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == -61 || c == -62) {</b>
<b class="nc">&nbsp;                    byte c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                    c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                            | (c1 &amp; 0x3F));
<b class="nc">&nbsp;                } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (i &gt;= 8 || c &gt; 0xFF || c &lt; 0 || (i == 0 &amp;&amp; c == 0)) {</b>
<b class="nc">&nbsp;                    nameValue = 0;</b>
<b class="nc">&nbsp;                    offset = this.nameBegin;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;_&#39; || c == &#39;-&#39; || c == &#39; &#39;) {</b>
<b class="nc">&nbsp;                    byte c1 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                    if (c1 != &#39;&quot;&#39; &amp;&amp; c1 != &#39;\&#39;&#39; &amp;&amp; c1 != c) {</b>
<b class="nc">&nbsp;                        continue;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {</b>
<b class="nc">&nbsp;                    c = (char) (c + 32);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch (i) {</b>
&nbsp;                    case 0:
<b class="nc">&nbsp;                        nameValue = (byte) c;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 8) + (nameValue &amp; 0xFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 16) + (nameValue &amp; 0xFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue = (((byte) c) &lt;&lt; 24) + (nameValue &amp; 0xFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 32) + (nameValue &amp; 0xFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 40L) + (nameValue &amp; 0xFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 48L) + (nameValue &amp; 0xFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue = (((long) (byte) c) &lt;&lt; 56L) + (nameValue &amp; 0xFFFFFFFFFFFFFFL);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                ++i;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (nameValue != 0) {</b>
<b class="nc">&nbsp;                return nameValue;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (nameAscii &amp;&amp; !nameEscape) {</b>
<b class="nc">&nbsp;            for (int i = nameBegin; i &lt; nameEnd; ++i) {</b>
<b class="nc">&nbsp;                char c = (char) bytes[i];</b>
<b class="nc">&nbsp;                if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {</b>
<b class="nc">&nbsp;                    c = (char) (c + 32);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c == &#39;_&#39; || c == &#39;-&#39; || c == &#39; &#39;) {</b>
<b class="nc">&nbsp;                    byte c1 = bytes[i + 1];</b>
<b class="nc">&nbsp;                    if (c1 != &#39;&quot;&#39; &amp;&amp; c1 != &#39;\&#39;&#39; &amp;&amp; c1 != c) {</b>
<b class="nc">&nbsp;                        continue;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                hashCode ^= c;</b>
<b class="nc">&nbsp;                hashCode *= Fnv.MAGIC_PRIME;</b>
&nbsp;            }
<b class="nc">&nbsp;            return hashCode;</b>
&nbsp;        }
&nbsp;
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            int c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                c = (char) bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
&nbsp;                    default:
<b class="nc">&nbsp;                        c = char1(c);</b>
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                    if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {</b>
<b class="nc">&nbsp;                        c = (char) (c + 32);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    c &amp;= 0xFF;</b>
<b class="nc">&nbsp;                    switch (c &gt;&gt; 4) {</b>
&nbsp;                        case 12:
&nbsp;                        case 13: {
&nbsp;                            /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x1F) &lt;&lt; 6)</b>
&nbsp;                                    | (c2 &amp; 0x3F));
<b class="nc">&nbsp;                            offset += 2;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case 14: {
<b class="nc">&nbsp;                            int c2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                            int c3 = bytes[offset + 2];</b>
<b class="nc">&nbsp;                            c = (char) (((c &amp; 0x0F) &lt;&lt; 12)</b>
&nbsp;                                    | ((c2 &amp; 0x3F) &lt;&lt; 6)
&nbsp;                                    | ((c3 &amp; 0x3F) &lt;&lt; 0));
&nbsp;
<b class="nc">&nbsp;                            offset += 3;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        default:
&nbsp;                            /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;_&#39; || c == &#39;-&#39; || c == &#39; &#39;) {</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            hashCode ^= c;</b>
<b class="nc">&nbsp;            hashCode *= Fnv.MAGIC_PRIME;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return hashCode;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String getFieldName() {
<b class="nc">&nbsp;        int length = nameEnd - nameBegin;</b>
<b class="nc">&nbsp;        if (!nameEscape) {</b>
<b class="nc">&nbsp;            if (nameAscii) {</b>
<b class="nc">&nbsp;                if (STRING_CREATOR_JDK8 != null) {</b>
<b class="nc">&nbsp;                    char[] chars = new char[length];</b>
<b class="nc">&nbsp;                    for (int i = 0; i &lt; length; ++i) {</b>
<b class="nc">&nbsp;                        chars[i] = (char) bytes[nameBegin + i];</b>
&nbsp;                    }
<b class="nc">&nbsp;                    return STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
<b class="nc">&nbsp;                } else if (STRING_CREATOR_JDK11 != null) {</b>
<b class="nc">&nbsp;                    byte[] bytes = Arrays.copyOfRange(this.bytes, nameBegin, nameEnd);</b>
<b class="nc">&nbsp;                    return STRING_CREATOR_JDK11.apply(bytes, LATIN1);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            return new String(bytes, nameBegin, length,</b>
&nbsp;                    nameAscii ? StandardCharsets.ISO_8859_1 : StandardCharsets.UTF_8
&nbsp;            );
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        char[] chars = new char[nameLength];</b>
&nbsp;
<b class="nc">&nbsp;        int offset = nameBegin;</b>
<b class="nc">&nbsp;        for (int i = 0; offset &lt; nameEnd; ++i) {</b>
<b class="nc">&nbsp;            int c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c &lt; 0) {</b>
<b class="nc">&nbsp;                c &amp;= 0xFF;</b>
<b class="nc">&nbsp;                switch (c &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13: {
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        int char2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                        if ((char2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                        }
<b class="nc">&nbsp;                        c = (((c &amp; 0x1F) &lt;&lt; 6) | (char2 &amp; 0x3F));</b>
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        int char2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                        int char3 = bytes[offset + 2];</b>
<b class="nc">&nbsp;                        if (((char2 &amp; 0xC0) != 0x80) || ((char3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + (offset + 2));</b>
&nbsp;                        }
<b class="nc">&nbsp;                        c = (((c &amp; 0x0F) &lt;&lt; 12) | ((char2 &amp; 0x3F) &lt;&lt; 6) | ((char3 &amp; 0x3F) &lt;&lt; 0));</b>
<b class="nc">&nbsp;                        offset += 3;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                }
<b class="nc">&nbsp;                chars[i] = (char) c;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                c = (char) bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
&nbsp;                    case &#39;.&#39;:
&nbsp;                    case &#39;-&#39;:
&nbsp;                    case &#39;+&#39;:
&nbsp;                    case &#39;*&#39;:
&nbsp;                    case &#39;/&#39;:
&nbsp;                    case &#39;&gt;&#39;:
&nbsp;                    case &#39;&lt;&#39;:
&nbsp;                    case &#39;=&#39;:
&nbsp;                    case &#39;@&#39;:
&nbsp;                    case &#39;:&#39;:
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
<b class="nc">&nbsp;                        c = char1(c);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            chars[i] = (char) c;</b>
<b class="nc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return new String(chars);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String readFieldName() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="nc">&nbsp;        this.nameAscii = true;</b>
<b class="nc">&nbsp;        this.nameEscape = false;</b>
<b class="nc">&nbsp;        int offset = this.nameBegin = this.offset;</b>
<b class="nc">&nbsp;        for (int i = 0; offset &lt; end; ++i) {</b>
<b class="nc">&nbsp;            int c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                nameEscape = true;</b>
<b class="nc">&nbsp;                c = bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c == quote) {</b>
<b class="nc">&nbsp;                this.nameLength = i;</b>
<b class="nc">&nbsp;                this.nameEnd = offset;</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                c = bytes[offset] &amp; 0xff;</b>
&nbsp;
<b class="nc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    c = bytes[offset] &amp; 0xff;</b>
&nbsp;                }
<b class="nc">&nbsp;                if (c != &#39;:&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;syntax error : &quot; + offset);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    c = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    c = bytes[offset];</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    c = bytes[offset];</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                this.offset = offset + 1;</b>
<b class="nc">&nbsp;                this.ch = (char) c;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                offset++;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                if (nameAscii) {</b>
<b class="nc">&nbsp;                    nameAscii = false;</b>
&nbsp;                }
<b class="nc">&nbsp;                c &amp;= 0xFF;</b>
<b class="nc">&nbsp;                switch (c &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13:
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        offset += 3;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (nameEnd &lt; nameBegin) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;syntax error : &quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int length = nameEnd - nameBegin;</b>
<b class="nc">&nbsp;        if (!nameEscape) {</b>
<b class="nc">&nbsp;            if (nameAscii) {</b>
<b class="nc">&nbsp;                long nameValue0 = -1, nameValue1 = -1;</b>
<b class="nc">&nbsp;                switch (length) {</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        return TypeUtils.toString((char) (bytes[nameBegin] &amp; 0xff));</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        return TypeUtils.toString(</b>
&nbsp;                                (char) (bytes[nameBegin] &amp; 0xff),
&nbsp;                                (char) (bytes[nameBegin + 1] &amp; 0xff)
&nbsp;                        );
&nbsp;                    case 3:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (bytes[nameBegin + 2] &lt;&lt; 16)
&nbsp;                                + (bytes[nameBegin + 1] &lt;&lt; 8)
&nbsp;                                + (bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 4:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (bytes[nameBegin + 3] &lt;&lt; 24)
&nbsp;                                + (bytes[nameBegin + 2] &lt;&lt; 16)
&nbsp;                                + (bytes[nameBegin + 1] &lt;&lt; 8)
&nbsp;                                + (bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 5:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 6:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 7:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 6]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 8:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 7]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 9:
<b class="nc">&nbsp;                        nameValue0 = bytes[nameBegin];</b>
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 8]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 7]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 1]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 10:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (bytes[nameBegin + 1] &lt;&lt; 8)
&nbsp;                                + (bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 9]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 7]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 2]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 11:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (bytes[nameBegin + 2] &lt;&lt; 16)
&nbsp;                                + (bytes[nameBegin + 1] &lt;&lt; 8)
&nbsp;                                + (bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 10]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 7]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 3]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 12:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (bytes[nameBegin + 3] &lt;&lt; 24)
&nbsp;                                + (bytes[nameBegin + 2] &lt;&lt; 16)
&nbsp;                                + (bytes[nameBegin + 1] &lt;&lt; 8)
&nbsp;                                + (bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 11]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 10]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 7]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 4]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 13:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 12]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 11]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 10]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 7]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 5]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 14:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 13]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 12]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 11]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 10]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 6]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 15:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 6]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 14]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 13]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 12]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 11]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 10]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 8]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 7]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 16:
<b class="nc">&nbsp;                        nameValue0</b>
&nbsp;                                = (((long) bytes[nameBegin + 7]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 6]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 5]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 4]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 3]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 2]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 1]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin]);
<b class="nc">&nbsp;                        nameValue1</b>
&nbsp;                                = (((long) bytes[nameBegin + 15]) &lt;&lt; 56)
&nbsp;                                + (((long) bytes[nameBegin + 14]) &lt;&lt; 48)
&nbsp;                                + (((long) bytes[nameBegin + 13]) &lt;&lt; 40)
&nbsp;                                + (((long) bytes[nameBegin + 12]) &lt;&lt; 32)
&nbsp;                                + (((long) bytes[nameBegin + 11]) &lt;&lt; 24)
&nbsp;                                + (((long) bytes[nameBegin + 10]) &lt;&lt; 16)
&nbsp;                                + (((long) bytes[nameBegin + 9]) &lt;&lt; 8)
&nbsp;                                + ((long) bytes[nameBegin + 8]);
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (nameValue0 != -1) {</b>
<b class="nc">&nbsp;                    if (nameValue1 != -1) {</b>
<b class="nc">&nbsp;                        int indexMask = ((int) nameValue1) &amp; (NAME_CACHE2.length - 1);</b>
<b class="nc">&nbsp;                        NameCacheEntry2 entry = NAME_CACHE2[indexMask];</b>
<b class="nc">&nbsp;                        if (entry == null) {</b>
&nbsp;                            String name;
<b class="nc">&nbsp;                            if (STRING_CREATOR_JDK8 != null) {</b>
<b class="nc">&nbsp;                                char[] chars = new char[length];</b>
<b class="nc">&nbsp;                                for (int i = 0; i &lt; length; ++i) {</b>
<b class="nc">&nbsp;                                    chars[i] = (char) bytes[nameBegin + i];</b>
&nbsp;                                }
<b class="nc">&nbsp;                                name = STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
<b class="nc">&nbsp;                            } else {</b>
<b class="nc">&nbsp;                                name = new String(bytes, nameBegin, length, StandardCharsets.ISO_8859_1);</b>
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            NAME_CACHE2[indexMask] = new NameCacheEntry2(name, nameValue0, nameValue1);</b>
<b class="nc">&nbsp;                            return name;</b>
<b class="nc">&nbsp;                        } else if (entry.value0 == nameValue0 &amp;&amp; entry.value1 == nameValue1) {</b>
<b class="nc">&nbsp;                            return entry.name;</b>
&nbsp;                        }
<b class="nc">&nbsp;                    } else {</b>
<b class="nc">&nbsp;                        int indexMask = ((int) nameValue0) &amp; (NAME_CACHE.length - 1);</b>
<b class="nc">&nbsp;                        NameCacheEntry entry = NAME_CACHE[indexMask];</b>
<b class="nc">&nbsp;                        if (entry == null) {</b>
&nbsp;                            String name;
<b class="nc">&nbsp;                            if (STRING_CREATOR_JDK8 != null) {</b>
<b class="nc">&nbsp;                                char[] chars = new char[length];</b>
<b class="nc">&nbsp;                                for (int i = 0; i &lt; length; ++i) {</b>
<b class="nc">&nbsp;                                    chars[i] = (char) bytes[nameBegin + i];</b>
&nbsp;                                }
<b class="nc">&nbsp;                                name = STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
<b class="nc">&nbsp;                            } else {</b>
<b class="nc">&nbsp;                                name = new String(bytes, nameBegin, length, StandardCharsets.ISO_8859_1);</b>
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            NAME_CACHE[indexMask] = new NameCacheEntry(name, nameValue0);</b>
<b class="nc">&nbsp;                            return name;</b>
<b class="nc">&nbsp;                        } else if (entry.value == nameValue0) {</b>
<b class="nc">&nbsp;                            return entry.name;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (STRING_CREATOR_JDK8 != null) {</b>
<b class="nc">&nbsp;                    char[] chars = new char[length];</b>
<b class="nc">&nbsp;                    for (int i = 0; i &lt; length; ++i) {</b>
<b class="nc">&nbsp;                        chars[i] = (char) bytes[nameBegin + i];</b>
&nbsp;                    }
<b class="nc">&nbsp;                    return STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
<b class="nc">&nbsp;                } else if (STRING_CREATOR_JDK11 != null) {</b>
<b class="nc">&nbsp;                    byte[] bytes = Arrays.copyOfRange(this.bytes, nameBegin, nameEnd);</b>
<b class="nc">&nbsp;                    return STRING_CREATOR_JDK11.apply(bytes, LATIN1);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            return new String(bytes, nameBegin, length,</b>
&nbsp;                    nameAscii ? StandardCharsets.ISO_8859_1 : StandardCharsets.UTF_8
&nbsp;            );
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return getFieldName();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final int readInt32Value() {
<b class="nc">&nbsp;        boolean negative = false;</b>
<b class="nc">&nbsp;        int firstOffset = offset;</b>
<b class="nc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="nc">&nbsp;        int intValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean overflow = false;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!overflow) {</b>
<b class="nc">&nbsp;                int intValue10 = intValue * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                if (intValue10 &lt; intValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    intValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean notMatch = false;</b>
<b class="nc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="nc">&nbsp;            notMatch = true;</b>
<b class="nc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (notMatch) {</b>
<b class="nc">&nbsp;            this.offset = firstOffset;</b>
<b class="nc">&nbsp;            this.ch = firstChar;</b>
<b class="nc">&nbsp;            readNumber0();</b>
<b class="nc">&nbsp;            if (valueType == JSON_TYPE_INT) {</b>
<b class="nc">&nbsp;                BigInteger bigInteger = getBigInteger();</b>
&nbsp;                try {
<b class="nc">&nbsp;                    return bigInteger.intValueExact();</b>
<b class="nc">&nbsp;                } catch (ArithmeticException ex) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;int overflow, value &quot; + bigInteger.toString());</b>
&nbsp;                }
&nbsp;            } else {
<b class="nc">&nbsp;                return getInt32Value();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            wasNull = firstOffset + 1 == offset;</b>
<b class="nc">&nbsp;            ch = offset == end ? EOI : (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.ch = offset == end ? EOI : (char) bytes[this.offset++];</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return negative ? -intValue : intValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Integer readInt32() {
<b class="nc">&nbsp;        boolean negative = false;</b>
<b class="nc">&nbsp;        int firstOffset = offset;</b>
<b class="nc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="nc">&nbsp;        int intValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                    nextIfMatch(&#39;,&#39;);</b>
&nbsp;                }
<b class="nc">&nbsp;                return null;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (ch == &#39;,&#39; || ch == &#39;\r&#39; || ch == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean overflow = false;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!overflow) {</b>
<b class="nc">&nbsp;                int intValue10 = intValue * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                if (intValue10 &lt; intValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    intValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean notMatch = false;</b>
<b class="nc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="nc">&nbsp;            notMatch = true;</b>
<b class="nc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (notMatch) {</b>
<b class="nc">&nbsp;            this.offset = firstOffset;</b>
<b class="nc">&nbsp;            this.ch = firstChar;</b>
<b class="nc">&nbsp;            readNumber0();</b>
<b class="nc">&nbsp;            if (wasNull) {</b>
<b class="nc">&nbsp;                return null;</b>
&nbsp;            }
<b class="nc">&nbsp;            return getInt32Value();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[this.offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return negative ? -intValue : intValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readInt64Value() {
<b class="nc">&nbsp;        boolean negative = false;</b>
<b class="nc">&nbsp;        int firstOffset = offset;</b>
<b class="nc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="nc">&nbsp;        long longValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean overflow = false;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!overflow) {</b>
<b class="nc">&nbsp;                long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    longValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean notMatch = false;</b>
<b class="nc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="nc">&nbsp;            notMatch = true;</b>
<b class="nc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (notMatch) {</b>
<b class="nc">&nbsp;            this.offset = firstOffset;</b>
<b class="nc">&nbsp;            this.ch = firstChar;</b>
<b class="nc">&nbsp;            readNumber0();</b>
<b class="nc">&nbsp;            if (valueType == JSON_TYPE_INT) {</b>
<b class="nc">&nbsp;                BigInteger bigInteger = getBigInteger();</b>
&nbsp;                try {
<b class="nc">&nbsp;                    return bigInteger.longValueExact();</b>
<b class="nc">&nbsp;                } catch (ArithmeticException ex) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;long overflow, value &quot; + bigInteger);</b>
&nbsp;                }
&nbsp;            } else {
<b class="nc">&nbsp;                return getInt64Value();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            wasNull = firstOffset + 1 == offset;</b>
<b class="nc">&nbsp;            this.ch = offset == end ? EOI : (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (this.ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; this.ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (this.ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.ch = offset == end ? EOI : (char) bytes[this.offset++];</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    this.ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    this.ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return negative ? -longValue : longValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Long readInt64() {
<b class="nc">&nbsp;        boolean negative = false;</b>
<b class="nc">&nbsp;        int firstOffset = offset;</b>
<b class="nc">&nbsp;        char firstChar = ch;</b>
&nbsp;
<b class="nc">&nbsp;        long longValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                return null;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (ch == &#39;,&#39; || ch == &#39;\r&#39; || ch == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                return null;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean overflow = false;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!overflow) {</b>
<b class="nc">&nbsp;                long intValue10 = longValue * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                if (intValue10 &lt; longValue) {</b>
<b class="nc">&nbsp;                    overflow = true;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    longValue = intValue10;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean notMatch = false;</b>
<b class="nc">&nbsp;        if (ch == &#39;.&#39;</b>
&nbsp;                || ch == &#39;e&#39;
&nbsp;                || ch == &#39;E&#39;
&nbsp;                || ch == &#39;t&#39;
&nbsp;                || ch == &#39;f&#39;
&nbsp;                || ch == &#39;n&#39;
&nbsp;                || ch == &#39;{&#39;
&nbsp;                || ch == &#39;[&#39;
&nbsp;                || overflow) {
<b class="nc">&nbsp;            notMatch = true;</b>
<b class="nc">&nbsp;        } else if (quote != 0 &amp;&amp; ch != quote) {</b>
<b class="nc">&nbsp;            notMatch = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (notMatch) {</b>
<b class="nc">&nbsp;            this.offset = firstOffset;</b>
<b class="nc">&nbsp;            this.ch = firstChar;</b>
<b class="nc">&nbsp;            readNumber0();</b>
<b class="nc">&nbsp;            return getInt64();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[this.offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return negative ? -longValue : longValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final double readDoubleValue() {
<b class="nc">&nbsp;        this.wasNull = false;</b>
&nbsp;
<b class="nc">&nbsp;        boolean value = false;</b>
<b class="nc">&nbsp;        double doubleValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;                return 0;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final int start = offset;</b>
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        } else {
<b class="nc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                this.scale++;</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="nc">&nbsp;            boolean negativeExp = false;</b>
<b class="nc">&nbsp;            int expValue = 0;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="nc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == start) {</b>
<b class="nc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;long value not support input null&quot;));</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    wasNull = true;</b>
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    doubleValue = 1;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    doubleValue = 0;</b>
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                Map&lt;String, Object&gt; obj = readObject();</b>
<b class="nc">&nbsp;                if (!obj.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                List array = readArray();</b>
<b class="nc">&nbsp;                if (!array.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="nc">&nbsp;        String str = null;</b>
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (ch != quote) {</b>
<b class="nc">&nbsp;                this.offset -= 1;</b>
<b class="nc">&nbsp;                this.ch = quote;</b>
<b class="nc">&nbsp;                str = readString();</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (!value) {</b>
<b class="nc">&nbsp;            if (str != null) {</b>
&nbsp;                try {
<b class="nc">&nbsp;                    doubleValue = Double.parseDouble(str);</b>
<b class="nc">&nbsp;                } catch (NumberFormatException ex) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info(), ex);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;            } else {
<b class="nc">&nbsp;                doubleValue = TypeUtils.parseDouble(bytes, start - 1, len);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39;B&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;S&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;L&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;F&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;D&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[this.offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return doubleValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final float readFloatValue() {
<b class="nc">&nbsp;        this.wasNull = false;</b>
&nbsp;
<b class="nc">&nbsp;        boolean value = false;</b>
<b class="nc">&nbsp;        float floatValue = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;                return 0;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final int start = offset;</b>
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        } else {
<b class="nc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                this.scale++;</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="nc">&nbsp;            boolean negativeExp = false;</b>
<b class="nc">&nbsp;            int expValue = 0;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="nc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == start) {</b>
<b class="nc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    if ((context.features &amp; Feature.ErrorOnNullForPrimitives.mask) != 0) {</b>
<b class="nc">&nbsp;                        throw new JSONException(info(&quot;long value not support input null&quot;));</b>
&nbsp;                    }
<b class="nc">&nbsp;                    wasNull = true;</b>
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    floatValue = 1;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    floatValue = 0;</b>
<b class="nc">&nbsp;                    value = true;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                Map&lt;String, Object&gt; obj = readObject();</b>
<b class="nc">&nbsp;                if (!obj.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                List array = readArray();</b>
<b class="nc">&nbsp;                if (!array.isEmpty()) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info());</b>
&nbsp;                }
<b class="nc">&nbsp;                value = true;</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="nc">&nbsp;        String str = null;</b>
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (ch != quote) {</b>
<b class="nc">&nbsp;                this.offset -= 1;</b>
<b class="nc">&nbsp;                this.ch = quote;</b>
<b class="nc">&nbsp;                str = readString();</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (!value) {</b>
<b class="nc">&nbsp;            if (str != null) {</b>
&nbsp;                try {
<b class="nc">&nbsp;                    floatValue = Float.parseFloat(str);</b>
<b class="nc">&nbsp;                } catch (NumberFormatException ex) {</b>
<b class="nc">&nbsp;                    throw new JSONException(info(), ex);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;            } else {
<b class="nc">&nbsp;                floatValue = TypeUtils.parseFloat(bytes, start - 1, len);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;                switch (ch) {</b>
&nbsp;                    case &#39;B&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;S&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;L&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;F&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case &#39;D&#39;:
<b class="nc">&nbsp;                        valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (this.comma = ch == &#39;,&#39;) {</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[this.offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return floatValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readString(ValueConsumer consumer, boolean quoted) {
<b class="nc">&nbsp;        char quote = this.ch;</b>
&nbsp;        int valueLength;
<b class="nc">&nbsp;        int offset = this.offset;</b>
<b class="nc">&nbsp;        int start = offset;</b>
<b class="nc">&nbsp;        valueEscape = false;</b>
&nbsp;
&nbsp;        _for:
<b class="nc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;            int c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                valueEscape = true;</b>
<b class="nc">&nbsp;                c = bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    valueLength = i;</b>
<b class="nc">&nbsp;                    break _for;</b>
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13: {
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        offset += 3;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                            offset += 4;</b>
<b class="nc">&nbsp;                            i++;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
<b class="nc">&nbsp;                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (valueEscape) {</b>
<b class="nc">&nbsp;            int bytesMaxiumLength = offset - this.offset;</b>
&nbsp;
<b class="nc">&nbsp;            char[] chars = new char[valueLength];</b>
<b class="nc">&nbsp;            offset = start;</b>
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                    chars[i] = (char) c;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13: {
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        offset++;</b>
<b class="nc">&nbsp;                        int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                        chars[i] = (char) (</b>
&nbsp;                                ((c &amp; 0x1F) &lt;&lt; 6) | (c2 &amp; 0x3F));
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        offset++;</b>
<b class="nc">&nbsp;                        int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                        int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                        chars[i] = (char)</b>
&nbsp;                                (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                        ((c2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                        ((c3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                            offset++;</b>
<b class="nc">&nbsp;                            int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int uc = ((c &lt;&lt; 18) ^</b>
&nbsp;                                    (c2 &lt;&lt; 12) ^
&nbsp;                                    (c3 &lt;&lt; 6) ^
&nbsp;                                    (c4 ^ (((byte) 0xF0 &lt;&lt; 18) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 12) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 6) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 0))));
&nbsp;
<b class="nc">&nbsp;                            if (((c2 &amp; 0xc0) != 0x80 || (c3 &amp; 0xc0) != 0x80 || (c4 &amp; 0xc0) != 0x80) // isMalformed4</b>
&nbsp;                                    ||
&nbsp;                                    // shortest form check
&nbsp;                                    !(uc &gt;= 0x010000 &amp;&amp; uc &lt; 0X10FFFF + 1) // !Character.isSupplementaryCodePoint(uc)
&nbsp;                            ) {
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                chars[i++] = (char) ((uc &gt;&gt;&gt; 10) + (&#39;\uD800&#39; - (0x010000 &gt;&gt;&gt; 10))); // Character.highSurrogate(uc);</b>
<b class="nc">&nbsp;                                chars[i] = (char) ((uc &amp; 0x3ff) + &#39;\uDC00&#39;); // Character.lowSurrogate(uc);</b>
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
<b class="nc">&nbsp;                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (quoted) {</b>
<b class="nc">&nbsp;                JSONWriter jsonWriter = JSONWriterUTF8.of();</b>
<b class="nc">&nbsp;                jsonWriter.writeString(chars, 0, chars.length);</b>
<b class="nc">&nbsp;                byte[] bytes = jsonWriter.getBytes();</b>
<b class="nc">&nbsp;                consumer.accept(bytes, 0, bytes.length);</b>
<b class="nc">&nbsp;            } else {</b>
<b class="nc">&nbsp;                byte[] bytes = new byte[bytesMaxiumLength];</b>
<b class="nc">&nbsp;                int bytesLength = IOUtils.encodeUTF8(chars, 0, chars.length, bytes, 0);</b>
<b class="nc">&nbsp;                consumer.accept(bytes, 0, bytesLength);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else {</b>
<b class="nc">&nbsp;            int consumStart = quoted ? this.offset - 1 : this.offset;</b>
<b class="nc">&nbsp;            int consumLen = quoted ? offset - this.offset + 2 : offset - this.offset;</b>
<b class="nc">&nbsp;            if (quoted &amp;&amp; quote == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;                byte[] quotedBytes = new byte[consumLen];</b>
<b class="nc">&nbsp;                System.arraycopy(bytes, this.offset - 1, quotedBytes, 0, consumLen);</b>
<b class="nc">&nbsp;                quotedBytes[0] = &#39;&quot;&#39;;</b>
<b class="nc">&nbsp;                quotedBytes[quotedBytes.length - 1] = &#39;&quot;&#39;;</b>
<b class="nc">&nbsp;                consumer.accept(quotedBytes, 0, quotedBytes.length);</b>
<b class="nc">&nbsp;            } else {</b>
<b class="nc">&nbsp;                consumer.accept(bytes, consumStart, consumLen);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int b = bytes[++offset];</b>
<b class="nc">&nbsp;        while (b &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; b) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            b = bytes[++offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (b == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        } else {
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            this.ch = (char) b;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    protected void readString0() {
<b class="nc">&nbsp;        char quote = this.ch;</b>
&nbsp;        int valueLength;
<b class="nc">&nbsp;        int offset = this.offset;</b>
<b class="nc">&nbsp;        int start = offset;</b>
<b class="nc">&nbsp;        boolean ascii = true;</b>
<b class="nc">&nbsp;        valueEscape = false;</b>
&nbsp;
&nbsp;        _for:
<b class="nc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;            int c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                valueEscape = true;</b>
<b class="nc">&nbsp;                c = bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        offset += 4;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        break;
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                if (c == quote) {</b>
<b class="nc">&nbsp;                    valueLength = i;</b>
<b class="nc">&nbsp;                    break _for;</b>
&nbsp;                }
<b class="nc">&nbsp;                offset++;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13: {
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        ascii = false;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        offset += 3;</b>
<b class="nc">&nbsp;                        ascii = false;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default: {
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                            offset += 4;</b>
<b class="nc">&nbsp;                            i++;</b>
<b class="nc">&nbsp;                            ascii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;
<b class="nc">&nbsp;                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        String str;
<b class="nc">&nbsp;        if (valueEscape) {</b>
<b class="nc">&nbsp;            char[] chars = new char[valueLength];</b>
<b class="nc">&nbsp;            offset = start;</b>
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                int c = bytes[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                            int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                            c = char2(c1, c2);</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;\\&#39;:
&nbsp;                        case &#39;&quot;&#39;:
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        default:
<b class="nc">&nbsp;                            c = char1(c);</b>
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    chars[i] = (char) c;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                        chars[i] = (char) c;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                            case 12:
&nbsp;                            case 13: {
&nbsp;                                /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                                offset++;</b>
<b class="nc">&nbsp;                                int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                chars[i] = (char) (</b>
&nbsp;                                        ((c &amp; 0x1F) &lt;&lt; 6) | (c2 &amp; 0x3F));
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            case 14: {
<b class="nc">&nbsp;                                offset++;</b>
<b class="nc">&nbsp;                                int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                                chars[i] = (char)</b>
&nbsp;                                        (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                                ((c2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                                ((c3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            default: {
&nbsp;                                /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                                if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                                    offset++;</b>
<b class="nc">&nbsp;                                    int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    int c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    int uc = ((c &lt;&lt; 18) ^</b>
&nbsp;                                            (c2 &lt;&lt; 12) ^
&nbsp;                                            (c3 &lt;&lt; 6) ^
&nbsp;                                            (c4 ^ (((byte) 0xF0 &lt;&lt; 18) ^
&nbsp;                                                    ((byte) 0x80 &lt;&lt; 12) ^
&nbsp;                                                    ((byte) 0x80 &lt;&lt; 6) ^
&nbsp;                                                    ((byte) 0x80 &lt;&lt; 0))));
&nbsp;
<b class="nc">&nbsp;                                    if (((c2 &amp; 0xc0) != 0x80 || (c3 &amp; 0xc0) != 0x80 || (c4 &amp; 0xc0) != 0x80) // isMalformed4</b>
&nbsp;                                            ||
&nbsp;                                            // shortest form check
&nbsp;                                            !(uc &gt;= 0x010000 &amp;&amp; uc &lt; 0X10FFFF + 1) // !Character.isSupplementaryCodePoint(uc)
&nbsp;                                    ) {
<b class="nc">&nbsp;                                        throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                                    } else {
<b class="nc">&nbsp;                                        chars[i++] = (char) ((uc &gt;&gt;&gt; 10) + (&#39;\uD800&#39; - (0x010000 &gt;&gt;&gt; 10))); // Character.highSurrogate(uc);</b>
<b class="nc">&nbsp;                                        chars[i] = (char) ((uc &amp; 0x3ff) + &#39;\uDC00&#39;); // Character.lowSurrogate(uc);</b>
&nbsp;                                    }
<b class="nc">&nbsp;                                    break;</b>
&nbsp;                                }
&nbsp;
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            str = new String(chars);</b>
<b class="nc">&nbsp;        } else if (ascii) {</b>
<b class="nc">&nbsp;            str = new String(bytes, this.offset, offset - this.offset, StandardCharsets.ISO_8859_1);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            str = new String(bytes, this.offset, offset - this.offset, StandardCharsets.UTF_8);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int b = bytes[++offset];</b>
<b class="nc">&nbsp;        while (b &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; b) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            b = bytes[++offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.comma = b == &#39;,&#39;;</b>
<b class="nc">&nbsp;        if (b == &#39;,&#39;) {</b>
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        } else {
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            this.ch = (char) b;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        stringValue = str;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean skipName() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;not support unquoted name&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = this.offset;</b>
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            byte c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                offset += 2;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    c = bytes[offset];</b>
&nbsp;                }
<b class="nc">&nbsp;                if (c != &#39;:&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;syntax error, expect &#39;,&#39;, but &#39;&quot; + c + &quot;&#39;&quot;);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                c = bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    c = bytes[offset];</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                this.offset = offset + 1;</b>
<b class="nc">&nbsp;                this.ch = (char) c;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void skipValue() {
<b class="nc">&nbsp;        comma = false;</b>
<b class="nc">&nbsp;        switch (ch) {</b>
&nbsp;            case &#39;[&#39;: {
<b class="nc">&nbsp;                next();</b>
<b class="nc">&nbsp;                for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                    if (ch == &#39;]&#39;) {</b>
<b class="nc">&nbsp;                        next();</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if (i != 0 &amp;&amp; !comma) {</b>
<b class="nc">&nbsp;                        throw new JSONValidException(&quot;offset &quot; + this.offset);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    comma = false;</b>
<b class="nc">&nbsp;                    skipValue();</b>
&nbsp;                }
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case &#39;{&#39;: {
<b class="nc">&nbsp;                next();</b>
&nbsp;                for (; ; ) {
<b class="nc">&nbsp;                    if (ch == &#39;}&#39;) {</b>
<b class="nc">&nbsp;                        next();</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    skipName();</b>
<b class="nc">&nbsp;                    skipValue();</b>
&nbsp;                }
&nbsp;                break;
&nbsp;            }
&nbsp;            case &#39;&quot;&#39;: {
<b class="nc">&nbsp;                skipString();</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case &#39;-&#39;:
&nbsp;            case &#39;+&#39;:
&nbsp;            case &#39;0&#39;:
&nbsp;            case &#39;1&#39;:
&nbsp;            case &#39;2&#39;:
&nbsp;            case &#39;3&#39;:
&nbsp;            case &#39;4&#39;:
&nbsp;            case &#39;5&#39;:
&nbsp;            case &#39;6&#39;:
&nbsp;            case &#39;7&#39;:
&nbsp;            case &#39;8&#39;:
&nbsp;            case &#39;9&#39;:
&nbsp;            case &#39;.&#39;:
<b class="nc">&nbsp;                boolean sign = ch == &#39;-&#39; || ch == &#39;+&#39;;</b>
<b class="nc">&nbsp;                if (sign) {</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;                boolean dot = ch == &#39;.&#39;;</b>
<b class="nc">&nbsp;                boolean space = false;</b>
<b class="nc">&nbsp;                boolean num = false;</b>
<b class="nc">&nbsp;                if (!dot &amp;&amp; (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)) {</b>
<b class="nc">&nbsp;                    num = true;</b>
&nbsp;                    for (; ; ) {
<b class="nc">&nbsp;                        if (offset &lt; end) {</b>
<b class="nc">&nbsp;                            ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            ch = EOI;</b>
&nbsp;                            return;
&nbsp;                        }
&nbsp;
<b class="nc">&nbsp;                        if (space || ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                boolean small = false;</b>
<b class="nc">&nbsp;                if (ch == &#39;.&#39;) {</b>
<b class="nc">&nbsp;                    small = true;</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
&nbsp;                        for (; ; ) {
<b class="nc">&nbsp;                            if (offset &lt; end) {</b>
<b class="nc">&nbsp;                                ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                ch = EOI;</b>
&nbsp;                                return;
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            if (space || ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (!num &amp;&amp; !small) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;illegal number, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="nc">&nbsp;                    ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;
<b class="nc">&nbsp;                    boolean eSign = false;</b>
<b class="nc">&nbsp;                    if (ch == &#39;+&#39; || ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                        eSign = true;</b>
<b class="nc">&nbsp;                        if (offset &lt; end) {</b>
<b class="nc">&nbsp;                            ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
&nbsp;                        for (; ; ) {
<b class="nc">&nbsp;                            if (offset &lt; end) {</b>
<b class="nc">&nbsp;                                ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                ch = EOI;</b>
&nbsp;                                return;
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            if (ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) {</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                        }
<b class="nc">&nbsp;                    } else if (eSign) {</b>
<b class="nc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;,&#39;) {</b>
<b class="nc">&nbsp;                    comma = true;</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    ch = (char) (bytes[offset] &amp; 0xff);</b>
<b class="nc">&nbsp;                    while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                        offset++;</b>
<b class="nc">&nbsp;                        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                            throw new JSONException(&quot;illegal number, offset &quot; + offset);</b>
&nbsp;                        }
<b class="nc">&nbsp;                        ch = (char) (bytes[offset] &amp; 0xff);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    comma = true;</b>
<b class="nc">&nbsp;                    offset++;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            case &#39;t&#39;:
<b class="nc">&nbsp;                if (offset + 3 &gt; end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                if (bytes[offset] != &#39;r&#39; || bytes[offset + 1] != &#39;u&#39; || bytes[offset + 2] != &#39;e&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;                if (offset &lt; end) {</b>
<b class="nc">&nbsp;                    ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;f&#39;:
<b class="nc">&nbsp;                if (offset + 4 &gt; end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                if (bytes[offset] != &#39;a&#39; || bytes[offset + 1] != &#39;l&#39; || bytes[offset + 2] != &#39;s&#39; || bytes[offset + 3] != &#39;e&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                offset += 4;</b>
<b class="nc">&nbsp;                if (offset &lt; end) {</b>
<b class="nc">&nbsp;                    ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;n&#39;:
<b class="nc">&nbsp;                if (offset + 3 &gt; end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                if (bytes[offset] != &#39;u&#39; || bytes[offset + 1] != &#39;l&#39; || bytes[offset + 2] != &#39;l&#39;) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;                if (offset &lt; end) {</b>
<b class="nc">&nbsp;                    ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &lt; end) {</b>
<b class="nc">&nbsp;                        ch = (char) (bytes[offset++] &amp; 0xff);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;}&#39; || ch == &#39;]&#39;) {</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;                break;
&nbsp;            case &#39;S&#39;:
<b class="nc">&nbsp;                if (nextIfSet()) {</b>
<b class="nc">&nbsp;                    skipValue();</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            default:
<b class="nc">&nbsp;                throw new JSONException(&quot;TODO : &quot; + ch);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;,&#39;) {</b>
<b class="nc">&nbsp;            comma = true;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;error, offset &quot; + offset + &quot;, char &quot; + ch);</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;        } else if (!comma &amp;&amp; ch != &#39;}&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != EOI) {</b>
<b class="nc">&nbsp;            throw new JSONValidException(&quot;offset &quot; + offset);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String getString() {
<b class="nc">&nbsp;        if (stringValue != null) {</b>
<b class="nc">&nbsp;            return stringValue;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int length = nameEnd - nameBegin;</b>
<b class="nc">&nbsp;        if (!nameEscape) {</b>
<b class="nc">&nbsp;            return new String(bytes, nameBegin, length,</b>
&nbsp;                    nameAscii ? StandardCharsets.ISO_8859_1 : StandardCharsets.UTF_8
&nbsp;            );
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        char[] chars = new char[nameLength];</b>
&nbsp;
<b class="nc">&nbsp;        int offset = nameBegin;</b>
&nbsp;        for_:
<b class="nc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;            int c = bytes[offset];</b>
<b class="nc">&nbsp;            if (c &lt; 0) {</b>
<b class="nc">&nbsp;                switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                    case 12:
&nbsp;                    case 13: {
&nbsp;                        /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                        int char2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                        if ((char2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                        }
<b class="nc">&nbsp;                        c = (((c &amp; 0x1F) &lt;&lt; 6) | (char2 &amp; 0x3F));</b>
<b class="nc">&nbsp;                        offset += 2;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case 14: {
<b class="nc">&nbsp;                        int char2 = bytes[offset + 1];</b>
<b class="nc">&nbsp;                        int char3 = bytes[offset + 2];</b>
<b class="nc">&nbsp;                        if (((char2 &amp; 0xC0) != 0x80) || ((char3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + (offset + 2));</b>
&nbsp;                        }
<b class="nc">&nbsp;                        c = (((c &amp; 0x0F) &lt;&lt; 12) | ((char2 &amp; 0x3F) &lt;&lt; 6) | ((char3 &amp; 0x3F) &lt;&lt; 0));</b>
<b class="nc">&nbsp;                        offset += 3;</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    default:
&nbsp;                        /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                        if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                            offset++;</b>
<b class="nc">&nbsp;                            int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                            int uc = ((c &lt;&lt; 18) ^</b>
&nbsp;                                    (c2 &lt;&lt; 12) ^
&nbsp;                                    (c3 &lt;&lt; 6) ^
&nbsp;                                    (c4 ^ (((byte) 0xF0 &lt;&lt; 18) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 12) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 6) ^
&nbsp;                                            ((byte) 0x80 &lt;&lt; 0))));
&nbsp;
<b class="nc">&nbsp;                            if (((c2 &amp; 0xc0) != 0x80 || (c3 &amp; 0xc0) != 0x80 || (c4 &amp; 0xc0) != 0x80) // isMalformed4</b>
&nbsp;                                    ||
&nbsp;                                    // shortest form check
&nbsp;                                    !(uc &gt;= 0x010000 &amp;&amp; uc &lt; 0X10FFFF + 1) // !Character.isSupplementaryCodePoint(uc)
&nbsp;                            ) {
<b class="nc">&nbsp;                                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                chars[i++] = (char) ((uc &gt;&gt;&gt; 10) + (&#39;\uD800&#39; - (0x010000 &gt;&gt;&gt; 10))); // Character.highSurrogate(uc);</b>
<b class="nc">&nbsp;                                chars[i] = (char) ((uc &amp; 0x3ff) + &#39;\uDC00&#39;); // Character.lowSurrogate(uc);</b>
&nbsp;                            }
<b class="nc">&nbsp;                            continue for_;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            c &amp;= 0xFF;</b>
<b class="nc">&nbsp;                            offset++;</b>
&nbsp;                            break;
&nbsp;                        }
&nbsp;                }
<b class="nc">&nbsp;                chars[i] = (char) c;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                c = (char) bytes[++offset];</b>
<b class="nc">&nbsp;                switch (c) {</b>
&nbsp;                    case &#39;u&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;x&#39;: {
<b class="nc">&nbsp;                        int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                        int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                        c = char2(c1, c2);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    }
&nbsp;                    case &#39;\\&#39;:
&nbsp;                    case &#39;&quot;&#39;:
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
<b class="nc">&nbsp;                        c = char1(c);</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            chars[i] = (char) c;</b>
<b class="nc">&nbsp;            offset++;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return stringValue = new String(chars);</b>
&nbsp;    }
&nbsp;
&nbsp;    protected final void skipString() {
<b class="nc">&nbsp;        char quote = this.ch;</b>
&nbsp;
<b class="nc">&nbsp;        while (offset + 4 &lt; end &amp;&amp; offset + 4 &lt; bytes.length) {</b>
<b class="nc">&nbsp;            byte b0 = bytes[offset];</b>
<b class="nc">&nbsp;            byte b1 = bytes[offset + 1];</b>
<b class="nc">&nbsp;            byte b2 = bytes[offset + 2];</b>
<b class="nc">&nbsp;            byte b3 = bytes[offset + 3];</b>
&nbsp;
<b class="nc">&nbsp;            if (b0 != &#39;\\&#39;</b>
&nbsp;                    &amp;&amp; b1 != &#39;\\&#39;
&nbsp;                    &amp;&amp; b2 != &#39;\\&#39;
&nbsp;                    &amp;&amp; b3 != &#39;\\&#39;
&nbsp;                    &amp;&amp; b0 != &#39;&quot;&#39;
&nbsp;                    &amp;&amp; b1 != &#39;&quot;&#39;
&nbsp;                    &amp;&amp; b2 != &#39;&quot;&#39;
&nbsp;                    &amp;&amp; b3 != &#39;&quot;&#39;
&nbsp;            ) {
<b class="nc">&nbsp;                offset += 4;</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
&nbsp;            break;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        byte ch = bytes[offset++];</b>
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            if (ch == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                ch = bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;\\&#39; || ch == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                    ch = bytes[offset++];</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (ch == &#39;u&#39;) {</b>
<b class="nc">&nbsp;                    offset += 4;</b>
<b class="nc">&nbsp;                    ch = bytes[offset++];</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                char1(ch);</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;            }
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset &lt; end) {</b>
<b class="nc">&nbsp;                    ch = bytes[offset++];</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                }
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset &lt; end) {</b>
<b class="nc">&nbsp;                ch = bytes[offset++];</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            ch = bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            ch = bytes[offset];</b>
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    this.ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
<b class="nc">&nbsp;                ch = bytes[offset];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset++;</b>
&nbsp;        }
<b class="nc">&nbsp;        this.ch = (char) ch;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void skipLineComment() {
&nbsp;        while (true) {
<b class="nc">&nbsp;            if (ch == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;                offset++;</b>
&nbsp;
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                ch = (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                        return;
&nbsp;                    }
<b class="nc">&nbsp;                    ch = (char) bytes[offset];</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;                return;
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String readString() {
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            char quote = this.ch;</b>
&nbsp;            int valueLength;
<b class="nc">&nbsp;            int offset = this.offset;</b>
<b class="nc">&nbsp;            int start = offset;</b>
<b class="nc">&nbsp;            boolean ascii = true;</b>
<b class="nc">&nbsp;            valueEscape = false;</b>
&nbsp;
&nbsp;            _for:
<b class="nc">&nbsp;            for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;invalid escape character EOI&quot;);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                int c = bytes[offset];</b>
<b class="nc">&nbsp;                if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                    valueEscape = true;</b>
<b class="nc">&nbsp;                    c = bytes[++offset];</b>
<b class="nc">&nbsp;                    switch (c) {</b>
&nbsp;                        case &#39;u&#39;: {
<b class="nc">&nbsp;                            offset += 4;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case &#39;x&#39;: {
<b class="nc">&nbsp;                            offset += 2;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        default:
&nbsp;                            break;
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                    if (c == quote) {</b>
<b class="nc">&nbsp;                        valueLength = i;</b>
<b class="nc">&nbsp;                        break _for;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    offset++;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                        case 12:
&nbsp;                        case 13: {
&nbsp;                            /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                            offset += 2;</b>
<b class="nc">&nbsp;                            ascii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        case 14: {
<b class="nc">&nbsp;                            offset += 3;</b>
<b class="nc">&nbsp;                            ascii = false;</b>
<b class="nc">&nbsp;                            break;</b>
&nbsp;                        }
&nbsp;                        default: {
&nbsp;                            /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                            if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                                offset += 4;</b>
<b class="nc">&nbsp;                                i++;</b>
<b class="nc">&nbsp;                                ascii = false;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;            String str;
<b class="nc">&nbsp;            if (valueEscape) {</b>
<b class="nc">&nbsp;                char[] chars = new char[valueLength];</b>
<b class="nc">&nbsp;                offset = start;</b>
<b class="nc">&nbsp;                for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;                    int c = bytes[offset];</b>
<b class="nc">&nbsp;                    if (c == &#39;\\&#39;) {</b>
<b class="nc">&nbsp;                        c = bytes[++offset];</b>
<b class="nc">&nbsp;                        switch (c) {</b>
&nbsp;                            case &#39;u&#39;: {
<b class="nc">&nbsp;                                int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                                int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                                int c3 = bytes[++offset];</b>
<b class="nc">&nbsp;                                int c4 = bytes[++offset];</b>
<b class="nc">&nbsp;                                c = char4(c1, c2, c3, c4);</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            case &#39;x&#39;: {
<b class="nc">&nbsp;                                int c1 = bytes[++offset];</b>
<b class="nc">&nbsp;                                int c2 = bytes[++offset];</b>
<b class="nc">&nbsp;                                c = char2(c1, c2);</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            }
&nbsp;                            case &#39;\\&#39;:
&nbsp;                            case &#39;&quot;&#39;:
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            case &#39;b&#39;:
<b class="nc">&nbsp;                                c = &#39;\b&#39;;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            case &#39;t&#39;:
<b class="nc">&nbsp;                                c = &#39;\t&#39;;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            case &#39;n&#39;:
<b class="nc">&nbsp;                                c = &#39;\n&#39;;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            case &#39;f&#39;:
<b class="nc">&nbsp;                                c = &#39;\f&#39;;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            case &#39;r&#39;:
<b class="nc">&nbsp;                                c = &#39;\r&#39;;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            default:
<b class="nc">&nbsp;                                c = char1(c);</b>
&nbsp;                                break;
&nbsp;                        }
<b class="nc">&nbsp;                        chars[i] = (char) c;</b>
<b class="nc">&nbsp;                        offset++;</b>
<b class="nc">&nbsp;                    } else if (c == &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        if (c &gt;= 0) {</b>
<b class="nc">&nbsp;                            chars[i] = (char) c;</b>
<b class="nc">&nbsp;                            offset++;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            switch ((c &amp; 0xFF) &gt;&gt; 4) {</b>
&nbsp;                                case 12:
&nbsp;                                case 13: {
&nbsp;                                    /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                                    offset++;</b>
<b class="nc">&nbsp;                                    int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    chars[i] = (char) (</b>
&nbsp;                                            ((c &amp; 0x1F) &lt;&lt; 6) | (c2 &amp; 0x3F));
<b class="nc">&nbsp;                                    break;</b>
&nbsp;                                }
&nbsp;                                case 14: {
<b class="nc">&nbsp;                                    offset++;</b>
<b class="nc">&nbsp;                                    int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                                    chars[i] = (char)</b>
&nbsp;                                            (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                                    ((c2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                                    ((c3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                                    break;</b>
&nbsp;                                }
&nbsp;                                default: {
&nbsp;                                    /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                                    if ((c &gt;&gt; 3) == -2) {</b>
<b class="nc">&nbsp;                                        offset++;</b>
<b class="nc">&nbsp;                                        int c2 = bytes[offset++];</b>
<b class="nc">&nbsp;                                        int c3 = bytes[offset++];</b>
<b class="nc">&nbsp;                                        int c4 = bytes[offset++];</b>
<b class="nc">&nbsp;                                        int uc = ((c &lt;&lt; 18) ^</b>
&nbsp;                                                (c2 &lt;&lt; 12) ^
&nbsp;                                                (c3 &lt;&lt; 6) ^
&nbsp;                                                (c4 ^ (((byte) 0xF0 &lt;&lt; 18) ^
&nbsp;                                                        ((byte) 0x80 &lt;&lt; 12) ^
&nbsp;                                                        ((byte) 0x80 &lt;&lt; 6) ^
&nbsp;                                                        ((byte) 0x80 &lt;&lt; 0))));
&nbsp;
<b class="nc">&nbsp;                                        if (((c2 &amp; 0xc0) != 0x80 || (c3 &amp; 0xc0) != 0x80 || (c4 &amp; 0xc0) != 0x80) // isMalformed4</b>
&nbsp;                                                ||
&nbsp;                                                // shortest form check
&nbsp;                                                !(uc &gt;= 0x010000 &amp;&amp; uc &lt; 0X10FFFF + 1) // !Character.isSupplementaryCodePoint(uc)
&nbsp;                                        ) {
<b class="nc">&nbsp;                                            throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                                        } else {
<b class="nc">&nbsp;                                            chars[i++] = (char) ((uc &gt;&gt;&gt; 10) + (&#39;\uD800&#39; - (0x010000 &gt;&gt;&gt; 10))); // Character.highSurrogate(uc);</b>
<b class="nc">&nbsp;                                            chars[i] = (char) ((uc &amp; 0x3ff) + &#39;\uDC00&#39;); // Character.lowSurrogate(uc);</b>
&nbsp;                                        }
<b class="nc">&nbsp;                                        break;</b>
&nbsp;                                    }
&nbsp;
<b class="nc">&nbsp;                                    throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;                                }
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                str = new String(chars);</b>
<b class="nc">&nbsp;            } else if (ascii) {</b>
<b class="nc">&nbsp;                int strlen = offset - this.offset;</b>
<b class="nc">&nbsp;                if (strlen == 1) {</b>
<b class="nc">&nbsp;                    str = TypeUtils.toString((char) (bytes[this.offset] &amp; 0xff));</b>
<b class="nc">&nbsp;                } else if (strlen == 2) {</b>
<b class="nc">&nbsp;                    str = TypeUtils.toString(</b>
&nbsp;                            (char) (bytes[this.offset] &amp; 0xff),
&nbsp;                            (char) (bytes[this.offset + 1] &amp; 0xff)
&nbsp;                    );
<b class="nc">&nbsp;                } else if (STRING_CREATOR_JDK8 != null) {</b>
<b class="nc">&nbsp;                    char[] chars = new char[strlen];</b>
<b class="nc">&nbsp;                    for (int i = 0; i &lt; strlen; ++i) {</b>
<b class="nc">&nbsp;                        chars[i] = (char) bytes[this.offset + i];</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    str = STRING_CREATOR_JDK8.apply(chars, Boolean.TRUE);</b>
<b class="nc">&nbsp;                } else if (STRING_CREATOR_JDK11 != null) {</b>
<b class="nc">&nbsp;                    byte[] bytes = Arrays.copyOfRange(this.bytes, this.offset, offset);</b>
<b class="nc">&nbsp;                    str = STRING_CREATOR_JDK11.apply(bytes, LATIN1);</b>
<b class="nc">&nbsp;                } else {</b>
<b class="nc">&nbsp;                    str = new String(bytes, this.offset, offset - this.offset, StandardCharsets.ISO_8859_1);</b>
&nbsp;                }
<b class="nc">&nbsp;            } else {</b>
<b class="nc">&nbsp;                str = new String(bytes, this.offset, offset - this.offset, StandardCharsets.UTF_8);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if ((context.features &amp; Feature.TrimString.mask) != 0) {</b>
<b class="nc">&nbsp;                str = str.trim();</b>
&nbsp;            }
&nbsp;
&nbsp;            clear:
<b class="nc">&nbsp;            if (++offset != end) {</b>
<b class="nc">&nbsp;                byte e = bytes[offset++];</b>
<b class="nc">&nbsp;                while (e &lt;= &#39; &#39; &amp;&amp; (1L &lt;&lt; e &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        break clear;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        e = bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (comma = e == &#39;,&#39;) {</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        e = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        e = bytes[offset++];</b>
<b class="nc">&nbsp;                        while (e &lt;= &#39; &#39; &amp;&amp; (1L &lt;&lt; e &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                            if (offset == end) {</b>
<b class="nc">&nbsp;                                e = EOI;</b>
<b class="nc">&nbsp;                                break;</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                e = bytes[offset++];</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                this.ch = (char) e;</b>
<b class="nc">&nbsp;                this.offset = offset;</b>
<b class="nc">&nbsp;                return str;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            this.comma = false;</b>
<b class="nc">&nbsp;            this.offset = offset;</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        switch (ch) {</b>
&nbsp;            case &#39;[&#39;:
<b class="nc">&nbsp;                return toString(</b>
<b class="nc">&nbsp;                        readArray());</b>
&nbsp;            case &#39;{&#39;:
<b class="nc">&nbsp;                return toString(</b>
<b class="nc">&nbsp;                        readObject());</b>
&nbsp;            case &#39;-&#39;:
&nbsp;            case &#39;+&#39;:
&nbsp;            case &#39;0&#39;:
&nbsp;            case &#39;1&#39;:
&nbsp;            case &#39;2&#39;:
&nbsp;            case &#39;3&#39;:
&nbsp;            case &#39;4&#39;:
&nbsp;            case &#39;5&#39;:
&nbsp;            case &#39;6&#39;:
&nbsp;            case &#39;7&#39;:
&nbsp;            case &#39;8&#39;:
&nbsp;            case &#39;9&#39;:
<b class="nc">&nbsp;                readNumber0();</b>
<b class="nc">&nbsp;                Number number = getNumber();</b>
<b class="nc">&nbsp;                return number.toString();</b>
&nbsp;            case &#39;t&#39;:
&nbsp;            case &#39;f&#39;:
<b class="nc">&nbsp;                boolValue = readBoolValue();</b>
<b class="nc">&nbsp;                return boolValue ? &quot;true&quot; : &quot;false&quot;;</b>
&nbsp;            case &#39;n&#39;: {
<b class="nc">&nbsp;                readNull();</b>
<b class="nc">&nbsp;                return null;</b>
&nbsp;            }
&nbsp;            default:
<b class="nc">&nbsp;                throw new JSONException(&quot;TODO : &quot; + ch);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readNumber0() {
<b class="nc">&nbsp;        this.wasNull = false;</b>
<b class="nc">&nbsp;        this.mag0 = 0;</b>
<b class="nc">&nbsp;        this.mag1 = 0;</b>
<b class="nc">&nbsp;        this.mag2 = 0;</b>
<b class="nc">&nbsp;        this.mag3 = 0;</b>
<b class="nc">&nbsp;        this.negative = false;</b>
<b class="nc">&nbsp;        this.exponent = 0;</b>
<b class="nc">&nbsp;        this.scale = 0;</b>
<b class="nc">&nbsp;        int firstOffset = offset;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == quote) {</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;                nextIfMatch(&#39;,&#39;);</b>
<b class="nc">&nbsp;                wasNull = true;</b>
&nbsp;                return;
&nbsp;            }
<b class="nc">&nbsp;        } else if (ch == &#39;,&#39; || ch == &#39;\r&#39; || ch == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;            wasNull = true;</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_NULL;</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final int start = offset;</b>
&nbsp;
&nbsp;        final int limit, multmin;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            limit = Integer.MIN_VALUE;</b>
<b class="nc">&nbsp;            multmin = -214748364; // limit / 10;</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        } else {
<b class="nc">&nbsp;            if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
<b class="nc">&nbsp;            limit = -2147483647; // -Integer.MAX_VALUE;</b>
<b class="nc">&nbsp;            multmin = -214748364; // limit / 10;</b>
&nbsp;        }
&nbsp;
&nbsp;        // if (result &lt; limit + digit) {
<b class="nc">&nbsp;        boolean intOverflow = false;</b>
<b class="nc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!intOverflow) {</b>
<b class="nc">&nbsp;                int digit = ch - &#39;0&#39;;</b>
<b class="nc">&nbsp;                mag3 *= 10;</b>
<b class="nc">&nbsp;                if (mag3 &lt; multmin</b>
&nbsp;                        || mag3 &lt; limit + digit) {
<b class="nc">&nbsp;                    intOverflow = true;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    mag3 -= digit;</b>
<b class="nc">&nbsp;                    if (mag3 &lt; multmin) {</b>
<b class="nc">&nbsp;                        intOverflow = true;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                offset++;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                if (!intOverflow) {</b>
<b class="nc">&nbsp;                    int digit = ch - &#39;0&#39;;</b>
<b class="nc">&nbsp;                    mag3 *= 10;</b>
<b class="nc">&nbsp;                    if (mag3 &lt; multmin</b>
&nbsp;                            || mag3 &lt; limit + digit) {
<b class="nc">&nbsp;                        intOverflow = true;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        mag3 -= digit;</b>
<b class="nc">&nbsp;                        if (mag3 &lt; multmin) {</b>
<b class="nc">&nbsp;                            intOverflow = true;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                this.scale++;</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    offset++;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (intOverflow) {</b>
<b class="nc">&nbsp;            int numStart = negative ? start : start - 1;</b>
<b class="nc">&nbsp;            int numDigits = scale &gt; 0 ? offset - 2 - numStart : offset - 1 - numStart;</b>
<b class="nc">&nbsp;            if (numDigits &gt; 38) {</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_BIG_DEC;</b>
<b class="nc">&nbsp;                stringValue = new String(bytes, numStart, offset - 1 - numStart);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                bigInt(bytes, numStart, offset - 1);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else {</b>
<b class="nc">&nbsp;            mag3 = -mag3;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="nc">&nbsp;            boolean negativeExp = false;</b>
<b class="nc">&nbsp;            int expValue = 0;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="nc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == start) {</b>
<b class="nc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    wasNull = true;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_NULL;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    boolValue = true;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    boolValue = false;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
<b class="nc">&nbsp;                        offset++;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                this.complex = readObject();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_OBJECT;</b>
&nbsp;                return;
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                this.complex = readArray();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_ARRAY;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (ch != quote) {</b>
<b class="nc">&nbsp;                this.offset = firstOffset;</b>
<b class="nc">&nbsp;                this.ch = quote;</b>
<b class="nc">&nbsp;                readString0();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_STRING;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;L&#39; || ch == &#39;F&#39; || ch == &#39;D&#39; || ch == &#39;B&#39; || ch == &#39;S&#39;) {</b>
<b class="nc">&nbsp;            switch (ch) {</b>
&nbsp;                case &#39;B&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT8;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;S&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT16;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;L&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_INT64;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;F&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_FLOAT;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &#39;D&#39;:
<b class="nc">&nbsp;                    valueType = JSON_TYPE_DOUBLE;</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                this.ch = (char) bytes[this.offset++];</b>
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readNumber(ValueConsumer consumer, boolean quoted) {
<b class="nc">&nbsp;        this.wasNull = false;</b>
<b class="nc">&nbsp;        this.boolValue = false;</b>
<b class="nc">&nbsp;        this.mag0 = 0;</b>
<b class="nc">&nbsp;        this.mag1 = 0;</b>
<b class="nc">&nbsp;        this.mag2 = 0;</b>
<b class="nc">&nbsp;        this.mag3 = 0;</b>
<b class="nc">&nbsp;        this.negative = false;</b>
<b class="nc">&nbsp;        this.exponent = 0;</b>
<b class="nc">&nbsp;        this.scale = 0;</b>
&nbsp;
<b class="nc">&nbsp;        char quote = &#39;\0&#39;;</b>
<b class="nc">&nbsp;        if (ch == &#39;&quot;&#39; || ch == &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            quote = ch;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
<b class="nc">&nbsp;        final int start = offset;</b>
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;            negative = true;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        boolean intOverflow = false;</b>
<b class="nc">&nbsp;        valueType = JSON_TYPE_INT;</b>
<b class="nc">&nbsp;        while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;            if (!intOverflow) {</b>
<b class="nc">&nbsp;                int mag3_10 = mag3 * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                if (mag3_10 &lt; mag3) {</b>
<b class="nc">&nbsp;                    intOverflow = true;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    mag3 = mag3_10;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;.&#39;) {</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                if (!intOverflow) {</b>
<b class="nc">&nbsp;                    int mag3_10 = mag3 * 10 + (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                    if (mag3_10 &lt; mag3) {</b>
<b class="nc">&nbsp;                        intOverflow = true;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        mag3 = mag3_10;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                this.scale++;</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (intOverflow) {</b>
<b class="nc">&nbsp;            int numStart = negative ? start : start - 1;</b>
<b class="nc">&nbsp;            bigInt(bytes, numStart, offset - 1);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch == &#39;e&#39; || ch == &#39;E&#39;) {</b>
<b class="nc">&nbsp;            boolean negativeExp = false;</b>
<b class="nc">&nbsp;            int expValue = 0;</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            if (ch == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                negativeExp = true;</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            } else if (ch == &#39;+&#39;) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) {</b>
<b class="nc">&nbsp;                int byteVal = (ch - &#39;0&#39;);</b>
<b class="nc">&nbsp;                expValue = expValue * 10 + byteVal;</b>
<b class="nc">&nbsp;                if (expValue &gt; MAX_EXP) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;too large exp value : &quot; + expValue);</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            if (negativeExp) {</b>
<b class="nc">&nbsp;                expValue = -expValue;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            this.exponent = (short) expValue;</b>
<b class="nc">&nbsp;            valueType = JSON_TYPE_DEC;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int len = offset - start;</b>
&nbsp;
<b class="nc">&nbsp;        if (offset == start) {</b>
<b class="nc">&nbsp;            if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;u&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    wasNull = true;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_NULL;</b>
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;t&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;r&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;u&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    boolValue = true;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;f&#39;) {</b>
<b class="nc">&nbsp;                if (bytes[offset++] == &#39;a&#39;</b>
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;l&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;s&#39;
&nbsp;                        &amp;&amp; bytes[offset++] == &#39;e&#39;
&nbsp;                ) {
<b class="nc">&nbsp;                    boolValue = false;</b>
<b class="nc">&nbsp;                    valueType = JSON_TYPE_BOOL;</b>
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
<b class="nc">&nbsp;            } else if (ch == &#39;{&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                this.complex = readObject();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_OBJECT;</b>
&nbsp;                return;
<b class="nc">&nbsp;            } else if (ch == &#39;[&#39; &amp;&amp; quote == 0) {</b>
<b class="nc">&nbsp;                this.complex = readArray();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_ARRAY;</b>
&nbsp;                return;
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (quote != 0) {</b>
<b class="nc">&nbsp;            if (ch != quote) {</b>
<b class="nc">&nbsp;                this.offset -= 1;</b>
<b class="nc">&nbsp;                this.ch = quote;</b>
<b class="nc">&nbsp;                readString0();</b>
<b class="nc">&nbsp;                valueType = JSON_TYPE_STRING;</b>
&nbsp;                return;
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.ch = (char) bytes[this.offset++];</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (!quoted &amp;&amp; (valueType == JSON_TYPE_INT || valueType == JSON_TYPE_DEC)) {</b>
<b class="nc">&nbsp;            consumer.accept(bytes, start - 1, len);</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (valueType == JSON_TYPE_INT) {</b>
<b class="nc">&nbsp;            if (mag1 == 0 &amp;&amp; mag1 == 0 &amp;&amp; mag2 == 0 &amp;&amp; mag3 != Integer.MIN_VALUE) {</b>
<b class="nc">&nbsp;                int intValue = negative ? -mag3 : mag3;</b>
<b class="nc">&nbsp;                consumer.accept(intValue);</b>
&nbsp;                return;
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (mag1 == 0 &amp;&amp; mag1 == 0) {</b>
<b class="nc">&nbsp;                long v3 = mag3 &amp; LONG_MASK;</b>
<b class="nc">&nbsp;                long v2 = mag2 &amp; LONG_MASK;</b>
&nbsp;
<b class="nc">&nbsp;                if (v2 &gt;= Integer.MIN_VALUE &amp;&amp; v2 &lt;= Integer.MAX_VALUE) {</b>
<b class="nc">&nbsp;                    long v23 = (v2 &lt;&lt; 32) + (v3);</b>
<b class="nc">&nbsp;                    long longValue = negative ? -v23 : v23;</b>
<b class="nc">&nbsp;                    consumer.accept(longValue);</b>
&nbsp;                    return;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Number number = getNumber();</b>
<b class="nc">&nbsp;        consumer.accept(number);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean readIfNull() {
<b class="nc">&nbsp;        if (ch == &#39;n&#39;</b>
&nbsp;                &amp;&amp; bytes[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; bytes[offset + 2] == &#39;l&#39;) {
<b class="nc">&nbsp;            if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset + 3];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset += 4;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            ch = offset == end ? EOI : (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean isNull() {
<b class="nc">&nbsp;        return ch == &#39;n&#39; &amp;&amp; offset &lt; end &amp;&amp; bytes[offset] == &#39;u&#39;;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final Date readNullOrNewDate() {
<b class="nc">&nbsp;        Date date = null;</b>
<b class="nc">&nbsp;        if (offset + 2 &lt; end</b>
&nbsp;                &amp;&amp; bytes[offset] == &#39;u&#39;
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; bytes[offset + 2] == &#39;l&#39;) {
<b class="nc">&nbsp;            if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset + 3];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset += 4;</b>
<b class="nc">&nbsp;        } else if (offset + 1 &lt; end</b>
&nbsp;                &amp;&amp; bytes[offset] == &#39;e&#39;
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;w&#39;) {
<b class="nc">&nbsp;            if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset + 2];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset += 3;</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (offset + 4 &lt; end</b>
&nbsp;                    &amp;&amp; ch == &#39;D&#39;
&nbsp;                    &amp;&amp; bytes[offset] == &#39;a&#39;
&nbsp;                    &amp;&amp; bytes[offset + 1] == &#39;t&#39;
&nbsp;                    &amp;&amp; bytes[offset + 2] == &#39;e&#39;) {
<b class="nc">&nbsp;                if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset + 3];</b>
&nbsp;                }
<b class="nc">&nbsp;                offset += 4;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if (ch != &#39;(&#39; || offset &gt;= end) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            long millis = readInt64Value();</b>
&nbsp;
<b class="nc">&nbsp;            if (ch != &#39;)&#39;) {</b>
<b class="nc">&nbsp;                throw new JSONException(&quot;json syntax error, not match new Date&quot; + offset);</b>
&nbsp;            }
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            date = new Date(millis);</b>
<b class="nc">&nbsp;        } else {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;json syntax error, not match null or new Date&quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            ch = offset == end ? EOI : (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return date;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfNull() {
<b class="nc">&nbsp;        if (ch == &#39;n&#39; &amp;&amp; offset + 2 &lt; end &amp;&amp; bytes[offset] == &#39;u&#39;) {</b>
<b class="nc">&nbsp;            this.readNull();</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void readNull() {
<b class="nc">&nbsp;        if (bytes[offset] == &#39;u&#39;</b>
&nbsp;                &amp;&amp; bytes[offset + 1] == &#39;l&#39;
&nbsp;                &amp;&amp; bytes[offset + 2] == &#39;l&#39;) {
<b class="nc">&nbsp;            if (offset + 3 == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset + 3];</b>
&nbsp;            }
<b class="nc">&nbsp;            offset += 4;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            throw new JSONException(&quot;json syntax error, not match null&quot; + offset);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final int getStringLength() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        char quote = ch;</b>
&nbsp;
<b class="nc">&nbsp;        int len = 0;</b>
<b class="nc">&nbsp;        for (int i = offset; i &lt; end; ++i, ++len) {</b>
<b class="nc">&nbsp;            if (bytes[i] == quote) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return len;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final ZonedDateTime readZonedDateTimeX(int len) {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (len &lt; 19) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        ZonedDateTime zdt = DateUtils.parseZonedDateTime(bytes, offset, len, context.zoneId);</b>
<b class="nc">&nbsp;        if (zdt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += (len + 1);</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return zdt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate8() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="nc">&nbsp;            ldt = DateUtils.parseLocalDate8(bytes, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        offset += 9;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate9() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="nc">&nbsp;            ldt = DateUtils.parseLocalDate9(bytes, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        offset += 10;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final LocalDate readLocalDate10() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        LocalDate ldt;
&nbsp;        try {
<b class="nc">&nbsp;            ldt = DateUtils.parseLocalDate10(bytes, offset);</b>
<b class="nc">&nbsp;        } catch (DateTimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;read date error&quot;), ex);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 11;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDate readLocalDate11() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localDate only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDate ldt = DateUtils.parseLocalDate11(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 11;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime17() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime17(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 18;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime5() {
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime5(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 6;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime8() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime8(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 9;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime10() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime10(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 11;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime11() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime11(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 12;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime12() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime12(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 13;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalTime readLocalTime18() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;localTime only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalTime time = DateUtils.parseLocalTime18(bytes, offset);</b>
<b class="nc">&nbsp;        if (time == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 19;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return time;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime12() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime12(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 13;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime14() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime14(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 15;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime16() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime16(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 17;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime18() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime18(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 19;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime19() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime19(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 20;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTime20() {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTime20(bytes, offset);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 21;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final long readMillis19() {
<b class="nc">&nbsp;        char quote = ch;</b>
<b class="nc">&nbsp;        if (quote != &#39;&quot;&#39; &amp;&amp; quote != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset + 18 &gt;= end) {</b>
<b class="nc">&nbsp;            wasNull = true;</b>
<b class="nc">&nbsp;            return 0;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        long millis = DateUtils.parseMillis19(bytes, offset, context.zoneId);</b>
&nbsp;
<b class="nc">&nbsp;        if (bytes[offset + 19] != quote) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;illegal date input&quot;));</b>
&nbsp;        }
<b class="nc">&nbsp;        offset += 20;</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return millis;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected final LocalDateTime readLocalDateTimeX(int len) {
<b class="nc">&nbsp;        if (!isString()) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;date only support string input&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        LocalDateTime ldt = DateUtils.parseLocalDateTimeX(bytes, offset, len);</b>
<b class="nc">&nbsp;        if (ldt == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += (len + 1);</b>
<b class="nc">&nbsp;        next();</b>
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        return ldt;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final UUID readUUID() {
<b class="nc">&nbsp;        if (ch == &#39;n&#39;) {</b>
<b class="nc">&nbsp;            readNull();</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch != &#39;&quot;&#39; &amp;&amp; ch != &#39;\&#39;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(info(&quot;syntax error, can not read uuid&quot;));</b>
&nbsp;        }
<b class="nc">&nbsp;        final char quote = ch;</b>
&nbsp;
<b class="nc">&nbsp;        if (offset + 32 &lt; bytes.length &amp;&amp; bytes[offset + 32] == quote) {</b>
<b class="nc">&nbsp;            long msb1 = TypeUtils.uuidNibbles(bytes, offset + 0);</b>
<b class="nc">&nbsp;            long msb2 = TypeUtils.uuidNibbles(bytes, offset + 4);</b>
<b class="nc">&nbsp;            long msb3 = TypeUtils.uuidNibbles(bytes, offset + 8);</b>
<b class="nc">&nbsp;            long msb4 = TypeUtils.uuidNibbles(bytes, offset + 12);</b>
<b class="nc">&nbsp;            long lsb1 = TypeUtils.uuidNibbles(bytes, offset + 16);</b>
<b class="nc">&nbsp;            long lsb2 = TypeUtils.uuidNibbles(bytes, offset + 20);</b>
<b class="nc">&nbsp;            long lsb3 = TypeUtils.uuidNibbles(bytes, offset + 24);</b>
<b class="nc">&nbsp;            long lsb4 = TypeUtils.uuidNibbles(bytes, offset + 28);</b>
<b class="nc">&nbsp;            if ((msb1 | msb2 | msb3 | msb4 | lsb1 | lsb2 | lsb3 | lsb4) &gt;= 0) {</b>
<b class="nc">&nbsp;                offset += 33;</b>
<b class="nc">&nbsp;                if (offset == end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;                    next();</b>
&nbsp;                }
<b class="nc">&nbsp;                return new UUID(</b>
&nbsp;                        msb1 &lt;&lt; 48 | msb2 &lt;&lt; 32 | msb3 &lt;&lt; 16 | msb4,
&nbsp;                        lsb1 &lt;&lt; 48 | lsb2 &lt;&lt; 32 | lsb3 &lt;&lt; 16 | lsb4);
&nbsp;            }
<b class="nc">&nbsp;        } else if (offset + 36 &lt; bytes.length &amp;&amp; bytes[offset + 36] == quote) {</b>
<b class="nc">&nbsp;            char ch1 = (char) bytes[offset + 8];</b>
<b class="nc">&nbsp;            char ch2 = (char) bytes[offset + 13];</b>
<b class="nc">&nbsp;            char ch3 = (char) bytes[offset + 18];</b>
<b class="nc">&nbsp;            char ch4 = (char) bytes[offset + 23];</b>
<b class="nc">&nbsp;            if (ch1 == &#39;-&#39; &amp;&amp; ch2 == &#39;-&#39; &amp;&amp; ch3 == &#39;-&#39; &amp;&amp; ch4 == &#39;-&#39;) {</b>
<b class="nc">&nbsp;                long msb1 = TypeUtils.uuidNibbles(bytes, offset + 0);</b>
<b class="nc">&nbsp;                long msb2 = TypeUtils.uuidNibbles(bytes, offset + 4);</b>
<b class="nc">&nbsp;                long msb3 = TypeUtils.uuidNibbles(bytes, offset + 9);</b>
<b class="nc">&nbsp;                long msb4 = TypeUtils.uuidNibbles(bytes, offset + 14);</b>
<b class="nc">&nbsp;                long lsb1 = TypeUtils.uuidNibbles(bytes, offset + 19);</b>
<b class="nc">&nbsp;                long lsb2 = TypeUtils.uuidNibbles(bytes, offset + 24);</b>
<b class="nc">&nbsp;                long lsb3 = TypeUtils.uuidNibbles(bytes, offset + 28);</b>
<b class="nc">&nbsp;                long lsb4 = TypeUtils.uuidNibbles(bytes, offset + 32);</b>
<b class="nc">&nbsp;                if ((msb1 | msb2 | msb3 | msb4 | lsb1 | lsb2 | lsb3 | lsb4) &gt;= 0) {</b>
<b class="nc">&nbsp;                    offset += 37;</b>
<b class="nc">&nbsp;                    if (offset == end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                            ch = EOI;</b>
&nbsp;                        } else {
<b class="nc">&nbsp;                            ch = (char) bytes[offset++];</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;                        next();</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    return new UUID(</b>
&nbsp;                            msb1 &lt;&lt; 48 | msb2 &lt;&lt; 32 | msb3 &lt;&lt; 16 | msb4,
&nbsp;                            lsb1 &lt;&lt; 48 | lsb2 &lt;&lt; 32 | lsb3 &lt;&lt; 16 | lsb4);
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        String str = readString();</b>
<b class="nc">&nbsp;        return UUID.fromString(str);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String readPattern() {
<b class="nc">&nbsp;        if (ch != &#39;/&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal pattern&quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = this.offset;</b>
<b class="nc">&nbsp;        for (int i = 0; ; ++i) {</b>
<b class="nc">&nbsp;            char c = (char) bytes[offset];</b>
<b class="nc">&nbsp;            if (c == &#39;/&#39;) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        String str = new String(bytes, this.offset, offset - this.offset, StandardCharsets.UTF_8);</b>
&nbsp;
<b class="nc">&nbsp;        if (offset + 1 == end) {</b>
<b class="nc">&nbsp;            this.offset = end;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return str;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int b = (char) bytes[++offset];</b>
<b class="nc">&nbsp;        while (b &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; b) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            b = (char) bytes[++offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (b == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
&nbsp;
&nbsp;            // inline next
<b class="nc">&nbsp;            ch = (char) bytes[this.offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[this.offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        } else {
<b class="nc">&nbsp;            this.offset = offset + 1;</b>
<b class="nc">&nbsp;            this.ch = (char) b;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return str;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean nextIfNullOrEmptyString() {
<b class="nc">&nbsp;        final char first = this.ch;</b>
<b class="nc">&nbsp;        if (first == &#39;n&#39; &amp;&amp; offset + 2 &lt; end &amp;&amp; bytes[offset] == &#39;u&#39;) {</b>
<b class="nc">&nbsp;            this.readNull();</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((first != &#39;&quot;&#39; &amp;&amp; first != &#39;\&#39;&#39;) || offset &gt;= end || this.bytes[offset] != first) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="nc">&nbsp;        offset++;</b>
<b class="nc">&nbsp;        this.ch = offset == end ? EOI : (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;
<b class="nc">&nbsp;            while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                    ch = EOI;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    ch = (char) bytes[offset++];</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset &gt;= end) {</b>
<b class="nc">&nbsp;            ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int c = bytes[offset];</b>
<b class="nc">&nbsp;        while (c &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; c) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                return true;</b>
&nbsp;            }
<b class="nc">&nbsp;            c = bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (c &gt;= 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            ch = (char) c;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        c &amp;= 0xFF;</b>
<b class="nc">&nbsp;        switch (c &gt;&gt; 4) {</b>
&nbsp;            case 12:
&nbsp;            case 13: {
&nbsp;                /* 110x xxxx   10xx xxxx*/
<b class="nc">&nbsp;                offset += 2;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if ((char2 &amp; 0xC0) != 0x80) {</b>
<b class="nc">&nbsp;                    throw new JSONException(</b>
&nbsp;                            &quot;malformed input around byte &quot; + offset);
&nbsp;                }
<b class="nc">&nbsp;                ch = (char) (((c &amp; 0x1F) &lt;&lt; 6) | (char2 &amp; 0x3F));</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            case 14: {
&nbsp;                /* 1110 xxxx  10xx xxxx  10xx xxxx */
<b class="nc">&nbsp;                offset += 3;</b>
<b class="nc">&nbsp;                int char2 = bytes[offset - 2];</b>
<b class="nc">&nbsp;                int char3 = bytes[offset - 1];</b>
<b class="nc">&nbsp;                if (((char2 &amp; 0xC0) != 0x80) || ((char3 &amp; 0xC0) != 0x80)) {</b>
<b class="nc">&nbsp;                    throw new JSONException(&quot;malformed input around byte &quot; + (offset - 1));</b>
&nbsp;                }
<b class="nc">&nbsp;                ch = (char)</b>
&nbsp;                        (((c &amp; 0x0F) &lt;&lt; 12) |
&nbsp;                                ((char2 &amp; 0x3F) &lt;&lt; 6) |
&nbsp;                                ((char3 &amp; 0x3F) &lt;&lt; 0));
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;            default:
&nbsp;                /* 10xx xxxx,  1111 xxxx */
<b class="nc">&nbsp;                throw new JSONException(&quot;malformed input around byte &quot; + offset);</b>
&nbsp;        }
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset2 = offset + 2;</b>
<b class="nc">&nbsp;        if (offset2 &gt; end || bytes[offset] != c1 || bytes[offset + 1] != c2) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset2 == end) {</b>
<b class="nc">&nbsp;            offset = offset2;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset2;</b>
<b class="nc">&nbsp;        char ch = (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (offset == offset2) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset3 = offset + 3;</b>
<b class="nc">&nbsp;        if (offset3 &gt; end</b>
&nbsp;                || bytes[offset] != c1
&nbsp;                || bytes[offset + 1] != c2
&nbsp;                || bytes[offset + 2] != c3) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset3 == end) {</b>
<b class="nc">&nbsp;            offset = offset3;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset3;</b>
<b class="nc">&nbsp;        char ch = (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (offset == offset3 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3, char c4) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset4 = offset + 4;</b>
<b class="nc">&nbsp;        if (offset4 &gt; end</b>
&nbsp;                || bytes[offset] != c1
&nbsp;                || bytes[offset + 1] != c2
&nbsp;                || bytes[offset + 2] != c3
&nbsp;                || bytes[offset + 3] != c4) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset4 == end) {</b>
<b class="nc">&nbsp;            offset = offset4;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset4;</b>
<b class="nc">&nbsp;        char ch = (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (offset == offset4 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean nextIfMatchIdent(char c0, char c1, char c2, char c3, char c4, char c5) {
<b class="nc">&nbsp;        if (ch != c0) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset5 = offset + 5;</b>
<b class="nc">&nbsp;        if (offset5 &gt; end</b>
&nbsp;                || bytes[offset] != c1
&nbsp;                || bytes[offset + 1] != c2
&nbsp;                || bytes[offset + 2] != c3
&nbsp;                || bytes[offset + 3] != c4
&nbsp;                || bytes[offset + 4] != c5) {
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset5 == end) {</b>
<b class="nc">&nbsp;            offset = offset5;</b>
<b class="nc">&nbsp;            this.ch = EOI;</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int offset = offset5;</b>
<b class="nc">&nbsp;        char ch = (char) bytes[offset];</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset == end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
<b class="nc">&nbsp;        if (offset == offset5 &amp;&amp; ch != &#39;(&#39; &amp;&amp; ch != &#39;[&#39; &amp;&amp; ch != &#39;]&#39; &amp;&amp; ch != &#39;)&#39; &amp;&amp; ch != &#39;:&#39; &amp;&amp; ch != &#39;,&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.offset = offset + 1;</b>
<b class="nc">&nbsp;        this.ch = ch;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final byte[] readHex() {
<b class="nc">&nbsp;        if (ch == &#39;x&#39;) {</b>
<b class="nc">&nbsp;            next();</b>
&nbsp;        }
<b class="nc">&nbsp;        final char quote = ch;</b>
<b class="nc">&nbsp;        if (quote != &#39;\&#39;&#39; &amp;&amp; quote != &#39;&quot;&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal state. &quot; + ch);</b>
&nbsp;        }
<b class="nc">&nbsp;        int start = offset;</b>
<b class="nc">&nbsp;        offset++;</b>
&nbsp;
&nbsp;        for (; ; ) {
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;            if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;F&#39;)) {</b>
&nbsp;                // continue;
<b class="nc">&nbsp;            } else if (ch == quote) {</b>
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                throw new JSONException(&quot;illegal state. &quot; + ch);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int len = offset - start - 2;</b>
<b class="nc">&nbsp;        if (len == 0) {</b>
<b class="nc">&nbsp;            return new byte[0];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (len % 2 != 0) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal state. &quot; + len);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        byte[] bytes = new byte[len / 2];</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; bytes.length; ++i) {</b>
<b class="nc">&nbsp;            byte c0 = this.bytes[start + i * 2];</b>
<b class="nc">&nbsp;            byte c1 = this.bytes[start + i * 2 + 1];</b>
&nbsp;
<b class="nc">&nbsp;            int b0 = c0 - (c0 &lt;= 57 ? 48 : 55);</b>
<b class="nc">&nbsp;            int b1 = c1 - (c1 &lt;= 57 ? 48 : 55);</b>
<b class="nc">&nbsp;            bytes[i] = (byte) ((b0 &lt;&lt; 4) | b1);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        nextIfMatch(&#39;,&#39;);</b>
&nbsp;
<b class="nc">&nbsp;        return bytes;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final boolean isReference() {
<b class="nc">&nbsp;        if (ch != &#39;{&#39;) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        final int start = this.offset;</b>
&nbsp;
<b class="nc">&nbsp;        ch = (char) bytes[this.offset];</b>
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                this.offset = start;</b>
<b class="nc">&nbsp;                this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        char quote = ch;</b>
<b class="nc">&nbsp;        if (quote != &#39;&quot;&#39; &amp;&amp; quote != &#39;\&#39;&#39; || this.offset + 5 &gt;= end) {</b>
<b class="nc">&nbsp;            this.offset = start;</b>
<b class="nc">&nbsp;            this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (bytes[offset + 1] != &#39;$&#39;</b>
&nbsp;                || bytes[offset + 2] != &#39;r&#39;
&nbsp;                || bytes[offset + 3] != &#39;e&#39;
&nbsp;                || bytes[offset + 4] != &#39;f&#39;
&nbsp;                || bytes[offset + 5] != quote
&nbsp;        ) {
<b class="nc">&nbsp;            this.offset = start;</b>
<b class="nc">&nbsp;            this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        offset += 6;</b>
<b class="nc">&nbsp;        ch = (char) bytes[this.offset];</b>
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                this.offset = start;</b>
<b class="nc">&nbsp;                this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch != &#39;:&#39;) {</b>
<b class="nc">&nbsp;            this.offset = start;</b>
<b class="nc">&nbsp;            this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        ch = (char) bytes[++this.offset];</b>
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                this.offset = start;</b>
<b class="nc">&nbsp;                this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch != quote) {</b>
<b class="nc">&nbsp;            this.offset = start;</b>
<b class="nc">&nbsp;            this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        this.referenceBegin = offset;</b>
<b class="nc">&nbsp;        this.offset = start;</b>
<b class="nc">&nbsp;        this.ch = &#39;{&#39;;</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String readReference() {
<b class="nc">&nbsp;        if (referenceBegin == end) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;        this.offset = referenceBegin;</b>
<b class="nc">&nbsp;        this.ch = (char) bytes[offset++];</b>
<b class="nc">&nbsp;        String reference = readString();</b>
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            offset++;</b>
<b class="nc">&nbsp;            if (offset &gt;= length) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
<b class="nc">&nbsp;                return reference;</b>
&nbsp;            }
<b class="nc">&nbsp;            ch = (char) bytes[offset];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (ch != &#39;}&#39;) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;illegal reference : &quot; + reference);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (offset == end) {</b>
<b class="nc">&nbsp;            ch = EOI;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            ch = (char) bytes[offset++];</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;            if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                ch = (char) bytes[offset++];</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (comma = (ch == &#39;,&#39;)) {</b>
<b class="nc">&nbsp;            this.ch = (char) bytes[this.offset++];</b>
&nbsp;            // next inline
<b class="nc">&nbsp;            if (this.offset &gt;= end) {</b>
<b class="nc">&nbsp;                this.ch = EOI;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                while (ch &lt;= &#39; &#39; &amp;&amp; ((1L &lt;&lt; ch) &amp; SPACE) != 0) {</b>
<b class="nc">&nbsp;                    if (offset &gt;= end) {</b>
<b class="nc">&nbsp;                        ch = EOI;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        ch = (char) bytes[offset++];</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return reference;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final String info(String message) {
<b class="nc">&nbsp;        int line = 1, column = 1;</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; offset &amp;&amp; i &lt; end; i++, column++) {</b>
<b class="nc">&nbsp;            if (bytes[i] == &#39;\n&#39;) {</b>
<b class="nc">&nbsp;                column = 1;</b>
<b class="nc">&nbsp;                line++;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        StringBuilder buf = new StringBuilder();</b>
&nbsp;
<b class="nc">&nbsp;        if (message != null &amp;&amp; !message.isEmpty()) {</b>
<b class="nc">&nbsp;            buf.append(message).append(&quot;, &quot;);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        buf.append(&quot;offset &quot;).append(offset)</b>
<b class="nc">&nbsp;                .append(&quot;, character &quot;).append(ch)</b>
<b class="nc">&nbsp;                .append(&quot;, line &quot;).append(line)</b>
<b class="nc">&nbsp;                .append(&quot;, column &quot;).append(column)</b>
<b class="nc">&nbsp;                .append(&quot;, fastjson-version &quot;).append(JSON.VERSION)</b>
<b class="nc">&nbsp;                .append(line &gt; 1 ? &#39;\n&#39; : &#39; &#39;);</b>
&nbsp;
<b class="nc">&nbsp;        String str = new String(bytes, this.start, length &lt; 65535 ? length : 65535);</b>
<b class="nc">&nbsp;        buf.append(str);</b>
<b class="nc">&nbsp;        return buf.toString();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public final void close() {
<b class="nc">&nbsp;        if (cacheItem != null) {</b>
<b class="nc">&nbsp;            BYTES_UPDATER.lazySet(cacheItem, bytes);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (in != null) {</b>
&nbsp;            try {
<b class="nc">&nbsp;                in.close();</b>
<b class="nc">&nbsp;            } catch (IOException ignored) {</b>
&nbsp;                // ignored
<b class="nc">&nbsp;            }</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-09 21:41</div>
</div>
</body>
</html>
