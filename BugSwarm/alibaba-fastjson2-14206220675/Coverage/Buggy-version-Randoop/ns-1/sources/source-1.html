


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > JSON</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.alibaba.fastjson</a>
</div>

<h1>Coverage Summary for Class: JSON (com.alibaba.fastjson)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">JSON</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/93)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/251)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/490)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.alibaba.fastjson;
&nbsp;
&nbsp;import com.alibaba.fastjson.parser.Feature;
&nbsp;import com.alibaba.fastjson.parser.ParserConfig;
&nbsp;import com.alibaba.fastjson.parser.deserializer.ParseProcess;
&nbsp;import com.alibaba.fastjson.serializer.*;
&nbsp;import com.alibaba.fastjson.util.IOUtils;
&nbsp;import com.alibaba.fastjson.util.TypeUtils;
&nbsp;import com.alibaba.fastjson2.JSONFactory;
&nbsp;import com.alibaba.fastjson2.JSONReader;
&nbsp;import com.alibaba.fastjson2.JSONWriter;
&nbsp;import com.alibaba.fastjson2.filter.Filter;
&nbsp;import com.alibaba.fastjson2.filter.PropertyFilter;
&nbsp;import com.alibaba.fastjson2.filter.PropertyPreFilter;
&nbsp;import com.alibaba.fastjson2.filter.ValueFilter;
&nbsp;import com.alibaba.fastjson2.reader.ObjectReader;
&nbsp;import com.alibaba.fastjson2.reader.ObjectReaderProvider;
&nbsp;import com.alibaba.fastjson2.support.AwtRederModule;
&nbsp;import com.alibaba.fastjson2.support.AwtWriterModule;
&nbsp;import com.alibaba.fastjson2.util.JDKUtils;
&nbsp;import com.alibaba.fastjson2.util.ParameterizedTypeImpl;
&nbsp;import com.alibaba.fastjson2.writer.ObjectWriter;
&nbsp;import com.alibaba.fastjson2.writer.ObjectWriterProvider;
&nbsp;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;import java.io.OutputStream;
&nbsp;import java.io.Writer;
&nbsp;import java.lang.reflect.Type;
&nbsp;import java.nio.ByteBuffer;
&nbsp;import java.nio.CharBuffer;
&nbsp;import java.nio.charset.Charset;
&nbsp;import java.nio.charset.CharsetDecoder;
&nbsp;import java.nio.charset.StandardCharsets;
&nbsp;import java.util.*;
&nbsp;import java.util.concurrent.atomic.AtomicReferenceFieldUpdater;
&nbsp;import java.util.function.Supplier;
&nbsp;
&nbsp;public abstract class JSON
&nbsp;        implements JSONAware {
&nbsp;    private static TimeZone DEFAULT_TIME_ZONE = TimeZone.getDefault();
&nbsp;    public static final String VERSION = com.alibaba.fastjson2.JSON.VERSION;
&nbsp;    static final Cache CACHE = new Cache();
&nbsp;    static final AtomicReferenceFieldUpdater&lt;Cache, char[]&gt; CHARS_UPDATER
&nbsp;            = AtomicReferenceFieldUpdater.newUpdater(Cache.class, char[].class, &quot;chars&quot;);
&nbsp;    public static TimeZone defaultTimeZone = DEFAULT_TIME_ZONE;
&nbsp;    public static Locale defaultLocale = Locale.getDefault();
&nbsp;    public static String DEFAULT_TYPE_KEY = &quot;@type&quot;;
&nbsp;    public static String DEFFAULT_DATE_FORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;
&nbsp;    public static int DEFAULT_PARSER_FEATURE;
&nbsp;    public static int DEFAULT_GENERATE_FEATURE;
&nbsp;
&nbsp;    static {
&nbsp;        int features = 0;
&nbsp;        features |= Feature.AutoCloseSource.getMask();
&nbsp;        features |= Feature.InternFieldNames.getMask();
&nbsp;        features |= Feature.UseBigDecimal.getMask();
&nbsp;        features |= Feature.AllowUnQuotedFieldNames.getMask();
&nbsp;        features |= Feature.AllowSingleQuotes.getMask();
&nbsp;        features |= Feature.AllowArbitraryCommas.getMask();
&nbsp;        features |= Feature.SortFeidFastMatch.getMask();
&nbsp;        features |= Feature.IgnoreNotMatch.getMask();
&nbsp;        DEFAULT_PARSER_FEATURE = features;
&nbsp;    }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    static {</b>
<b class="nc">&nbsp;        int features = 0;</b>
<b class="nc">&nbsp;        features |= SerializerFeature.QuoteFieldNames.getMask();</b>
<b class="nc">&nbsp;        features |= SerializerFeature.SkipTransientField.getMask();</b>
<b class="nc">&nbsp;        features |= SerializerFeature.WriteEnumUsingName.getMask();</b>
&nbsp;        features |= SerializerFeature.SortField.getMask();
&nbsp;
&nbsp;        DEFAULT_GENERATE_FEATURE = features;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    static final Supplier&lt;List&gt; arraySupplier = JSONArray::new;
<b class="nc">&nbsp;    static final Supplier&lt;Map&gt; defaultSupplier = JSONObject::new;</b>
<b class="nc">&nbsp;    static final Supplier&lt;Map&gt; orderedSupplier = () -&gt; new JSONObject(true);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    static {</b>
<b class="nc">&nbsp;        boolean android = JDKUtils.ANDROID;</b>
<b class="nc">&nbsp;        ObjectReaderProvider readerProvider = JSONFactory.getDefaultObjectReaderProvider();</b>
<b class="nc">&nbsp;        if (!android) {</b>
<b class="nc">&nbsp;            readerProvider.register(AwtRederModule.INSTANCE);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        readerProvider.register(new Fastjson1xReaderModule(readerProvider));</b>
&nbsp;
&nbsp;        ObjectWriterProvider writerProvider = SerializeConfig.DEFAULT_PROVIDER;
&nbsp;        if (!android) {
<b class="nc">&nbsp;            writerProvider.register(AwtWriterModule.INSTANCE);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        writerProvider.register(new Fastjson1xWriterModule(writerProvider));</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    public static JSONReader.Context createReadContext(int featuresValue, Feature... features) {</b>
&nbsp;        return createReadContext(JSONFactory.getDefaultObjectReaderProvider(), featuresValue, features);
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    static JSONReader.Context createReadContext(ObjectReaderProvider provider, int featuresValue, Feature... features) {
&nbsp;        for (Feature feature : features) {
&nbsp;            featuresValue |= feature.mask;
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        JSONReader.Context context = new JSONReader.Context(provider);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; Feature.UseBigDecimal.mask) == 0) {</b>
<b class="nc">&nbsp;            context.config(JSONReader.Feature.UseBigDecimalForDoubles);</b>
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.SupportArrayToBean.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.SupportArrayToBean);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        if ((featuresValue &amp; Feature.ErrorOnEnumNotMatch.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.ErrorOnEnumNotMatch);
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; Feature.SupportNonPublicField.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONReader.Feature.FieldBased);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        if ((featuresValue &amp; Feature.SupportClassForName.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.SupportClassForName);
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; Feature.TrimStringFieldValue.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONReader.Feature.TrimString);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.ErrorOnNotSupportAutoType.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.ErrorOnNotSupportAutoType);
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.AllowUnQuotedFieldNames.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.AllowUnQuotedFieldNames);
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; Feature.UseNativeJavaObject.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONReader.Feature.UseNativeObject);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            context.setArraySupplier(arraySupplier);</b>
<b class="nc">&nbsp;            context.setObjectSupplier(</b>
&nbsp;                    (featuresValue &amp; Feature.OrderedField.mask) != 0
&nbsp;                            ? orderedSupplier
&nbsp;                            : defaultSupplier
<b class="nc">&nbsp;            );</b>
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.NonStringKeyAsString.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.NonStringKeyAsString);
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.DisableFieldSmartMatch.mask) == 0) {
<b class="nc">&nbsp;            context.config(JSONReader.Feature.SupportSmartMatch);</b>
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; Feature.SupportAutoType.mask) != 0) {
&nbsp;            context.config(JSONReader.Feature.SupportAutoType);
&nbsp;        }
&nbsp;
&nbsp;        String defaultDateFormat = JSON.DEFFAULT_DATE_FORMAT;
<b class="nc">&nbsp;        if (!&quot;yyyy-MM-dd HH:mm:ss&quot;.equals(defaultDateFormat)) {</b>
<b class="nc">&nbsp;            context.setDateFormat(defaultDateFormat);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        context.config(JSONReader.Feature.Base64StringAsByteArray);
<b class="nc">&nbsp;</b>
&nbsp;        return context;
&nbsp;    }
&nbsp;
&nbsp;    public static JSONObject parseObject(String str) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE
<b class="nc">&nbsp;        );</b>
<b class="nc">&nbsp;        JSONReader reader = JSONReader.of(str, context);</b>
&nbsp;
<b class="nc">&nbsp;        try {</b>
&nbsp;            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
<b class="nc">&nbsp;            reader.read(map, 0);</b>
&nbsp;            JSONObject jsonObject = new JSONObject(map);
<b class="nc">&nbsp;            reader.handleResolveTasks(jsonObject);</b>
&nbsp;            return jsonObject;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static JSONObject parseObject(String text, Feature... features) {</b>
&nbsp;        if (text == null || text.isEmpty()) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
<b class="nc">&nbsp;                DEFAULT_PARSER_FEATURE,</b>
&nbsp;                features
&nbsp;        );
<b class="nc">&nbsp;        JSONReader reader = JSONReader.of(text, context);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        String defaultDateFormat = JSON.DEFFAULT_DATE_FORMAT;</b>
&nbsp;        if (!&quot;yyyy-MM-dd HH:mm:ss&quot;.equals(defaultDateFormat)) {
&nbsp;            context.setDateFormat(defaultDateFormat);
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        boolean ordered = false;
&nbsp;        for (Feature feature : features) {
<b class="nc">&nbsp;            if (feature == Feature.OrderedField) {</b>
&nbsp;                ordered = true;
<b class="nc">&nbsp;                break;</b>
<b class="nc">&nbsp;            }</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
<b class="nc">&nbsp;            Map&lt;String, Object&gt; map = ordered ? new LinkedHashMap() : new HashMap&lt;&gt;();</b>
&nbsp;            reader.read(map, 0);
<b class="nc">&nbsp;            JSONObject jsonObject = new JSONObject(map);</b>
&nbsp;            reader.handleResolveTasks(jsonObject);
<b class="nc">&nbsp;            return jsonObject;</b>
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {</b>
&nbsp;            Throwable cause = e.getCause();
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
<b class="nc">&nbsp;            }</b>
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
<b class="nc">&nbsp;            byte[] bytes,</b>
<b class="nc">&nbsp;            Charset charset,</b>
<b class="nc">&nbsp;            Type objectClass,</b>
&nbsp;            ParserConfig config,
&nbsp;            ParseProcess processor,
<b class="nc">&nbsp;            int featureValues,</b>
&nbsp;            Feature... features
&nbsp;    ) {
&nbsp;        if (bytes == null || bytes.length == 0) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        if (config == null) {
<b class="nc">&nbsp;            config = ParserConfig.global;</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                config.getProvider(),
&nbsp;                featureValues,
<b class="nc">&nbsp;                features</b>
<b class="nc">&nbsp;        );</b>
<b class="nc">&nbsp;        if (processor != null) {</b>
&nbsp;            context.config(processor);
&nbsp;        }
&nbsp;
&nbsp;        JSONReader jsonReader = JSONReader.of(bytes, 0, bytes.length, charset, context);
&nbsp;
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectClass);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
&nbsp;            byte[] bytes,
&nbsp;            int offset,
&nbsp;            int len,
&nbsp;            Charset charset,
&nbsp;            Type objectType,
&nbsp;            ParserConfig config,
&nbsp;            ParseProcess processor,
&nbsp;            int featureValues,
&nbsp;            Feature... features
&nbsp;    ) {
&nbsp;        if (bytes == null || bytes.length == 0 || len == 0) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        if (config == null) {
<b class="nc">&nbsp;            config = ParserConfig.global;</b>
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                config.getProvider(),
<b class="nc">&nbsp;                featureValues,</b>
&nbsp;                features
&nbsp;        );
&nbsp;        if (processor != null) {
&nbsp;            context.config(processor);
&nbsp;        }
&nbsp;
&nbsp;        JSONReader jsonReader = JSONReader.of(bytes, offset, len, charset, context);
&nbsp;
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(char[] str, int length, Type objectType, Feature... features) {
&nbsp;        if (str == null || str.length == 0) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
<b class="nc">&nbsp;                DEFAULT_PARSER_FEATURE,</b>
<b class="nc">&nbsp;                features</b>
&nbsp;        );
&nbsp;        JSONReader jsonReader = JSONReader.of(str, 0, length, context);
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
<b class="nc">&nbsp;            if (object != null) {</b>
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
&nbsp;            }
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(char[] str, Class&lt;T&gt; objectClass, Feature... features) {
<b class="nc">&nbsp;        if (str == null || str.length == 0) {</b>
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;
<b class="nc">&nbsp;        try {</b>
<b class="nc">&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectClass);</b>
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
<b class="nc">&nbsp;            throw new JSONException(e.getMessage(), cause);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
<b class="nc">&nbsp;            String str,</b>
<b class="nc">&nbsp;            Type objectClass,</b>
&nbsp;            ParserConfig config,
&nbsp;            ParseProcess processor,
<b class="nc">&nbsp;            int featureValues,</b>
<b class="nc">&nbsp;            Feature... features</b>
&nbsp;    ) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if (config == null) {</b>
&nbsp;            config = ParserConfig.global;
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
&nbsp;                config.getProvider(),
&nbsp;                featureValues,
&nbsp;                features
&nbsp;        );
<b class="nc">&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);</b>
&nbsp;        context.config(processor);
&nbsp;
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectClass);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
<b class="nc">&nbsp;            }</b>
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(String input, Type clazz, ParserConfig config, int featureValues,
&nbsp;                                    Feature... features) {
&nbsp;        return parseObject(input, clazz, config, null, featureValues, features);
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(String str, Type objectType, ParseProcess processor, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;        context.config(processor);
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
<b class="nc">&nbsp;            if (object != null) {</b>
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
<b class="nc">&nbsp;            }</b>
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)</b>
&nbsp;    public static &lt;T&gt; T parseObject(String str, Class&lt;T&gt; objectClass, ParseProcess processor, Feature... features) {
<b class="nc">&nbsp;        if (str == null || str.isEmpty()) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
<b class="nc">&nbsp;                features</b>
<b class="nc">&nbsp;        );</b>
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;        context.config(processor);
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectClass);
<b class="nc">&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);</b>
&nbsp;            if (object != null) {
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
&nbsp;            }
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)</b>
<b class="nc">&nbsp;    public static &lt;T&gt; T parseObject(String str, TypeReference&lt;T&gt; typeReference, Feature... features) {</b>
&nbsp;        return (T) parseObject(str, typeReference.getType(), features);
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static &lt;T&gt; T parseObject(String input, Type clazz, int featureValues, Feature... features) {</b>
&nbsp;        return (T) parseObject(input, clazz, ParserConfig.global, featureValues, features);
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    public static &lt;T&gt; T parseObject(String str, Class&lt;T&gt; objectClass) {</b>
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
&nbsp;                DEFAULT_PARSER_FEATURE
&nbsp;        );
<b class="nc">&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectClass);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
<b class="nc">&nbsp;            if (object != null) {</b>
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
&nbsp;            }
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(String str, Class&lt;T&gt; objectType, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
<b class="nc">&nbsp;            if (object != null) {</b>
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    public static &lt;T&gt; T parseObject(String str, Type objectType, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);</b>
<b class="nc">&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);</b>
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
&nbsp;            }
<b class="nc">&nbsp;            throw new JSONException(e.getMessage(), cause);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    /**</b>
&nbsp;     * @since 1.2.11
&nbsp;     */
&nbsp;    public static &lt;T&gt; T parseObject(String str, Type objectType, ParserConfig config, Feature... features) {
<b class="nc">&nbsp;        if (str == null || str.isEmpty()) {</b>
&nbsp;            return null;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
&nbsp;                config.getProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
<b class="nc">&nbsp;        );</b>
&nbsp;
&nbsp;        if (config.fieldBase) {
&nbsp;            context.config(JSONReader.Feature.FieldBased);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        JSONReader jsonReader = JSONReader.of(str, context);
&nbsp;
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {</b>
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            throw new JSONException(e.getMessage(), cause);</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
<b class="nc">&nbsp;            InputStream is,</b>
&nbsp;            Type objectType,
<b class="nc">&nbsp;            Feature... features) throws IOException {</b>
&nbsp;        return parseObject(is, StandardCharsets.UTF_8, objectType, features);
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    public static &lt;T&gt; T parseObject(</b>
&nbsp;            InputStream is,
&nbsp;            Class&lt;T&gt; objectType,
&nbsp;            Feature... features) throws IOException {
<b class="nc">&nbsp;        return parseObject(is, StandardCharsets.UTF_8, objectType, features);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
&nbsp;            InputStream is,
&nbsp;            Charset charset,
<b class="nc">&nbsp;            Type objectType,</b>
<b class="nc">&nbsp;            ParserConfig config,</b>
<b class="nc">&nbsp;            ParseProcess processor,</b>
<b class="nc">&nbsp;            int featureValues,</b>
<b class="nc">&nbsp;            Feature... features</b>
<b class="nc">&nbsp;    ) throws IOException {</b>
<b class="nc">&nbsp;        if (is == null) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if (config == null) {</b>
&nbsp;            config = ParserConfig.global;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
<b class="nc">&nbsp;                config.getProvider(),</b>
&nbsp;                featureValues,
<b class="nc">&nbsp;                features</b>
&nbsp;        );
&nbsp;
&nbsp;        if (processor != null) {
<b class="nc">&nbsp;            context.config(processor);</b>
&nbsp;        }
&nbsp;
&nbsp;        JSONReader jsonReader = JSONReader.of(is, charset, context);
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        try {</b>
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {</b>
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    public static &lt;T&gt; T parseObject(
<b class="nc">&nbsp;            InputStream is,</b>
&nbsp;            Charset charset,
&nbsp;            Type type,
&nbsp;            ParserConfig config,
&nbsp;            Feature... features
&nbsp;    ) throws IOException {
&nbsp;        return (T) parseObject(is, charset, type, config, null, DEFAULT_PARSER_FEATURE, features);
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
&nbsp;            InputStream is,
&nbsp;            Charset charset,
<b class="nc">&nbsp;            Type objectType,</b>
&nbsp;            Feature... features) throws IOException {
&nbsp;        if (is == null) {
&nbsp;            return null;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
<b class="nc">&nbsp;        JSONReader jsonReader = JSONReader.of(is, charset, context);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(objectType);</b>
<b class="nc">&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);</b>
<b class="nc">&nbsp;            if (object != null) {</b>
<b class="nc">&nbsp;                jsonReader.handleResolveTasks(object);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
<b class="nc">&nbsp;            Throwable cause = e.getCause();</b>
<b class="nc">&nbsp;            if (cause == null) {</b>
&nbsp;                cause = e;
<b class="nc">&nbsp;            }</b>
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * @since 2.0.7
&nbsp;     */
&nbsp;    public static &lt;T&gt; JSONObject parseObject(byte[] jsonBytes, Feature... features) {
&nbsp;        if (jsonBytes == null || jsonBytes.length == 0) {
&nbsp;            return null;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
<b class="nc">&nbsp;                DEFAULT_PARSER_FEATURE,</b>
&nbsp;                features
&nbsp;        );
&nbsp;        JSONReader reader = JSONReader.of(jsonBytes, context);
<b class="nc">&nbsp;</b>
&nbsp;        boolean ordered = false;
&nbsp;        for (Feature feature : features) {
&nbsp;            if (feature == Feature.OrderedField) {
<b class="nc">&nbsp;                ordered = true;</b>
&nbsp;                break;
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        try {
&nbsp;            Map&lt;String, Object&gt; map = ordered ? new LinkedHashMap&lt;&gt;() : new HashMap&lt;&gt;();
&nbsp;            reader.read(map, 0);
&nbsp;            JSONObject jsonObject = new JSONObject(map);
&nbsp;            reader.handleResolveTasks(jsonObject);
&nbsp;            return jsonObject;
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {</b>
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
<b class="nc">&nbsp;            }</b>
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(byte[] jsonBytes, Type type, Feature... features) {
&nbsp;        if (jsonBytes == null) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
<b class="nc">&nbsp;        );</b>
&nbsp;        JSONReader jsonReader = JSONReader.of(jsonBytes, context);
&nbsp;
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(type);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
&nbsp;            return object;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
<b class="nc">&nbsp;                cause = e;</b>
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static &lt;T&gt; T parseObject(byte[] jsonBytes, Type type, SerializeFilter filter, Feature... features) {</b>
<b class="nc">&nbsp;        if (jsonBytes == null) {</b>
&nbsp;            return null;
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(</b>
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
<b class="nc">&nbsp;        JSONReader jsonReader = JSONReader.of(jsonBytes, context);</b>
&nbsp;
<b class="nc">&nbsp;        if (filter instanceof Filter) {</b>
&nbsp;            context.config((Filter) filter);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        try {
&nbsp;            ObjectReader&lt;T&gt; objectReader = jsonReader.getObjectReader(type);
&nbsp;            T object = objectReader.readObject(jsonReader, null, null, 0);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
<b class="nc">&nbsp;            return object;</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Object parse(String str) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE
&nbsp;        );
&nbsp;        try (JSONReader jsonReader = JSONReader.of(str, context)) {
&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {
<b class="nc">&nbsp;                return jsonReader.read(JSONObject.class);</b>
&nbsp;            }
&nbsp;            return jsonReader.readAny();
&nbsp;        } catch (Exception ex) {
<b class="nc">&nbsp;            throw new JSONException(ex.getMessage(), ex);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static Object parse(String text, int features) {
&nbsp;        return parse(text, ParserConfig.global, features);
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    public static Object parse(String str, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
&nbsp;                DEFAULT_PARSER_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;        try (JSONReader jsonReader = JSONReader.of(str, context)) {
&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {
&nbsp;                return jsonReader.read(JSONObject.class);
&nbsp;            }
&nbsp;            return jsonReader.readAny();
&nbsp;        } catch (Exception ex) {
&nbsp;            throw new JSONException(ex.getMessage(), ex);
&nbsp;        }
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    public static Object parse(String str, ParserConfig config, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        JSONReader.Context context = createReadContext(config.getProvider(), DEFAULT_PARSER_FEATURE, features);</b>
<b class="nc">&nbsp;        try (JSONReader jsonReader = JSONReader.of(str, context)) {</b>
&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {
&nbsp;                return jsonReader.read(JSONObject.class);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return jsonReader.read(Object.class);</b>
<b class="nc">&nbsp;        } catch (Exception ex) {</b>
&nbsp;            throw new JSONException(ex.getMessage(), ex);
&nbsp;        }
&nbsp;    }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static Object parse(String str, ParserConfig config) {</b>
&nbsp;        if (str == null || str.isEmpty()) {
<b class="nc">&nbsp;            return null;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(config.getProvider(), DEFAULT_PARSER_FEATURE);
&nbsp;        try (JSONReader jsonReader = JSONReader.of(str, context)) {
&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {
&nbsp;                return jsonReader.read(JSONObject.class);
&nbsp;            }
&nbsp;            return jsonReader.readAny();
&nbsp;        } catch (Exception ex) {
&nbsp;            throw new JSONException(ex.getMessage(), ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static Object parse(String str, ParserConfig config, int features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(config.getProvider(), features);
<b class="nc">&nbsp;        try (JSONReader jsonReader = JSONReader.of(str, context)) {</b>
&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {
<b class="nc">&nbsp;                return jsonReader.read(JSONObject.class);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            return jsonReader.readAny();</b>
&nbsp;        } catch (Exception ex) {
&nbsp;            throw new JSONException(ex.getMessage(), ex);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
&nbsp;    public static Object parse(byte[] utf8Bytes, Feature... features) {
&nbsp;        if (utf8Bytes == null || utf8Bytes.length == 0) {
&nbsp;            return null;
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        JSONReader.Context context = createReadContext(
<b class="nc">&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),</b>
<b class="nc">&nbsp;                DEFAULT_PARSER_FEATURE,</b>
&nbsp;                features
&nbsp;        );
&nbsp;        try (JSONReader jsonReader = JSONReader.of(utf8Bytes, context)) {
<b class="nc">&nbsp;            if (jsonReader.isObject() &amp;&amp; !jsonReader.isSupportAutoType(0)) {</b>
<b class="nc">&nbsp;                return jsonReader.read(JSONObject.class);</b>
&nbsp;            }
&nbsp;            return jsonReader.readAny();
<b class="nc">&nbsp;        } catch (Exception ex) {</b>
&nbsp;            throw new JSONException(ex.getMessage(), ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static Object parse(byte[] input, int off, int len, CharsetDecoder charsetDecoder, Feature... features) {
&nbsp;        if (input == null || input.length == 0) {
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        int featureValues = DEFAULT_PARSER_FEATURE;
&nbsp;        for (Feature feature : features) {
&nbsp;            featureValues = Feature.config(featureValues, feature, true);
&nbsp;        }
&nbsp;
&nbsp;        return parse(input, off, len, charsetDecoder, featureValues);
&nbsp;    }
&nbsp;
&nbsp;    public static Object parse(byte[] input, int off, int len, CharsetDecoder charsetDecoder, int features) {
<b class="nc">&nbsp;        charsetDecoder.reset();</b>
&nbsp;
&nbsp;        int scaleLength = (int) (len * (double) charsetDecoder.maxCharsPerByte());
&nbsp;        char[] chars = CHARS_UPDATER.getAndSet(CACHE, null);
&nbsp;        if (chars == null || chars.length &lt; scaleLength) {
&nbsp;            chars = new char[scaleLength];
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        try {
&nbsp;            ByteBuffer byteBuf = ByteBuffer.wrap(input, off, len);
<b class="nc">&nbsp;            CharBuffer charBuf = CharBuffer.wrap(chars);</b>
<b class="nc">&nbsp;            IOUtils.decode(charsetDecoder, byteBuf, charBuf);</b>
&nbsp;
<b class="nc">&nbsp;            int position = charBuf.position();</b>
<b class="nc">&nbsp;</b>
&nbsp;            JSONReader.Context context = createReadContext(
&nbsp;                    JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                    features
&nbsp;            );
&nbsp;            JSONReader jsonReader = JSONReader.of(chars, 0, position, context);
&nbsp;
&nbsp;            for (Feature feature : Feature.values()) {
&nbsp;                if ((features &amp; feature.mask) != 0) {
&nbsp;                    switch (feature) {
&nbsp;                        case SupportArrayToBean:
&nbsp;                            context.config(JSONReader.Feature.SupportArrayToBean);
&nbsp;                            break;
&nbsp;                        case SupportAutoType:
<b class="nc">&nbsp;                            context.config(JSONReader.Feature.SupportAutoType);</b>
&nbsp;                            break;
&nbsp;                        case ErrorOnEnumNotMatch:
&nbsp;                            context.config(JSONReader.Feature.ErrorOnEnumNotMatch);
&nbsp;                        case SupportNonPublicField:
&nbsp;                            context.config(JSONReader.Feature.FieldBased);
&nbsp;                        default:
&nbsp;                            break;
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;            Object object = jsonReader.read(Object.class);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
&nbsp;            return object;
&nbsp;        } finally {
&nbsp;            if (chars.length &lt;= 1024 * 64) {
&nbsp;                CHARS_UPDATER.set(CACHE, chars);
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)</b>
&nbsp;    public static &lt;T&gt; T parseObject(
&nbsp;            byte[] input,
&nbsp;            int off,
&nbsp;            int len,
&nbsp;            CharsetDecoder charsetDecoder,
&nbsp;            Type clazz,
&nbsp;            Feature... features) {
&nbsp;        charsetDecoder.reset();
&nbsp;
&nbsp;        int scaleLength = (int) (len * (double) charsetDecoder.maxCharsPerByte());
&nbsp;
&nbsp;        char[] chars = CHARS_UPDATER.getAndSet(CACHE, null);
&nbsp;        if (chars == null || chars.length &lt; scaleLength) {
&nbsp;            chars = new char[scaleLength];
&nbsp;        }
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            ByteBuffer byteBuf = ByteBuffer.wrap(input, off, len);</b>
&nbsp;            CharBuffer charByte = CharBuffer.wrap(chars);
&nbsp;            IOUtils.decode(charsetDecoder, byteBuf, charByte);
<b class="nc">&nbsp;</b>
&nbsp;            int position = charByte.position();
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;            JSONReader.Context context = createReadContext(</b>
<b class="nc">&nbsp;                    JSONFactory.getDefaultObjectReaderProvider(),</b>
&nbsp;                    DEFAULT_PARSER_FEATURE,
&nbsp;                    features
<b class="nc">&nbsp;            );</b>
<b class="nc">&nbsp;            JSONReader jsonReader = JSONReader.of(chars, 0, position, context);</b>
<b class="nc">&nbsp;</b>
&nbsp;            T object = jsonReader.read(clazz);
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
<b class="nc">&nbsp;            }</b>
&nbsp;            return object;
<b class="nc">&nbsp;        } finally {</b>
<b class="nc">&nbsp;            if (chars.length &lt;= 1024 * 64) {</b>
&nbsp;                CHARS_UPDATER.set(CACHE, chars);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T parseObject(
&nbsp;            byte[] input,
&nbsp;            int off,
&nbsp;            int len,
&nbsp;            Charset charset,
&nbsp;            Type clazz,
&nbsp;            Feature... features) {
&nbsp;        try (JSONReader jsonReader =
<b class="nc">&nbsp;                     JSONReader.of(</b>
&nbsp;                             input,
&nbsp;                             off,
<b class="nc">&nbsp;                             len,</b>
&nbsp;                             charset,
<b class="nc">&nbsp;                             createReadContext(</b>
<b class="nc">&nbsp;                                     JSONFactory.getDefaultObjectReaderProvider(),</b>
<b class="nc">&nbsp;                                     DEFAULT_PARSER_FEATURE,</b>
&nbsp;                                     features
&nbsp;                             )
<b class="nc">&nbsp;                     )</b>
<b class="nc">&nbsp;        ) {</b>
<b class="nc">&nbsp;            T object = jsonReader.read(clazz);</b>
&nbsp;            if (object != null) {
&nbsp;                jsonReader.handleResolveTasks(object);
&nbsp;            }
<b class="nc">&nbsp;            return object;</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
&nbsp;    public static JSONWriter.Context createWriteContext(
<b class="nc">&nbsp;            SerializeConfig config,</b>
<b class="nc">&nbsp;            int featuresValue,</b>
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        for (SerializerFeature feature : features) {
&nbsp;            featuresValue |= feature.mask;
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        ObjectWriterProvider provider = config.getProvider();
&nbsp;        provider.setCompatibleWithFieldName(TypeUtils.compatibleWithFieldName);
&nbsp;
<b class="nc">&nbsp;        JSONWriter.Context context = new JSONWriter.Context(provider);</b>
&nbsp;
<b class="nc">&nbsp;        if (config.fieldBased) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.FieldBased);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if (config.propertyNamingStrategy != null</b>
&nbsp;                &amp;&amp; config.propertyNamingStrategy != PropertyNamingStrategy.NeverUseThisValueExceptDefaultValue
&nbsp;                &amp;&amp; config.propertyNamingStrategy != PropertyNamingStrategy.CamelCase1x
&nbsp;        ) {
&nbsp;            NameFilter nameFilter = NameFilter.of(config.propertyNamingStrategy);
&nbsp;            configFilter(context, nameFilter);
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        if ((featuresValue &amp; SerializerFeature.DisableCircularReferenceDetect.mask) == 0) {
&nbsp;            context.config(JSONWriter.Feature.ReferenceDetection);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        if ((featuresValue &amp; SerializerFeature.UseISO8601DateFormat.mask) != 0) {
<b class="nc">&nbsp;            context.setDateFormat(&quot;iso8601&quot;);</b>
<b class="nc">&nbsp;        } else {</b>
&nbsp;            context.setDateFormat(&quot;millis&quot;);
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteMapNullValue.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.WriteMapNullValue);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNullListAsEmpty.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteNullListAsEmpty);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNullStringAsEmpty.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.WriteNullStringAsEmpty);
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNullNumberAsZero.mask) != 0) {
&nbsp;            context.config(JSONWriter.Feature.WriteNullNumberAsZero);
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNullBooleanAsFalse.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteNullBooleanAsFalse);</b>
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.BrowserCompatible.mask) != 0) {
&nbsp;            context.config(JSONWriter.Feature.BrowserCompatible);
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.BrowserSecure.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.BrowserSecure);
&nbsp;        }
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteClassName.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteClassName);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNonStringValueAsString.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteNonStringValueAsString);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteEnumUsingToString.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteEnumUsingToString);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteEnumUsingName.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.WriteEnumsUsingName);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.NotWriteRootClassName.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.NotWriteRootClassName);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.IgnoreErrorGetter.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.IgnoreErrorGetter);
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteDateUseDateFormat.mask) != 0) {
<b class="nc">&nbsp;            context.setDateFormat(JSON.DEFFAULT_DATE_FORMAT);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.BeanToArray.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.BeanToArray);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.UseSingleQuotes.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.UseSingleQuotes);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.MapSortField.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.MapSortField);
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.PrettyFormat.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.PrettyFormat);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteNonStringKeyAsString.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.WriteNonStringKeyAsString);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.IgnoreNonFieldGetter.mask) != 0) {</b>
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.IgnoreNonFieldGetter);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if ((featuresValue &amp; SerializerFeature.NotWriteDefaultValue.mask) != 0) {
<b class="nc">&nbsp;            context.config(JSONWriter.Feature.NotWriteDefaultValue);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.WriteBigDecimalAsPlain.mask) != 0) {</b>
&nbsp;            context.config(JSONWriter.Feature.WriteBigDecimalAsPlain);
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if ((featuresValue &amp; SerializerFeature.QuoteFieldNames.mask) == 0</b>
&nbsp;                &amp;&amp; (featuresValue &amp; SerializerFeature.UseSingleQuotes.mask) == 0
<b class="nc">&nbsp;        ) {</b>
&nbsp;            context.config(JSONWriter.Feature.UnquoteFieldName);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if (defaultTimeZone != null &amp;&amp; defaultTimeZone != DEFAULT_TIME_ZONE) {</b>
<b class="nc">&nbsp;            context.setZoneId(defaultTimeZone.toZoneId());</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        context.config(JSONWriter.Feature.WriteByteArrayAsBase64);</b>
&nbsp;        context.config(JSONWriter.Feature.WriteThrowableClassName);
&nbsp;
<b class="nc">&nbsp;        return context;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static String toJSONString(
<b class="nc">&nbsp;            Object object,</b>
<b class="nc">&nbsp;            SerializeConfig config,</b>
<b class="nc">&nbsp;            SerializeFilter[] filters,</b>
&nbsp;            String dateFormat,
<b class="nc">&nbsp;            int defaultFeatures,</b>
<b class="nc">&nbsp;            SerializerFeature... features</b>
<b class="nc">&nbsp;    ) {</b>
<b class="nc">&nbsp;        JSONWriter.Context context = createWriteContext(config, defaultFeatures, features);</b>
<b class="nc">&nbsp;        if (dateFormat != null &amp;&amp; !dateFormat.isEmpty()) {</b>
&nbsp;            context.setDateFormat(dateFormat);
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            for (SerializeFilter filter : filters) {
&nbsp;                configFilter(context, filter);
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            if (object == null) {</b>
<b class="nc">&nbsp;                writer.writeNull();</b>
<b class="nc">&nbsp;            } else {</b>
&nbsp;                writer.setRootObject(object);
<b class="nc">&nbsp;                Class&lt;?&gt; valueClass = object.getClass();</b>
<b class="nc">&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);</b>
&nbsp;                objectWriter.write(writer, object, null, null, 0);
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;            return writer.toString();
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {</b>
<b class="nc">&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;</b>
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            SerializeFilter[] filters,
<b class="nc">&nbsp;            SerializerFeature... features</b>
<b class="nc">&nbsp;    ) {</b>
&nbsp;        return toJSONString(object, config, filters, null, DEFAULT_GENERATE_FEATURE, features);
&nbsp;    }
<b class="nc">&nbsp;</b>
&nbsp;    public static String toJSONString(Object object, SerializeFilter[] filters, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            for (SerializeFilter filter : filters) {
&nbsp;                configFilter(context, filter);
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
<b class="nc">&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);</b>
<b class="nc">&nbsp;                objectWriter.write(writer, object, null, null, 0);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            return writer.toString();</b>
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
<b class="nc">&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;</b>
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, cause);
<b class="nc">&nbsp;        } catch (RuntimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    public static void configFilter(JSONWriter.Context context, SerializeFilter filter) {</b>
&nbsp;        if (filter instanceof NameFilter) {
<b class="nc">&nbsp;            context.setNameFilter((NameFilter) filter);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        if (filter instanceof ValueFilter) {
<b class="nc">&nbsp;            context.setValueFilter((ValueFilter) filter);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (filter instanceof PropertyPreFilter) {</b>
&nbsp;            context.setPropertyPreFilter((PropertyPreFilter) filter);
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if (filter instanceof PropertyFilter) {</b>
<b class="nc">&nbsp;            context.setPropertyFilter((PropertyFilter) filter);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;</b>
&nbsp;        if (filter instanceof BeforeFilter) {
<b class="nc">&nbsp;            context.setBeforeFilter((BeforeFilter) filter);</b>
&nbsp;        }
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;        if (filter instanceof AfterFilter) {</b>
&nbsp;            context.setAfterFilter((AfterFilter) filter);
&nbsp;        }
<b class="nc">&nbsp;</b>
&nbsp;        if (filter instanceof LabelFilter) {
&nbsp;            context.setLabelFilter((LabelFilter) filter);
&nbsp;        }
&nbsp;
&nbsp;        if (filter instanceof ContextValueFilter) {
&nbsp;            context.setContextValueFilter((ContextValueFilter) filter);
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static byte[] toJSONBytes(
<b class="nc">&nbsp;            Object object,</b>
&nbsp;            SerializeConfig config,
<b class="nc">&nbsp;            SerializeFilter[] filters,</b>
&nbsp;            int defaultFeatures,
<b class="nc">&nbsp;            SerializerFeature... features</b>
<b class="nc">&nbsp;    ) {</b>
&nbsp;        JSONWriter.Context context = createWriteContext(config, defaultFeatures, features);
<b class="nc">&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {</b>
<b class="nc">&nbsp;            for (SerializeFilter filter : filters) {</b>
&nbsp;                configFilter(context, filter);
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;            if (object == null) {
<b class="nc">&nbsp;                writer.writeNull();</b>
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {</b>
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
<b class="nc">&nbsp;        } catch (RuntimeException ex) {</b>
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static byte[] toJSONBytes(</b>
&nbsp;            Object object,
<b class="nc">&nbsp;            SerializeConfig config,</b>
<b class="nc">&nbsp;            SerializeFilter filter,</b>
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            configFilter(context, filter);
&nbsp;
<b class="nc">&nbsp;            if (object == null) {</b>
<b class="nc">&nbsp;                writer.writeNull();</b>
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
<b class="nc">&nbsp;                Class&lt;?&gt; valueClass = object.getClass();</b>
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;            return writer.getBytes();</b>
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {</b>
<b class="nc">&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;</b>
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
<b class="nc">&nbsp;        } catch (RuntimeException ex) {</b>
<b class="nc">&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;    public static byte[] toJSONBytes(</b>
&nbsp;            Charset charset,
<b class="nc">&nbsp;            Object object,</b>
<b class="nc">&nbsp;            SerializeConfig config,</b>
&nbsp;            SerializeFilter[] filters,
&nbsp;            String dateFormat,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, defaultFeatures, features);
<b class="nc">&nbsp;        if (dateFormat != null &amp;&amp; !dateFormat.isEmpty()) {</b>
<b class="nc">&nbsp;            context.setDateFormat(dateFormat);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {</b>
&nbsp;            for (SerializeFilter filter : filters) {
<b class="nc">&nbsp;                configFilter(context, filter);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;</b>
<b class="nc">&nbsp;            if (object == null) {</b>
<b class="nc">&nbsp;                writer.writeNull();</b>
&nbsp;            } else {
<b class="nc">&nbsp;                writer.setRootObject(object);</b>
<b class="nc">&nbsp;                Class&lt;?&gt; valueClass = object.getClass();</b>
<b class="nc">&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);</b>
&nbsp;                objectWriter.write(writer, object, null, null, 0);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;</b>
&nbsp;            return writer.getBytes(charset);
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
<b class="nc">&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);</b>
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;</b>
&nbsp;    public static byte[] toJSONBytes(Object object, SerializeFilter[] filters, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            for (SerializeFilter filter : filters) {
<b class="nc">&nbsp;                configFilter(context, filter);</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
<b class="nc">&nbsp;                writer.setRootObject(object);</b>
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;</b>
&nbsp;            return writer.getBytes();
<b class="nc">&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {</b>
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, SerializeConfig config, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(Object object, boolean prettyFormat) {
&nbsp;        SerializerFeature[] features = prettyFormat
&nbsp;                ? new SerializerFeature[]{SerializerFeature.PrettyFormat}
&nbsp;                : new SerializerFeature[0];
&nbsp;        JSONWriter.Context context =
&nbsp;                createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.toString();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(Object object) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE);
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.toString();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(ex.getMessage(), cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(Object object,
&nbsp;                                      SerializeFilter filter0,
&nbsp;                                      SerializeFilter filter1,
&nbsp;                                      SerializeFilter... filters) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE);
&nbsp;        configFilter(context, filter0);
&nbsp;        configFilter(context, filter1);
&nbsp;        for (SerializeFilter filter : filters) {
&nbsp;            configFilter(context, filter);
&nbsp;        }
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.toString();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(Object object, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.toString();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE);
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, SerializeFilter... filters) {
&nbsp;        return toJSONBytes(object, filters, new SerializerFeature[0]);
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, int defaultFeatures, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, defaultFeatures, features);
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, SerializeFilter filter) {
&nbsp;        return toJSONBytes(object, SerializeConfig.global, new SerializeFilter[] {filter}, DEFAULT_GENERATE_FEATURE);
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, SerializeFilter filter, SerializerFeature... features) {
&nbsp;        return toJSONBytes(
&nbsp;                object,
&nbsp;                SerializeConfig.global,
&nbsp;                new SerializeFilter[]{filter},
&nbsp;                DEFAULT_GENERATE_FEATURE,
&nbsp;                features
&nbsp;        );
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            SerializeFilter[] filters,
&nbsp;            String dateFormat,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, defaultFeatures, features);
&nbsp;
&nbsp;        if (dateFormat != null &amp;&amp; !dateFormat.isEmpty()) {
&nbsp;            context.setDateFormat(dateFormat);
&nbsp;        }
&nbsp;
&nbsp;        for (SerializeFilter filter : filters) {
&nbsp;            configFilter(context, filter);
&nbsp;        }
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(Object object, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;
&nbsp;        try (JSONWriter writer = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            return writer.getBytes();
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;toJSONBytes error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static byte[] toJSONBytes(
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        return toJSONBytes(object, config, new SerializeFilter[0], defaultFeatures, features);
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            writer.setRootObject(object);
&nbsp;            writer.writeAny(object);
&nbsp;            return writer.toString();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONStringZ(Object object, SerializeConfig mapping, SerializerFeature... features) {
&nbsp;        return toJSONString(object, mapping, new SerializeFilter[0], null, 0, features);
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            SerializeFilter filter,
&nbsp;            SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(config, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter writer = JSONWriter.of(context)) {
&nbsp;            if (config.propertyNamingStrategy != null
&nbsp;                    &amp;&amp; config.propertyNamingStrategy != PropertyNamingStrategy.NeverUseThisValueExceptDefaultValue) {
&nbsp;                NameFilter nameFilter = NameFilter.of(config.propertyNamingStrategy);
&nbsp;                if (filter instanceof NameFilter) {
&nbsp;                    filter = NameFilter.compose(nameFilter, (NameFilter) filter);
&nbsp;                } else {
&nbsp;                    configFilter(context, nameFilter);
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;            configFilter(context, filter);
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                writer.writeNull();
&nbsp;            } else {
&nbsp;                writer.setRootObject(object);
&nbsp;                Class&lt;?&gt; valueClass = object.getClass();
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(valueClass, valueClass);
&nbsp;                objectWriter.write(writer, object, null, null, 0);
&nbsp;            }
&nbsp;            return writer.toString();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(
&nbsp;            Object object,
&nbsp;            SerializeFilter filter,
&nbsp;            SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        configFilter(context, filter);
&nbsp;
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            return jsonWriter.toString();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONString(Object object, int defaultFeatures, SerializerFeature... features) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, defaultFeatures, features);
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.of(context)) {
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            return jsonWriter.toString();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static String toJSONStringWithDateFormat(
&nbsp;            Object object,
&nbsp;            String dateFormat,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.of(context)) {
&nbsp;            context.setDateFormat(dateFormat);
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            return jsonWriter.toString();
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Object object,
&nbsp;            SerializerFeature... features) throws IOException {
&nbsp;        return writeJSONString(os, object, new SerializeFilter[0], features);
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Object object,
&nbsp;            SerializeFilter[] filters) throws IOException {
&nbsp;        return writeJSONString(os, object, filters, new SerializerFeature[0]);
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Charset charset,
&nbsp;            Object object,
&nbsp;            SerializerFeature... features
&nbsp;    ) throws IOException {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.ofUTF8(context)) {
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            byte[] bytes = jsonWriter.getBytes(charset);
&nbsp;            os.write(bytes);
&nbsp;            return bytes.length;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static void writeJSONString(Writer writer, Object object, SerializerFeature... features) {
&nbsp;        writeJSONString(writer, object, DEFAULT_GENERATE_FEATURE, features);
&nbsp;    }
&nbsp;
&nbsp;    public static void writeJSONString(
&nbsp;            Writer writer,
&nbsp;            Object object,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, defaultFeatures, features);
&nbsp;
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.ofUTF8(context)) {
&nbsp;            jsonWriter.setRootObject(object);
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;
&nbsp;            jsonWriter.flushTo(writer);
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Object object,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) throws IOException {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, defaultFeatures, features);
&nbsp;
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.ofUTF8(context)) {
&nbsp;            jsonWriter.setRootObject(object);
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            byte[] bytes = jsonWriter.getBytes();
&nbsp;            os.write(bytes);
&nbsp;            return bytes.length;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Charset charset,
&nbsp;            Object object,
&nbsp;            SerializeConfig config,
&nbsp;            SerializeFilter[] filters,
&nbsp;            String dateFormat,
&nbsp;            int defaultFeatures,
&nbsp;            SerializerFeature... features
&nbsp;    ) throws IOException {
&nbsp;        JSONWriter.Context context = createWriteContext(config, defaultFeatures, features);
&nbsp;        if (dateFormat != null &amp;&amp; !dateFormat.isEmpty()) {
&nbsp;            context.setDateFormat(dateFormat);
&nbsp;        }
&nbsp;
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.ofUTF8(context)) {
&nbsp;            for (SerializeFilter filter : filters) {
&nbsp;                configFilter(context, filter);
&nbsp;            }
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            byte[] bytes = jsonWriter.getBytes(charset);
&nbsp;            os.write(bytes);
&nbsp;            return bytes.length;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static final int writeJSONString(
&nbsp;            OutputStream os,
&nbsp;            Object object,
&nbsp;            SerializeFilter[] filters,
&nbsp;            SerializerFeature... features
&nbsp;    ) throws IOException {
&nbsp;        JSONWriter.Context context = createWriteContext(SerializeConfig.global, DEFAULT_GENERATE_FEATURE, features);
&nbsp;        try (JSONWriter jsonWriter = JSONWriter.ofUTF8(context)) {
&nbsp;            for (SerializeFilter filter : filters) {
&nbsp;                configFilter(context, filter);
&nbsp;            }
&nbsp;
&nbsp;            if (object == null) {
&nbsp;                jsonWriter.writeNull();
&nbsp;            } else {
&nbsp;                jsonWriter.setRootObject(object);
&nbsp;                ObjectWriter&lt;?&gt; objectWriter = context.getObjectWriter(object.getClass());
&nbsp;                objectWriter.write(jsonWriter, object, null, null, 0);
&nbsp;            }
&nbsp;            byte[] bytes = jsonWriter.getBytes();
&nbsp;            os.write(bytes);
&nbsp;            return bytes.length;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException ex) {
&nbsp;            Throwable cause = ex.getCause() != null ? ex.getCause() : ex;
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, cause);
&nbsp;        } catch (RuntimeException ex) {
&nbsp;            throw new JSONException(&quot;writeJSONString error&quot;, ex);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static JSONArray parseArray(String str, Feature... features) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        try (JSONReader jsonReader = JSONReader.of(
&nbsp;                str,
&nbsp;                createReadContext(JSONFactory.getDefaultObjectReaderProvider(), DEFAULT_PARSER_FEATURE, features))
&nbsp;        ) {
&nbsp;            if (jsonReader.nextIfNull()) {
&nbsp;                return null;
&nbsp;            }
&nbsp;
&nbsp;            JSONArray jsonArray = new JSONArray();
&nbsp;            jsonReader.read(jsonArray);
&nbsp;            return jsonArray;
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static JSONArray parseArray(String str) {
&nbsp;        if (str == null || str.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        JSONReader.Context context = createReadContext(
&nbsp;                JSONFactory.getDefaultObjectReaderProvider(),
&nbsp;                DEFAULT_PARSER_FEATURE
&nbsp;        );
&nbsp;        JSONReader reader = JSONReader.of(str, context);
&nbsp;
&nbsp;        try {
&nbsp;            List list = new ArrayList();
&nbsp;            reader.read(list);
&nbsp;            JSONArray jsonArray = new JSONArray(list);
&nbsp;            reader.handleResolveTasks(jsonArray);
&nbsp;            return jsonArray;
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; List&lt;T&gt; parseArray(String text, Class&lt;T&gt; type) {
&nbsp;        if (text == null || text.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;        ParameterizedTypeImpl paramType = new ParameterizedTypeImpl(new Type[]{type}, null, List.class);
&nbsp;
&nbsp;        try (JSONReader reader = JSONReader.of(
&nbsp;                text,
&nbsp;                createReadContext(JSONFactory.getDefaultObjectReaderProvider(), DEFAULT_PARSER_FEATURE))
&nbsp;        ) {
&nbsp;            return reader.read(paramType);
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; List&lt;T&gt; parseArray(String text, Class&lt;T&gt; clazz, ParserConfig config) {
&nbsp;        if (text == null || text.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;
&nbsp;        if (config == null) {
&nbsp;            config = ParserConfig.global;
&nbsp;        }
&nbsp;
&nbsp;        ParameterizedTypeImpl paramType = new ParameterizedTypeImpl(new Type[]{clazz}, null, List.class);
&nbsp;
&nbsp;        try (JSONReader reader = JSONReader.of(
&nbsp;                text,
&nbsp;                createReadContext(config.getProvider(), DEFAULT_PARSER_FEATURE))
&nbsp;        ) {
&nbsp;            return reader.read(paramType);
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; List&lt;T&gt; parseArray(String text, Class&lt;T&gt; type, Feature... features) {
&nbsp;        if (text == null || text.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;        ParameterizedTypeImpl paramType = new ParameterizedTypeImpl(new Type[]{type}, null, List.class);
&nbsp;
&nbsp;        try (JSONReader reader = JSONReader.of(
&nbsp;                text,
&nbsp;                createReadContext(JSONFactory.getDefaultObjectReaderProvider(), DEFAULT_PARSER_FEATURE, features))
&nbsp;        ) {
&nbsp;            return reader.read(paramType);
&nbsp;        } catch (com.alibaba.fastjson2.JSONException e) {
&nbsp;            Throwable cause = e.getCause();
&nbsp;            if (cause == null) {
&nbsp;                cause = e;
&nbsp;            }
&nbsp;            throw new JSONException(e.getMessage(), cause);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isValid(String str) {
&nbsp;        return com.alibaba.fastjson2.JSON.isValid(str);
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isValidArray(String str) {
&nbsp;        return com.alibaba.fastjson2.JSON.isValidArray(str);
&nbsp;    }
&nbsp;
&nbsp;    public static boolean isValidObject(String str) {
&nbsp;        return com.alibaba.fastjson2.JSON.isValidObject(str);
&nbsp;    }
&nbsp;
&nbsp;    public abstract &lt;T&gt; T toJavaObject(Class&lt;T&gt; objectClass);
&nbsp;
&nbsp;    public abstract &lt;T&gt; T toJavaObject(Type type);
&nbsp;
&nbsp;    public &lt;T&gt; T toJavaObject(TypeReference&lt;T&gt; typeReference) {
&nbsp;        Type type = typeReference != null ? typeReference.getType() : Object.class;
&nbsp;        return toJavaObject(type);
&nbsp;    }
&nbsp;
&nbsp;    public static &lt;T&gt; T toJavaObject(JSON json, Class&lt;T&gt; clazz) {
&nbsp;        if (json instanceof JSONObject) {
&nbsp;            return ((JSONObject) json).toJavaObject(clazz);
&nbsp;        }
&nbsp;
&nbsp;        String str = toJSONString(json);
&nbsp;        return parseObject(str, clazz);
&nbsp;    }
&nbsp;
&nbsp;    public static Object toJSON(Object javaObject) {
&nbsp;        if (javaObject instanceof JSON) {
&nbsp;            return javaObject;
&nbsp;        }
&nbsp;
&nbsp;        String str = JSON.toJSONString(javaObject);
&nbsp;        Object object = JSON.parse(str);
&nbsp;        if (object instanceof List) {
&nbsp;            return new JSONArray((List) object);
&nbsp;        }
&nbsp;        return object;
&nbsp;    }
&nbsp;
&nbsp;    public static Object toJSON(Object javaObject, SerializeConfig config) {
&nbsp;        if (javaObject instanceof JSON) {
&nbsp;            return javaObject;
&nbsp;        }
&nbsp;
&nbsp;        String str = JSON.toJSONString(javaObject, config);
&nbsp;        Object object = JSON.parse(str);
&nbsp;        if (object instanceof List) {
&nbsp;            return new JSONArray((List) object);
&nbsp;        }
&nbsp;        return object;
&nbsp;    }
&nbsp;
&nbsp;    public static Object toJSON(Object javaObject, ParserConfig config) {
&nbsp;        if (javaObject instanceof JSON) {
&nbsp;            return javaObject;
&nbsp;        }
&nbsp;
&nbsp;        String str = JSON.toJSONString(javaObject);
&nbsp;        Object object = JSON.parse(str, config);
&nbsp;        if (object instanceof List) {
&nbsp;            return new JSONArray((List) object);
&nbsp;        }
&nbsp;        return object;
&nbsp;    }
&nbsp;
&nbsp;    public static List&lt;Object&gt; parseArray(String text, Type[] types) {
&nbsp;        if (text == null || text.isEmpty()) {
&nbsp;            return null;
&nbsp;        }
&nbsp;        List array = new JSONArray(types.length);
&nbsp;
&nbsp;        try (JSONReader reader = JSONReader.of(
&nbsp;                text,
&nbsp;                createReadContext(JSONFactory.getDefaultObjectReaderProvider(), DEFAULT_GENERATE_FEATURE))
&nbsp;        ) {
&nbsp;            reader.startArray();
&nbsp;            for (Type itemType : types) {
&nbsp;                array.add(
&nbsp;                        reader.read(itemType)
&nbsp;                );
&nbsp;            }
&nbsp;            reader.endArray();
&nbsp;            reader.handleResolveTasks(array);
&nbsp;            return array;
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static void addMixInAnnotations(Type target, Type mixinSource) {
&nbsp;        if (target != null &amp;&amp; mixinSource != null) {
&nbsp;            ObjectReaderProvider readerProvider = JSONFactory.getDefaultObjectReaderProvider();
&nbsp;            readerProvider.mixIn((Class) target, (Class) mixinSource);
&nbsp;
&nbsp;            ObjectWriterProvider writerProvider = SerializeConfig.DEFAULT_PROVIDER;
&nbsp;            writerProvider.mixIn((Class) target, (Class) mixinSource);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public static void removeMixInAnnotations(Type target) {
&nbsp;        ObjectReaderProvider readerProvider = JSONFactory.getDefaultObjectReaderProvider();
&nbsp;        readerProvider.mixIn((Class) target, null);
&nbsp;
&nbsp;        ObjectWriterProvider writerProvider = JSONFactory.getDefaultObjectWriterProvider();
&nbsp;        writerProvider.mixIn((Class) target, null);
&nbsp;    }
&nbsp;
&nbsp;    public static void clearMixInAnnotations() {
&nbsp;        ObjectReaderProvider readerProvider = JSONFactory.getDefaultObjectReaderProvider();
&nbsp;        readerProvider.cleanupMixIn();
&nbsp;
&nbsp;        ObjectWriterProvider writerProvider = JSONFactory.getDefaultObjectWriterProvider();
&nbsp;        writerProvider.cleanupMixIn();
&nbsp;    }
&nbsp;
&nbsp;    public static Type getMixInAnnotations(Type target) {
&nbsp;        ObjectReaderProvider readerProvider = JSONFactory.getDefaultObjectReaderProvider();
&nbsp;        Class mixIn = readerProvider.getMixIn((Class) target);
&nbsp;        if (mixIn == null) {
&nbsp;            mixIn = JSONFactory.getDefaultObjectWriterProvider().getMixIn((Class) target);
&nbsp;        }
&nbsp;        return mixIn;
&nbsp;    }
&nbsp;
&nbsp;    static class Cache {
&nbsp;        volatile char[] chars;
&nbsp;    }
&nbsp;
&nbsp;    public String toJSONString() {
&nbsp;        return com.alibaba.fastjson2.JSON.toJSONString(this, JSONWriter.Feature.ReferenceDetection);
&nbsp;    }
&nbsp;
&nbsp;    public String toString(SerializerFeature... features) {
&nbsp;        return JSON.toJSONString(this, features);
&nbsp;    }
&nbsp;
&nbsp;    public void writeJSONString(Appendable appendable) {
&nbsp;        if (appendable instanceof Writer) {
&nbsp;            JSON.writeJSONString((Writer) appendable, this);
&nbsp;            return;
&nbsp;        }
&nbsp;
&nbsp;        try {
&nbsp;            appendable.append(JSON.toJSONString(this));
&nbsp;        } catch (IOException e) {
&nbsp;            throw new JSONException(e.getMessage(), e);
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-09 22:40</div>
</div>
</body>
</html>
